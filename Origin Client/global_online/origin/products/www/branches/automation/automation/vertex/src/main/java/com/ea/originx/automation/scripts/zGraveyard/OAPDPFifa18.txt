package com.ea.originx.automation.scripts.pdp;import com.ea.originx.automation.lib.macroaction.MacroLogin;import com.ea.originx.automation.lib.macroaction.MacroPDP;import com.ea.originx.automation.lib.pageobjects.store.PDPHeroDescription;import com.ea.originx.automation.lib.resources.games.EntitlementId;import com.ea.originx.automation.lib.resources.games.EntitlementInfoHelper;import com.ea.originx.automation.scripts.EAXVxTestTemplate;import com.ea.vx.originclient.account.AccountManager;import com.ea.vx.originclient.account.UserAccount;import com.ea.vx.originclient.client.OriginClient;import com.ea.vx.originclient.client.OriginClientFactory;import com.ea.vx.originclient.resources.games.EntitlementInfo;import org.openqa.selenium.WebDriver;import org.openqa.selenium.WebElement;import org.testng.ITestContext;import org.testng.annotations.Test;import java.util.List;/** * Test PDP edition selection for Fifa 18 * * @author rslamka */public class OAPDPFifa18 extends EAXVxTestTemplate {    @Test(groups = {"pdp", "full_regression", "client", "browser"})    public void testPDPFifa18(ITestContext context) throws Exception {        final OriginClient client = OriginClientFactory.create(context);        final UserAccount userAccount = AccountManager.getRandomAccount();        EntitlementInfo multiEditionEntitlement = EntitlementInfoHelper.getEntitlementInfoForId(EntitlementId.FIFA_18);        final String multiEditionGameName = multiEditionEntitlement.getName();        final String RONALDO_EDITION = "Ronaldo Edition";        final String ICON_EDITION = "ICON Edition";        logFlowPoint("Launch Origin and login as user " + userAccount.getUsername()); //1        logFlowPoint("Navigate to the " + multiEditionGameName + " PDP page"); //2        logFlowPoint("Verify: There are edition selectors for the multiple versions"); // 3        logFlowPoint("Verify: There are edition selectors for the Ronaldo and Icon Editions"); // 4        logFlowPoint("Verify: Clicking on the " + RONALDO_EDITION + " brings you to the appropriate PDP page"); //5        logFlowPoint("Verify: Clicking on the " + ICON_EDITION + " brings you to the appropriate PDP page"); //6        //1        WebDriver driver = startClientObject(context, client);        if (MacroLogin.startLogin(driver, userAccount)) {            logPass("Verified login successful to user account: " + userAccount.getUsername());        } else {            logFailExit("Failed: Cannot login to user account: " + userAccount.getUsername());        }        //2        MacroPDP.loadPdpPage(driver, multiEditionEntitlement);        PDPHeroDescription pdp = new PDPHeroDescription(driver);        if (pdp.verifyGameTitle(multiEditionGameName)) {            logPass("Successfully navigated to FIFA 18's product detail page");        } else {            logFailExit("Failed: Could not navigate to FIFA 18's product detail page");        }        //3        if (pdp.verifyEditionCountIs(3)) {            logPass("There are 3 edition selectors for the Standard, Ronaldo, and ICON Fifa editions");        } else {            logFail("Failed: One or more of the Fifa edition selectors are missing");        }        //4        List<WebElement> editions = pdp.getEditions();        boolean ronaldoEditionLinkPresent = editions.get(0).getText().equals(RONALDO_EDITION);        boolean iconEditionLinkPresent = editions.get(1).getText().equals(ICON_EDITION);        if (ronaldoEditionLinkPresent && iconEditionLinkPresent) {            logPass("The " + RONALDO_EDITION + " and " + ICON_EDITION + " links were found");        } else {            logFailExit("Failed: The " + RONALDO_EDITION + " and/or the " + ICON_EDITION + " link(s) were missing");        }        //5        pdp.selectEdition(RONALDO_EDITION);        pdp.waitForPdpHeroToLoad();        boolean isRonaldoEditionUrl = pdp.getCurrentURL().contains(EntitlementId.FIFA_18_RONALDO.getPartialPdpUrl());        boolean isRonaldoEditionName = pdp.verifyGameTitle(EntitlementId.FIFA_18_RONALDO.getName());        if (isRonaldoEditionUrl && isRonaldoEditionName) {            logPass("The " + RONALDO_EDITION + " PDP loaded");        } else {            logFail("Failed: The " + RONALDO_EDITION + " PDP did not load");        }        //6        pdp.selectEdition(ICON_EDITION);        pdp.waitForPdpHeroToLoad();        boolean isIconEditionUrl = pdp.getCurrentURL().contains(EntitlementId.FIFA_18_ICON.getPartialPdpUrl());        boolean isIconEditionName = pdp.verifyGameTitle(EntitlementId.FIFA_18_ICON.getName());        if (isIconEditionUrl && isIconEditionName) {            logPass("The " + ICON_EDITION + " PDP is loaded");        } else {            logFail("Failed: The " + ICON_EDITION + " PDP did not load");        }        softAssertAll();    }}