<div class="origin-social-chatwindow-conversation-banner">

    <!-- PLAYING GAME -->
    <section ng-show="presence.show === 'INGAME' && !state.invited && !state.voiceCall" class="origin-social-chatwindow-conversation-banner-section">
        <span ng-show="!presence.isBroadcasting" class="otkc otkc-small">
            <strong class="origin-social-chatwindow-conversation-banner-text">{{playingLoc}}
                <a ng-show="showGameTitleHyperlink(presence)" href="javascript:void(0);" class="otkc otkc-small otka origin-social-chatwindow-conversation-banner-productlink" data-product-id="{{presence.gameActivity.productId}}" data-multiplayer-id="{{presence.gameActivity.multiplayerId}}">{{presence.gameActivity.gameTitle}} {{presence.gameActivity.richPresence}}</a>
                <span ng-show="!showGameTitleHyperlink(presence)" class="otkc otkc-small otka origin-social-chatwindow-conversation-banner-productlink">{{presence.gameActivity.gameTitle}} {{presence.gameActivity.richPresence}}</span>
                <span ng-if="presence.isGroupJoinable">{{(presence.groupActivity.groupName.length>0 ? playingInGroupWithNameLoc.replace('%group%', presence.groupActivity.groupName) : playingInGroupLoc)}}<span>
            </strong>
        </span>
        <span ng-show="presence.isBroadcasting" class="otkc otkc-small">
            <strong class="origin-social-chatwindow-conversation-banner-text">{{broadcastingLoc}}
                <a ng-show="showGameTitleHyperlink(presence)" href="javascript:void(0);" class="otkc otkc-small otka origin-social-chatwindow-conversation-banner-productlink" data-product-id="{{presence.gameActivity.productId}}" data-multiplayer-id="{{presence.gameActivity.multiplayerId}}">{{presence.gameActivity.gameTitle}} {{presence.gameActivity.richPresence}}</a>
                <span ng-show="!showGameTitleHyperlink(presence)" class="otkc otkc-small otka origin-social-chatwindow-conversation-banner-productlink">{{presence.gameActivity.gameTitle}} {{presence.gameActivity.richPresence}}</span>
            </strong>
        </span>

        <span class="origin-social-chatwindow-conversation-banner-action-links">
            <span ng-show="(presence.isJoinable || presence.isGroupJoinable) && presence.isCompatiblePlatform" class="otkc otkc-small">
              <strong>
                <a href="javascript:void(0);" ng-if="presence.isJoinable && !presence.isGroupJoinable && selfPresence.show !== 'UNAVAILABLE'" class="origin-social-chatwindow-conversation-banner-join otkc otkc-small otka">{{joinGameLoc}}</a>
                <a href="javascript:void(0);" ng-if="!presence.isJoinable && presence.isGroupJoinable && selfPresence.show !== 'UNAVAILABLE'" class="origin-social-chatwindow-conversation-banner-join otkc otkc-small otka">{{joinGroupLoc}}</a>
                <a href="javascript:void(0);" ng-if="presence.isJoinable && presence.isGroupJoinable && selfPresence.show !== 'UNAVAILABLE'" class="origin-social-chatwindow-conversation-banner-join otkc otkc-small otka">{{joinGameAndGroupLoc}}</a>
              </strong>
            </span>
        <span class="otkc otkc-small" ng-show="presence.isJoinable && presence.isBroadcasting"> {{orLoc}} </span>
        <span ng-show="presence.isBroadcasting" class="otkc otkc-small"><strong><a href="javascript:void(0);" class="origin-social-chatwindow-conversation-banner-watch otkc otkc-small otka" data-broadcast-url="{{presence.gameActivity.twitchPresence}}">{{watchLoc}}</a></strong></span>
        </span>

    </section>

    <!-- GAME INVITATIONS -->
    <section ng-show="presence.show === 'INGAME' && selfPresence.show !== 'UNAVAILABLE' && (presence.isJoinable || presence.isGroupJoinable) && presence.isCompatiblePlatform && state.invited && !state.voiceCall" class="origin-social-chatwindow-conversation-banner-section">
        <table class="origin-social-chatwindow-conversation-banner-section-invite-table">
            <tr>
                <td>
                    <a href="javascript:void(0);"><img ng-src="{{invitePackartSmall}}" class="origin-social-chatwindow-conversation-banner-packart" /></a>
                </td>
                <td width="100%" valign="top">
                    <span class="otkc otkc-small"><strong>
                        {{invitedToPlayLoc}}
                    </strong></span>
                    <br />
                    <span class="otkc otkc-small">
                        <strong>
                            <a ng-if="presence.isJoinable" href="javascript:void(0);" class="origin-social-chatwindow-conversation-banner-gameinvite-gamename otka"><strong>{{inviteGameName}}</strong></a>
                            <span ng-if="presence.isGroupJoinable" href="javascript:void(0);" class="origin-social-chatwindow-conversation-banner-gameinvite-gamename otkc otkc-small">
                                <strong>{{(presence.groupActivity.groupName.length>0 ? playingInGroupWithNameLoc.replace('%group%', presence.groupActivity.groupName) : playingInGroupLoc)}}</strong>
                            </span>
                        </strong>
                    </span>
                </td>
                <td valign="top">
                    <nobr>
                        <span class="otkc otkc-small">
                          <strong>
                            <a href="javascript:void(0);" ng-if='presence.isJoinable && !presence.isGroupJoinable' class="origin-social-chatwindow-conversation-banner-gameinvite-join otkc otkc-small otka">{{joinGameLoc}}</a>
                            <a href="javascript:void(0);" ng-if='!presence.isJoinable && presence.isGroupJoinable' class="origin-social-chatwindow-conversation-banner-gameinvite-join otkc otkc-small otka">{{joinGroupLoc}}</a>
                            <a href="javascript:void(0);" ng-if='presence.isJoinable && presence.isGroupJoinable' class="origin-social-chatwindow-conversation-banner-gameinvite-join otkc otkc-small otka">{{joinGameAndGroupLoc}}</a>
                          </strong>
                        </span>
                        <span class="otkc otkc-small"><strong> | </strong></span>
                        <span class="otkc otkc-small"><strong><a href="javascript:void(0);" class="origin-social-chatwindow-conversation-banner-gameinvite-ignore otkc otkc-small otka">{{ignoreLoc}}</a></strong></span>
                    </nobr>
                </td>
            </tr>
        </table>
    </section>

    <!-- VOICE CALLS -->
    <section ng-show="state.voiceCall" class="origin-social-chatwindow-conversation-banner-section">
        <span ng-show="voiceCallState === 'OUTGOING'" class="otkc otkc-small">
            <span ng-show="!callInProgress && !callInProgressOverride">
                <strong>
                    {{callingLoc}}
                    <span class="origin-social-chatwindow-conversation-banner-action-links">
                        <a href="javascript:void(0);" class="origin-social-chatwindow-conversation-banner-voicecall-cancel otkc otkc-small otka" keytarget>{{cancelLoc}}</a>
                    </span>
                </strong>
            </span>
            <span ng-show="callInProgress || callInProgressOverride">
                <div class="origin-social-chatwindow-conversation-banner-voicecall-labels">
                    <i class="otkicon otkicon-warning"></i>
                    <span><strong>{{inProgressCallUserStartedTitleLoc}}</strong></span>
                    <br />
                    <span>{{inProgressCallUserStartedDescriptionLoc}}</span>
                </div>
                <div class="origin-social-chatwindow-conversation-banner-voicecall-action-links">
                    <span class="origin-social-chatwindow-conversation-banner-voicecall-action-link origin-social-chatwindow-conversation-banner-inprogressvoicecall-action-link-accept" keytarget tabindex="-1"><i class="otkicon otkicon-callactive"></i></span>
                    <span class="origin-social-chatwindow-conversation-banner-voicecall-action-link origin-social-chatwindow-conversation-banner-inprogressvoicecall-action-link-cancel" keytarget tabindex="-1"><i class="otkicon otkicon-callinactive"></i></span>
                </div>
            </span>
        </span>

        <span ng-show="voiceCallState === 'INCOMING'" class="otkc otkc-small">
            <span>
                <div ng-show="!callInProgress && !callInProgressOverride && !anyCallInProgress" class="origin-social-chatwindow-conversation-banner-voicecall-labels">
                    <span><strong>{{incomingcallLoc}}</strong></span>
                    <br />
                    <span>{{iscallingLoc}}</span>
                </div>
                <div ng-show="anyCallInProgress || callInProgressOverride" class="origin-social-chatwindow-conversation-banner-voicecall-labels">
                    <i class="otkicon otkicon-warning"></i>
                    <span><strong>{{inProgressCallFriendStartedTitleLoc}}</strong></span>
                    <br />
                    <span>{{inProgressCallFriendStartedDescriptionLoc}}</span>
                </div>
                <div class="origin-social-chatwindow-conversation-banner-voicecall-action-links">
                    <span class="origin-social-chatwindow-conversation-banner-voicecall-action-link origin-social-chatwindow-conversation-banner-voicecall-action-link-answer"
                        keytarget tabindex="-1" aria-label="{{::answerCallLoc}}" role="button">
                        <i class="otkicon otkicon-callactive"></i>
                    </span>
                    <span class="origin-social-chatwindow-conversation-banner-voicecall-action-link origin-social-chatwindow-conversation-banner-voicecall-action-link-ignore"
                        keytarget tabindex="-1" aria-label="{{::ignoreCallLoc}}" role="button">
                        <i class="otkicon otkicon-callinactive"></i>
                    </span>
                </div>
            </span>
        </span>

    </section>
</div>
