//
// origin store row - layout
// -------------------------------------------------

#storecontent {
    .l-origin-store-row:first-child {
        margin-top: 42px;
    }
}

.l-origin-store-herorow {
    margin-bottom: @section-spacing-bottom;

    & ~ & {
        margin-top: -@section-spacing-bottom;
    }
}


.l-origin-store-row {
    @gutter-size: @tile-gutters-large;
    @margin-bottom: 32px;

    font-size: 0;
    margin-bottom: @section-spacing-bottom;
    .clearfix-block();

    &-offset-top {
        margin-top: 45px;
    }

    &.l-origin-section-gradient {
        #gradient.home();
        padding-bottom: 54px;
    }

    .flex-box {
        .display-flex();
        .flex-flow(row wrap);
        justify-content: space-around;
    }

    .origin-store-row-title {
        text-align: center;
        margin-bottom: 30px;
    }

    .l-origin-store-column {
        &-full,
        &-half,
        &-half-stackBelow,
        &-third,
        &-quarter {
            margin: 0;
            width: 100%;
        }

        &-half,
        &-half-stackBelow,
        &-third,
        &-quarter {
            margin-bottom: @margin-bottom;

            &:last-child {
                margin-bottom: 0;
            }
        }

        .media-min-width(@store-width-xsmall, {
            &-quarter,
            &-half,
            &-third {
                width: calc(50% - @gutter-size);
                float: left;
                margin-bottom: 0;

                &:first-child, &:nth-child(3) {
                    margin-right: @gutter-size;
                }

                &:nth-child(2), &:last-child:not(:first-child) {
                    margin-left: @gutter-size;
                }

                &:nth-child(3) {
                    clear: left;
                }
            }

            &-quarter,
            &-third{
                margin-bottom: @margin-bottom;

                &:nth-child(n+3) {
                    margin-bottom: 0;
                }
            }

            &-third {
                &:nth-child(3) {
                    float: none;
                    margin: 0 auto;
                }
            }
        });

        .media-min-width(@global-width-small, {
            &-half-stackBelow {
                position: relative;
                float: left;
                width: calc(50% - @tile-gutters-large);
                margin-bottom: 0;

                &:nth-child(2n) {
                    right: 50%;
                    margin-right: @gutter-size;
                }

                &:nth-child(2n+1){
                    left: 50%;
                    margin-left: @gutter-size;
                }
            }
        });

        .media-min-width(@store-width-medium, {
            &-half {
                width: calc(50% - @gutter-size);

                &:first-child, &:nth-child(3) {
                    margin-right: @gutter-size;
                }

                &:nth-child(2), &:last-child:not(:first-child) {
                    margin-left: @gutter-size;
                }
            }

            &-third {
                // This is a bit crazy looking, but its 100% - (4 of the gutters in between the 3 elements).
                // All divided by 3 elements
                @rounding-error: 0.5px;
                width: calc(((100% - (4 * @gutter-size))/3) - @rounding-error);
                margin-bottom: 0;

                &:first-child {
                    margin-right: @gutter-size;
                }

                &:nth-child(2) {
                    margin: 0 @gutter-size;
                }

                &:nth-child(3) {
                    margin-left: @gutter-size;
                    clear: none;
                    float: left;
                }
            }

            &-quarter {
                width: calc(50% - @gutter-size);

                &:first-child, &:nth-child(3) {
                    margin-right: @gutter-size;
                    margin-left: 0;
                }

                &:nth-child(2), &:last-child:not(:first-child) {
                    margin-left: @gutter-size;
                    margin-right: 0;
                }
            }
        });

        .media-min-width(@store-width-large, {
            &-quarter {
                // 100% - (6 of the gutters in between the 4 elements). All divided by 4 elements
                width: calc((100% - (6 * @gutter-size))/4);
                margin-bottom: 0;

                &:first-child {
                    margin-right: @gutter-size;
                }

                &:nth-child(2),
                &:nth-child(3) {
                    margin: 0 @gutter-size;
                    clear: none;
                }

                &:nth-child(5) {
                    clear: left;
                }

                &:last-child:not(:first-child) {
                    margin-left: @gutter-size;
                }
            }
        });
    }
}
