<section class="origin-social-conversation-toolbar" ng-show="isVoiceSupported || conversation.state === 'MULTI_USER'">

    <span ng-if="isVoiceSupported">
        <!-- voice quality meter -->
        <div ng-show="inVoip" class="origin-social-conversation-toolbar-quality-meter" origin-tooltip="{{qualityTooltip}}" origin-tooltip-placement="right">
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar0"></div>
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar1"></div>
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar2"></div>
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar3"></div>
        </div>

        <!-- voice call time -->
        <span ng-show="inVoip" class="origin-social-conversation-toolbar-calltime otkc otkc-small"><strong>{{calltimestr}}</strong></span>
    </span>

    <!-- invite to muc button -->
    <span class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-inviteicon" ng-show="conversation.state === 'MULTI_USER'"><i class="otkicon otkicon-addgroup"></i></span>

	<span ng-if="isVoiceSupported" class="origin-social-conversation-toolbar-right-icons">
        <!-- voice microphone / mute button -->
        <span ng-show="inVoip && !isLocalMuted" class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-micstatus" origin-tooltip={{muteLoc}} origin-tooltip-placement="left" keytarget tabindex="-1">
            <i class="otkicon otkicon-microphone"></i>
        </span>
            
        <span ng-show="inVoip && isLocalMuted" class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-micstatus" origin-tooltip={{unmuteLoc}} origin-tooltip-placement="left" keytarget tabindex="-1">
            <i class="otkicon otkicon-mute"></i>
        </span>

        <!-- voice level meter -->
        <div ng-show="inVoip" class="origin-social-conversation-toolbar-voicelevel-meter">
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar0"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar1"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar2"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar3"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar4"></div>
        </div>

        <!-- voice call / hang up button -->
        <span ng-show="!inVoip && !calling && chatPartnerPresence.show !== 'UNAVAILABLE' && selfPresence.show !== 'UNAVAILABLE' && !inProgressBannerActive"
              ng-class="{'isDisabled' : !xmppConnection.isConnected || !remoteVoice.isSupported}"
              class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-voipicon origin-social-conversation-toolbar-voipicon-call"
              origin-tooltip={{voipIconCallText}}
              origin-tooltip-placement="left" keytarget tabindex="-1">
            <i class="otkicon otkicon-callactive"></i>
        </span>

        <span ng-show="inVoip || calling || inProgressBannerActive" 
              class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-voipicon origin-social-conversation-toolbar-voipicon-hangup" 
              origin-tooltip={{endVoiceCallLoc}} origin-tooltip-placement="left" keytarget tabindex="-1">
            <i class="otkicon otkicon-callinactive"></i>

            <div class="otktooltip otktooltip-top origin-social-conversation-toolbar-tooltip">
                <b class="otktooltip-arrow"></b>
                <div class="otktooltip-inner">
                    {{endVoiceCallLoc}}
                </div>
            </div>
        </span>
        
        <!-- voice settings button -->
        <span class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-settingsicon"
              origin-tooltip={{voiceChatSettingsLoc}} origin-tooltip-placement="left" keytarget tabindex="-1">
            <i class="otkicon otkicon-settings"></i>
            <div class="otktooltip otktooltip-top origin-social-conversation-toolbar-tooltip">
                <b class="otktooltip-arrow"></b>
                <div class="otktooltip-inner">
                    {{voiceChatSettingsLoc}}
                </div>
            </div>
        </span>
</span>

</section>