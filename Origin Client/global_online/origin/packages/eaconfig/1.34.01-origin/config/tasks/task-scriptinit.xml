<!-- 
     (c) Electronic Arts. All Rights Reserved.
-->
<project>

  <createtask name="ScriptInit">
    <parameters>
      <option name="PackageName" value="Required" />
      <option name="IncludeDirs" />
      <option name="Libs" />
    </parameters>
    <code>
      <echo message="ScriptInit('${ScriptInit.PackageName}', '${ScriptInit.IncludeDirs}', '${ScriptInit.Libs}')" if="${nant.verbose}"/>

      <property name="package.${ScriptInit.PackageName}.includedirs" unless="@{StrIsEmpty(${ScriptInit.IncludeDirs})}">
        ${ScriptInit.IncludeDirs}
      </property>
      <property name="package.${ScriptInit.PackageName}.includedirs" if="@{StrIsEmpty(${ScriptInit.IncludeDirs})}">
        ${package.${ScriptInit.PackageName}.dir}/include
      </property>

      <fileset name="package.${ScriptInit.PackageName}.libs" unless="@{StrIsEmpty(${ScriptInit.Libs})}">
        <includes name="${ScriptInit.Libs}" />
      </fileset>
      <fileset name="package.${ScriptInit.PackageName}.libs" if="@{StrIsEmpty(${ScriptInit.Libs})}">
        <includes name="${package.${ScriptInit.PackageName}.builddir}/${config}/lib/${lib-prefix}${ScriptInit.PackageName}${lib-suffix}" />
      </fileset>
    </code>
  </createtask>

  <!-- Example usage
  <task name="ScriptInit" PackageName="mypackage" />
  <task name="ScriptInit" PackageName="mypackage" IncludeDirs="include" />
  <task name="ScriptInit" PackageName="mypackage" Libs="lib" />
  <task name="ScriptInit" PackageName="mypackage">
    <IncludeDirs>
      include
    </IncludeDirs>
    <Libs>
      lib
    </Libs>
  </task>
-->

</project>
