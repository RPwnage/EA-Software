<!-- 
     (c) Electronic Arts. All Rights Reserved.
-->
<project>
  <!-- 
        Copies just built programs to the stable directory.

        Assumes outputdir from build task was ${build-dir}/${name}

        Inputs
        
            ${name}       Name of the component just built


        Example

            <target name="ebotool">
                <property name="name" value="ebotool"/>
                <build name="${name}" ...>
                    ...
                </build>
                <call target="copyprogram" force="true"/>
            </target>        
    -->

  <do if="false">
    <target name="copyprogram">
      <fail unless="@{PropertyExists('name')}"  message="Property 'name' not defined."/>
      <fail unless="@{StrLen('${name}')} gt 0"  message="Property 'name' not defined."/>

      <!-- copy program to stable -->
      <copy todir="${stable-dir}/bin/${config-platform}">
        <fileset basedir="${build-dir}/${name}">
          <includes name="${name}${config-type}${exe-suffix}"/>

          <!-- use trailing wildcard for optional files that may not be present -->
          <includes name="${name}${config-type}.pdb*"/>
        </fileset>
      </copy>

      <!-- reset name property to prevent it from being used by another target -->
      <property name="name" value=""/>
    </target>
  </do>

</project>
