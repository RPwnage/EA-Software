<!-- 
     (c) Electronic Arts. All Rights Reserved.
-->
<project>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <do unless="'@{OptionSetGetValue('eaconfig.targets', 'nantvcproj')}' == 'exclude'">
    <target name='nantvcproj' description='Generate a Nant makefile style Visual Studio project for the package'>
      <!-- Determine the Visual Studio version number to generate project for -->
      <property name="vs-version" value="7.1" />
      <do if="@{PropertyExists('package.VisualStudio.version')}">
        <property name="vs-version" value="7.0" if="${package.VisualStudio.version} lt '7.1'" />
        <property name="vs-version" value="8.0" if="${package.VisualStudio.version} gt '8.0'" />
      </do>
      <!-- generate a visual studio project -->
      <generateproject version='${vs-version}' >
        <fileset basedir='${package.dir}' sort='true'>
          <!-- includes -->
          <includes name='**'/>

          <!-- excludes -->
          <excludes name='build\**'/>
          <excludes name='bin\**'/>
          <excludes name='*.vcproj'/>
          <excludes name='*.vcxproj'/>
          <excludes name='*.sln'/>
          <excludes name='*.suo'/>
          <excludes name='*.ncb'/>
        </fileset>
      </generateproject>
    </target>
  </do>


  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <do unless="'@{OptionSetGetValue('eaconfig.targets', 'post')}' == 'exclude'">
    <target name="post" description="Post zip to package server" depends="package" >
      <copy file="${package.builddir}/${package.name}-${package.targetversion}.zip" todir="\\eac-as5.eac.ad.ea.com\incoming"/>
    </target>
  </do>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <do unless="'@{OptionSetGetValue('eaconfig.targets', 'post-external')}' == 'exclude'">
    <target name="post-external" description="Post external zip to package server" depends="package-external" >
      <copy file="${package.builddir}/${package.name}-external-${package.targetversion}.zip" todir="\\eac-as5.eac.ad.ea.com\incoming"/>
    </target>
  </do>

</project>
