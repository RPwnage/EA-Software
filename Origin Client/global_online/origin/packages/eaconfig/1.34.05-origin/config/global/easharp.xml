<!-- 
     (c) Electronic Arts. All Rights Reserved.
-->
<project>
  <optionset name="config-options-easharplibrary">
    <option name="buildset.name"						value="EASharpLibrary" />
    <option name="buildset.tasks"						value="csc" />
    <option name="buildset.csc.target" 	    value="library" />
    <option name="easharp"			            value="true" />
    <option name="easharp.llc-flags"	      value="" />
    <option name="easharp.extension"	      value="dll" />
    <option name="delayedinit" value="eaconfig-init-easharpcommon" />
  </optionset>

  <target name="eaconfig-init-easharpcommon" hidden="true">
    <include file="../platform/pc-vc.xml" />
    <dependent name="DotNet" />
    <dependent name="DotNetSDK" />
    <property name="build.env.PATH" value="${property.value};${package.DotNet.appdir}"/>

    <property name="build.resgen.program" value="${package.WindowsSDK.tools.resgen??${package.DotNetSDK.appdir}\bin\resgen.exe}" />

    <choose>
      <do if="@{PropertyExists('package.eaconfig.isusingvc8')}">
        <fail message="ERROR: Microsoft .NET 1.1 is not compatible with Visual Studio 2005.  Please update your masterconfig.xml to use Microsoft .NET 2.0." unless="${package.DotNet.version} gte '2.0'"/>
        <fail message="ERROR: Microsoft .NET 1.1 SDK is not compatible with Visual Studio 2005.  Please update your masterconfig.xml to use Microsoft .NET 2.0 SDK." unless="${package.DotNetSDK.version} gte '2.0'"/>
      </do>
      <do>
        <fail message="ERROR: Microsoft .NET 2.0 is not compatible with Visual Studio .NET 2003.  Please update your masterconfig.xml to use Microsoft .NET 1.1." if="${package.DotNet.version} gte '2.0'"/>
        <fail message="ERROR: Microsoft .NET 2.0 SDK is not compatible with Visual Studio .NET 2003.  Please update your masterconfig.xml to use Microsoft .NET 1.1 SDK." if="${package.DotNetSDK.version} gte '2.0'"/>
      </do>
    </choose>
  </target>


  <target name="easharp-build-native-from-managed-postbuild" hidden="true">
    <dependent name="EASharp" />
    <include file="${package.EASharp.dir}\scripts\eaconfig\build_native_from_managed_postbuild.xml"/>
    <call target="detail-easharp-build-native-from-managed-postbuild"/>
  </target>

  <target name="easharp-build-native-from-managed" hidden="true">
    <dependent name="EASharp" />
    <include file="${package.EASharp.dir}\scripts\eaconfig\build_native_from_managed.xml"/>
    <call target="detail-easharp-build-native-from-managed"/>
  </target>

</project>
