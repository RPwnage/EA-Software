DirtySock SDK 6.4.0 - October 30, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.27.00
        Framework   2.13.01
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 240.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-5
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.7776.0-proxy (August 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        ProtoTunnel
            Fixed an issue where an out of order packet was incorrectly causing ProtoTunnel to
            rematch the tunnel key instead of just discarding the packet.
            
        VoipGroup
            Fixed an issue where the mappings were incorrectly being registered when voipconnect
            failed.
            

DirtySock SDK 6.3.10 - October 22, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.27.00
        Framework   2.13.01
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 240.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-5
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.7776.0-proxy (August 2008)

    NOTE: XenonSDK was updated from 2.0.6995.1 to 2.0.7776.0.

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Added 'stun' control selector to allow developers to set the ProtoTunnel ref of a
            ConnApi ref before ConnApiOnline is called.  If the ProtoTunnel ref is set this way
            it will not be cleaned up when ConnApiDestroy is called.
            
        QosApi
            If QosApi fails to bind its socket to the iListenPort, it will now randomly bind to
            a random port.
            
            Added 'clpt' to get the current listen port of the qos socket.
            

DirtySock SDK 6.3.9 - September 23, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.01
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 240.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Added ConnApiAddCallback() and ConnApiRemoveCallback() which allows the user to add/remove
            multiple callbacks for ConnApi.
            

    DirtySDK (PS3)
        NetConn
            Updated from using sceNpManagerRequestTicket() to sceNpManagerRequestTicket2().
            
            Changed to explicitly request ticket version 3.0 for extended ticket information.
            

DirtySock SDK 6.3.8 - September 9, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.01
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 240.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Added uLocalTunnelPort to ConnApiUserInfoT to be used instead of uTunnelPort when
            using the local address information.
            
            Added uNetMask for use when comparing addresses.  Defaults to 0xffffffff so that the
            default behavior remains the same as previous releases.
            
            Added 'nmsk' control selector which sets the uNetMask value for address comparisons.

        DirtyNet
            Removed the unsafe use of unions for: ntohs, htons, ntohl, and htonl.

        ProtoUpnp
            Increased the control url buffer from 128 to 256 chars
            
            Fixed a bug where protoupnp would get stuck upon receiving an empty response.
            Windows ICS responds to an invalid control url with an empty response, hence
            causing protoupnp to get stuck.
            
            Xml elements that are empty now use the <node /> format instead of <node></node> format.
            
            Changed the order in which elements are listed in AddPortMapping requests to match that
            of Intel's UPnP framework example.

        QosApi
            Fixed a bug where the port was being converted to and from network order using
            htonl/ntohl instead of htons/ntohs.
            
            A minimum timeout is now set (5 seconds).
            
            Added 'time' control selector to allow the timeout to be set above the minimum
            timeout of 5 seconds.  This can be used to set different timeout values for
            separate requests.
            

    DirtySDK (Xenon)
        NetConn
            -mixedsecure mode now disables the DNS remap and configures the
            address/name remap tables so that nothing is remapped by default.

        QosApi
            Fixed a bug where the NAT callback was not being issued on Xenon.
            
            Added timeout functionality to mimick PC/PS3 functionality.
            

DirtySock SDK 6.3.7 - August 26, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.01
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 240.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

    NOTE: Updated to Framework 2.13.01

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            'cbfp' now accepts NULL to restore the default callback function.

        NetGameDist
        NetGameDistServ
            Improved debug error logging.

        ProtoTunnel
            Added code to prevent a possible buffer overflow.

        QosApi
            Fixed a bug in the HTTP request formatting.
            
            The HTTP module is now set to keep-alive.
            
            Bandwidth requests now include a service secret specified by the QoS HTTP response.
            
            Added firewall determation code.
            
            
    DirtySDK (PS3Xenon)
        HLBuddyApi
            Fix to handle PS3 buddy removal notices so that the buddy list is correctly updated.
            

    DirtySDK (Xenon)
        DirtySessionManager
            Added logging to show changes to the session flags.
            

DirtySock SDK 6.3.6 - August 12, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Various host migration fixes for non-gameserver games.
            
            Changed to not cut and re-init previously established connections in a host migration situation.
            
            Added return code to ConnApiAddClient().

        NetGameDist
        NetGameDistServ
            Improved debug error logging.

        NetResource
            Fixed another rare callback issue.

        QosApi
            Updated to work with new Blaze XML format.
            
            Added client version number to HTTP requests.

        TelemetryApi
            Added optional client bypass of authentication requirement.

    DirtySDK (PS3)
        NetConnPS3
            Fixed NetConnControl() 'scbs' selector to set the correct value.
            

DirtySock SDK 6.3.5 - August 5, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 241.001-1
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

    NOTE: ps3sdk was updated from 220.002-411 to 241.001-1.

Changes/bugfixes in this release:

    DirtySDK (All)
        NetResource
            Addressed bug where a callback that was cancelled would still get called.

        QosApi
            QosApiCreate() now takes in a port.  This is the port used by service request to issue the http
            requests to the QoS server.  This parameter is ignored on Xenon.            

            Bandwidth determination implemented on non-Xenon platforms.

            Added ‘extn’ status selector that takes in the request id and copies a sockaddr to the supplied
            buffer.  The sockaddr contains external IP and port information of the client, as seen by the QoS
            server.  This functionality can be used on both service requests and requests.  The ‘extn’ selector
            is ignored on Xenon.

            Added ‘spam’ control selector that sets the verbosity of the http module (ignored on Xenon).

            Added ‘sprt’ control selector that sets the service port (ignored on Xenon).


DirtySock SDK 6.3.4.1 - July 31, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        QosApi
            Updated QosApiCreate() to take a port for the service for non-Xenon platforms.
            
            Ongoing cleanup of non-Xenon code.  Bandwidth measurement is not yet functional and has been
            removed from this release.

    DirtySDK (PS3)
        NetConnPS3
            Fixed bug dealing with NULL pConfig and/or pOption parameters introduced in 6.3.4 release.

    DirtySDK (Xenon)
        NetConnXenon
            Fixed bug dealing with NULL pConfig and/or pParms parameters introduced in 6.3.4 release.

        QosApi
            Fixed a bug where the QosApi session was using default flags, so presence was enabled.  As only
            one presence session can be created this prevented game sessions from working when QosApi was
            created.
                        

DirtySock SDK 6.3.4 - July 29, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            ConnApiDisconnect() now calls VoipGroupClear() to remove any remaining mappings.

        LockerApi
            Added LockerApiControl('game') selector to set the optional game name that is sent in put requests.
            The previous mechanism to set this parameter is by specifying it in LockerApiFetchLocker(); this
            change simply adds an independent way to set it.

        NetGameDistServ
            Better logging of NetGameDistInputLocalMulti() errors.

        ProtoTunnel
            Increased size of per-tunnel packet aggregator to prevent overflow when sending very large packets.

        ProtoUpnp
            Moved client address acquisition from create function to addportmapping request (where it is used).
            This prevents an issue where the client address may not be available at module creation on some
            platforms.
            
        VoipGroup
            Added new VoipGroupClear() function.
            
            Fixed a bug in VoipGroupStatus().

    DirtySDK (PS3)
        NetConnPS3
            Updated so 1st party login util will be displayed when the network isn't properly prepared.  The new
            behavior is only enabled if NetConnConnect() is supplied a "silent=false" param.

    DirtySDK (Xenon)
        NetConnXenon
            Added new "-mixedsecure" NetConnStartup() option.  Mixed security starts up the network stack with
            security bypass enabled (like "-nosecure") but with the default security gateway enabled and no DNS
            (unlike "-nosecure").

            Updated so 1st party login util will be displayed when the network isn't properly prepared.  The new
            behavior is only enabled if NetConnConnect() is supplied a "silent=false" param.


DirtySock SDK 6.3.3 - July 15, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Fixed a crash referencing a null ProtoTunnel ref if tunnel is enabled and ConnApiUpdate() is called
            before ConnApiOnline().

        ProtoHttp
            Fixed a bug with ProtoHttpPost() when specifying a string buffer and using -1 to indicate the string
            length should be used as the send length, introduced in 6.3.0.

        ProtoTunnel
            Fixed to flip VDP packets that are identified by the embedded VDP header as fully encrypted from being
            bundled as unencrypted to encrypted.  In practice, this means VoIP connection, ping, and disconnection
            packets are now encrypted, while mic packets remain unencrypted.  This resolves violation of TCR 91.

    DirtySDK (PC)
        DirtyNetWin
            Fixed SocketInfo('prot') selector to function correctly if the socket descriptor is invalid (as is
            the case with a virtual socket).

    DirtySDK (PS3)
        DirtyNetPs3
            Modified SocketLookup() to return the HostentT structure with addr=0 and done=-1 instead of NULL when
            the thread creation fails.  This prevents downstream crashes where upper-layer code is assuming
            SocketLookup() cannot return NULL.

    DirtySDK (Xenon)
        ConnApiXenon
            Fixes for ConnApi+ProtoTunnel use.


DirtySock SDK 6.3.2 - June 24, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6995.1-proxy (March 2008)

    NOTE: Xenon SDK was updated from 6534.4 (November 2007) to 6995.1 (March 2008).

Changes/bugfixes in this release:

    DirtySDK (All)
        NetGameDist
            Modified NetGameDistInputPeek() to allow a NULL buffer to simply return the input size.  This allows
            the caller to make sure the output buffer is large enough before pulling the data out and potentially
            trashing memory.
            
            Added some more error codes.
            
        NetGameDistServ
            Check peek input size before pulling packet to prevent memory trashing if the input is too large.

    DirtySDK (PS3)
        DirtyAddrPS3
            Fixed an uninitialized buffer bug found by inspection.

    DirtySDK (Xenon)
        DirtyAddrXbox
            Added xenon-specific DirtyAddrGetInfoXenon() and DirtyAddrSetInfoXenon() functions.  These functions
            get and set the XUID and XnAddr from/to a DirtyAddrT and replace duplicate functionality previously
            implemented in lobbylogin.c (Set) and dirtysessionmanager (get).
            
        DirtySessionManager
            Replaced in-line code to extract XnAddr from a DirtyAddrT with a call to DirtyAddrGetInfoXenon().


DirtySock SDK 6.3.1 - June 17, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

Changes/bugfixes in this release:

    DirtySDK (All)
        CommUDP
            Moved host ip/port extraction from socket to _CommUDPSetSocket(), where it is called immediately
            after the socket is bound.  Previously this was delayed until a connection to the peer was
            established, so the local bind information was unavailable until that time.
            
            Changed _CommUDPListen0() to attempt to bind to port zero (any) as a fallback if the initial bind
            attempt fails.  This change mirrors the behavior of _CommUDPConnect0().
        
        ConnApi
            Correctly processing all connections when importing from one connapi to another, not just one.

            Added ConnApiStatus('tprt') selector to return port tunnel has been bound to (if available).

            Added new function ConnApiFindClientById().

            Added tunnel port to userinfo, used to specify the remote tunnel port when it is not the default.
            
            Switched to use dirtyusernamecompare internally instead of strcmp.

            Fixed a bug in _ConnApiRemoveClient(), where the incoming client index was being clobbered partway
            through the function before being passed to the user callback at the tail end of the function.

            If tunnel is enabled, added a check after initiating a connection to determine if the local bind
            port of the game/voip socket is different from what was expected.  If so, the tunnel port mapping
            is updated so data intended for that port map index will be forwarded to the right socket.  This
            is useful when running multiple servers or clients on the same host.

            Added new function ConnApiAddClient2(), which is identical to ConnApiAddClient() except that the
            new client is added at the specified index, instead of simply being appended to the end of the
            clientlist.

            Added new function ConnApiRemoveClient2(), which is identical to ConnApiRemoveClient() except that
            the clientlist is not contracted following the removal.

            Fixed a bug where only the first element of the client list was cleared on ConnApiDisconnect()
            instead of the whole list.  This has no effect with normal ConnApi operation, but was exposed when
            using the new (optional) functionality to not contract the client list on client removal.
            
        NetGameDist
            Changed NetGameDistInputPeek() to set the length after the copy, so that the returned value is good
            even if the length is in the passed in buffer.  Should never happen, but makes debugging more sane.
            
            Fixed _NetGameDistPollStream() to use memmove() instead of memcpy() since buffers might overlap.

        NetGameDistServ
            Added debug code to validate that peeked length does not overflow the input buffer.
            
            Bumped up stream buffer sizes from 4k to 10k to handle increased stream traffic with 20p FIFA
            OTP games.
            
            Added code to meter queue usage.

        NetGameUtil
            Moved host (local/bind) ip/port sniffing earlier in the process to immediately following the
            Connect() or Listen() attempt, where previously it was not sniffed until after a connection had been
            established.  This makes the information available immediately after the bind operation, instead of
            only being available after a connection is completed.

        ProtoTunnel
            Added new function ProtoTunnelUpdatePortList(), which enables updating the port list for a
            previously allocated tunnel.

        Voip
            Added new function VoipRemove2(), which is identical to VoipRemove() except that the connectionlist
            is not contracted following the removal.

        VoipGroup
            Bumped the max number of connections to 32, from 16.
            
            Added new function VoipGroupRemove2(), which is identical to VoipGroupRemove() except that the
            connectionlist is not contracted following the removal.

    DirtySDK (DS)
        DirtyWmManager
            Added debug strings to describe adhoc states.
            
            Changed congestion scanning to happen each time a game is hosted (rather than only when wmmanager
            is started).
            
            Fixed leak of send and receive buffers when game is ended without being started.
            
            Send Queue is now cleared on reset.
            
            Added warning if terminate callback is received unexpectedly.
            
            Added new internal state to track termination errors.
            
            Added blocking wait to DirtyWmManagerDestroy() to prevent WM memory being freed before the
            termination callback is received.


DirtySock SDK 6.3.0 - May 29, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

New in this release:

    DirtySDK (All)
        ProtoHttp
            Added ability to execute a streaming post/put operation with an unknown content length (useful for
            dynamically generated content where the content length is not known when the operation is started).
        
        QosApi
            New Quality of Service API.  Initial implementation is on Xenon and wraps the provide Xenon APIs
            that provide similar functionality.  A stub implementation is available for other platforms, and
            full functionality will be available in a later DirtySock release.
        
        WebLog
            New module intended to allow easy posting of debug output to a webserver for analysis, for use in
            situations where it is difficult or impossible to get debug output.  A simple integration example
            is included in the PS3 "ticker" sample code (samples\ps3\ticker).

Changes/bugfixes in this release:

    DirtySDK (All)
        DirtyNet
            Added serviceid to SocketAddrMapT and SocketNameMapT structures.
        
        LobbyLan
            Fixed host to destroy advertising module instead of simply withdrawing the advertisement when
            calling LobbyLanLeaveGame().
        
        NetGameDist
            Fixed to prevent the wrap-around of the number of frames without data.  Removes the few empty
            netgamedist packets being sent at regular intervals from the GS, when there's no traffic.

            Added a netgamedisttweak selector to clear the input queues.
        
        NetGameDistServ
            Implemented explicit StopGame mechanism (to match the previously existing StartGame method).
            
        ProtoHttp
            Added ability to ignore 1xx (INFORMATIONAL) server responses.  The 1xx response header is cached and
            may be retrieved for custom parsing if desired using the ProtoHttpStatus('info') selector, as long
            as it is not overwritten by a subsequent header.  The 'info' selector will clear the internal info
            status so it will only return the header if it is new.

    DirtySDK (DS)
        DirtyWmManager
            Fixed to reset send queue when a reset callback is received.  This clears any unsent data so
            subsequent games don't steadily lose send queue slots that will never be cleared.
        
    DirtySDK (PS3)
        DirtyNetPS3
            Fixed SocketDestroy() to ensure _SocketRecvThread() and _NetLibThread() exit before sys_net_finalize_network()
            is called.  In certain instances when shutting down sys_net_free_thread_context() could be called
            after sys_net_finalize_network() and could cause a crash

        NetConnPS3
            Fixed to guard NetConnStatus('tick') when called with a negative ticket size, which is indicative
            of a ticketing retrieval error.  This prevents a memcpy() with the size being the unsigned
            representation of the negative number which would cause an exception.

    DirtySDK (Revolution)
        DirtyNetRev
            Fixed a crash bug in SocketSendto() when sending a ping request after a network disconnect process
            had been initiated.

    DirtySDK (Xenon)
        DirtyNetWin
            Fixed 'xapr' and 'xnpr' SocketInfo() selectors, which were incorrectly placed in a block where a
            valid socket ref is required.

            Changed _MapAddress() to set the ServiceId from the socket map entry into the misc field of the
            resultant sockaddr.
            
            Changed _SocketLSPQueryDone() to carry over the new serviceid field from the name map to the
            generated address map.

        DirtySessionManager
            Fixed to update session creation flags after migration.
            
            Force the invite_disabled and join_via_presence_disabled flags for ranked games.


DirtySock SDK 6.2.3 - May 13, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Added guards in ConnApiOnline() to prevent modules from being doubly allocated (and leaking
            previously allocated versions) if the function is called more than once per ConnApiCreate()/
            ConnApiDestroy() block although this is not a suggested usage.
        
        DirtyGraph
            Fixed a bug where the code would crash if it attempted to parse a jpg or png when either of those
            refs failed to get created due to lack of enough memory to create them.
        
        ProtoHttp
            Fixed a bug with header-append code.  When appending a header the code was doing a case-insensitive
            search for the text "Accept" to find the insertion point.  If the string "accept" appeared in the
            URL, it would find that instead of the Accept: header, and incorrectly append the header in that
            location.  The search string has been changed to \nAccept:, which guarantees text in the URL will
            not inadvertently be found.
        
        VoipGroup
            Fixed broken memgroup usage.
            
            Fixed to be able to deal with a Voip ref that does not exist (for example on PSP).

    DirtySDK (DS)
        DirtyNetDSInet
            Fixed two prototype for stub functions that are compiled when linking out Inet functionality.

    DirtySDK (PC/Xbox/Xenon)
        DirtyNetWin
            Updated _MapNameMatch() to support a wildcard character at either the beginning or end of the name
            string (previously, a wildcard was only allowed at the beginning of a string).
            
            Added new SocketControl() selectors +xam/-xam to add/del an addr map entry and +xnm/-xnm to add/del
            a name map entry.
            
            Added new debug-only SocketInfo() selectors 'xapr' and 'xnpr' to print the current addr/name map
            tables, respectively.

    DirtySDK (PS3)
        DirtyNetPS3
            Changed _SocketLookupThread to cache the memgroup used to allocate the HostentT structure so that
            the state does not need to be referenced when the memory is freed before the thread terminates.  This
            makes the thread more robust in situations where the state has been destroyed behind its back
            (although that should not happen anyway).

        NetConnPS3
            Fixed a NetConnConnect() bug handling an sceNpInit() failure (which can happen if the network cable
            is not plugged in); the NP pool memory was freed but NetConn's copy of the pointer was not cleared,
            which would cause subsequent memory corruption to occur when calling NetConnDisconnect().
            
            Fixed NetConnDisconnect() to call sceNpTerm() and release the NP pool memory only if the NP pool
            memory pointer is not NULL.
        
    DirtySDK (Xenon)
        ConnApiXenon
            Fixed a session migration issue.
        
        DirtyLSPXenon
            Fixed secure address conversion after successful LSP lookup to use NetConnStatus('xlsp') instead
            of the 'titl' selector that was deprecated in the first V6 release.
            

DirtySock SDK 6.2.2 - May 6, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

Changes/bugfixes in this release:

    DirtySDK (All)
        ConnApi
            Correct import of userset voip connections into games.

        WebOffer
            Fixed change from previous release that was supposed to fix URL encoding of elements with space
            characters, but did not.  Also cleaned up the URL formatting code to make it simpler.

    DirtySDK (Revolution)
        DirtyNetRev
            Added code to detect a SO_ENETRESET error code and set the module connection status (which can be
            polled via NetConnStatus('conn') to '-rst' when this occurs.  This is the Nintendo-approved method
            of detecting a global network reset event such as an ethernet cable disconnect.

    DirtySDK (Xenon)
        ConnApiXenon
            Fixed an issue exposed by successive userset sessions.
        
        DirtySessionManager
            Xbox 360 TrueSkill reporting supports weighted rematch.
            

DirtySock SDK 6.2.1 - April 29, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

New in this release:

    Platform (All)
        Added new function ds_localtime(), to provide cross-platform "localtime" functionality.  The initial
        implementation is supported by PC, PS3, Linux, and Xenon platforms.  This function should be used to
        convert UTC/GMT time to local, rather than using ds_timezone().

Changes/bugfixes in this release:

    Platform (All)
        Fixed a bug in ds_strtotime() parsing certain date/time string formats ending with the year.

    DirtySock (All)

        WebOffer
            Fixed _WebOfferUrl() to use ProtoHttpUrlEncodeStrParm() to encode parameters instead of relying on
            TagField encoding.  In most cases TagField encoding is identical to URL encoding, however if a space
            is present in a parameter it quotes the string instead of encoding the space character, which is not
            valid URL encoding.  This fixes a bug encoding a persona name into a URL that includes a space
            character.
        
        XmlFormat
            Fixed _XmlEncodeString() to properly encode XML characters (not URL encoding) and not encode 8bit
            characters at all, for UTF-8 compatibility.
            
            Fixed XmlElemAddString() to use _XmlEncodeString() instead of just using snzprintf().

        XmlParse
            Fixed a bug parsing hex-encoded characters (e.g. &#xx;).        
            

DirtySock SDK 6.2.0 - April 22, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.13.00
        
        DS          DSCodeWarrior 3.3-3
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         ps3sdk 220-002-411
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch4-080227
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)
            
Changes/bugfixes in this release:

    Platform (All)
        Plat-time
            Changed ds_timezone() to return a signed value.
            
            Fixed a ds_strtotime() bug when coverting a date string formatted MM/DD/YYYY.  The month was being
            converted directly to an integer of range [1..12] but the time format requires it to be in the range
            of [0..11].

    DirtySock (All)
        ConnApi
            Disabled the import of p2p-voip connections into gameserver-voip games, and vice-versa.  At the
            moment, the connections will be cut and not restablished at the end of game, even if the original
            connapi survive.
        
        DirtyNames
            Fixed DirtyUsernameCompare() and DirtyUsernameSubstr() to deal with eight-bit characters safely.

        DirtyPNG
            Fixed an issue where some interlaced images were using filter types that required the previous
            scanline to be reset.  The previous scanline is now correctly cleared when each Adam7 pass is completed.

        ProtoHttp
            Fixed a timing bug on keep-alive connections where the server could time out the connection after
            the client had already sent a new request, and the client would notice the closed connection and go
            to the fail state.  In this situation ProtoHttp will now automatically attempt to reconnect and
            resend the same request a single time.

        ProtoSSL
            Fixed a bug in ProtoSSLRecv() where ProtoSSLUpdate() would not be called internally if the buffer
            was empty.  This was causing a bug in ProtoHttp() when using a secure conneciton and retrying a
            server closed keep-alive connection before use, where ProtoHttp() would receive zero (indicating
            the connection was still open) instead of -1 (indicating the connection had been closed).  This
            caused the subsequent transaction to fail.  Additionally, the change may increase download
            performance of secure traffic depending on the application call pattern of ProtoSSLUpdate() and
            ProtoSSLRecv().
            
        TelemetryApi
            Added debug diagnostic output in certain error conditions that do not return error codes.

        VoipGroup
            Fixed to clean up singleton ref after final VoipGroupDestroy() call.

        VoipTunnel
            Added VOIPTUNNEL_EVENT_DEADVOICE event triggered when voip data has stopped flowing from a given
            client.
            
            Changed voip addr/port matching to rematch if the addr/port changes from the previously matched
            value.  Previously the matching would only take place if the addr/port was not previously matched
            (zero).

    DirtySock (PC)
        VoipHeadsetPC
            Added VoipHeadsetStatus() 'idft' and 'odft' selectors to get the default input and output device
            indices, respectively, as specified in the control panel.

    DirtySock (PS3)
        DirtyNetPS3
            Added ability to continue connect processing if cellNetCtlInit() fails with
            CELL_NET_CTL_ERROR_NOT_TERMINATED.  In this instance, cellNetCtlTerm() will not be called on a
            subsequent disconnect.

    DirtySock (Revolution)
        NetConnRev
            Fixed NetConnDisconnect() to call the Socket-level disconnect function when in the ST_IDLE state:
            previously it would only work in ST_CONN state.

    DirtySock (Xenon)
        DirtySessionManager
            Fixed buffer length conversion issue from char to int16_t in DirtySessionManager that could allow
            buffer overruns for large invite strings.  Also increased the invite string buffer to 256 characters
            from the previous 128.
        
        NetConnXenon
            Switched to using DirtyUsernameCompare() for gamertag comparisons, instead of the (incorrect)
            case-sensitive and space-sensitive strcmp() that was previously being used.
            
            Fixed to not go to zero friends during a re-enumeration.
            
        VoipXenon
            Fixed a bug where if RegisterLocalTalker() failed, the XUID of the user in question was still set
            in the local port list.  This meant GetLocalChatData() would get called for that user even though
            they had not been registered, causing an Xbox 360 kernel assertion.


DirtySock SDK 6.1.1 - March 25, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.12.02
        
        DS          DSCodeWarrior 3.3-1
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         PlayStation3GCC 210.001
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch2-071127
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

New in this release:

    DirtySock (All)
        ProtoFilter
            Added ability to specify a callback that is used to drive the actual filter operation.  This is
            useful on non-Xbox/360 platforms because the callback can be used to hook up real filtering
            functionality (which is not supplied natively).  On xbox/360 platforms the new callback function
            is included but does nothing.
            
Changes/bugfixes in this release:

    DirtySock (All)
        ProtoHttp
            Fixed a bug where the client would request a close, but the server response would not include a
            Connection: close header, so the client would not actually close the connection.  This would cause
            a following transaction made to the same host to fail.  A Connection: close header in the server
            response is not required by the HTTP 1.1 specifications when the client makes the request.

    DirtySock (Xenon)
        NetConnXenon
        HLBudApiXenon
            Fixed so that the friends list gets cleared when user signs out.
            
        VoipXenon
            Fixed a bug in VoipLocalSetUser(), where if the XUID did not match a local user it would trash
            memory in the Voip ref.
            

DirtySock SDK 6.1.0 - March 18, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.25.00
        Framework   2.12.02
        
        DS          DSCodeWarrior 3.3-1
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         PlayStation3GCC 210.001
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.4.11-SDK3-071016
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch2-071127
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

Changes/bugfixes in this release:

    DirtySock (All)
        DirtyNet
            Added return values to SocketCreate() and SocketDestroy().

        NetGameDistServ
            Fixed a flow-control issue when a player disconnects instead of sending flow control 'lsnd'.
        
        NetGameUtil
            Fixed a bug in NetGameUtilReset() where the commref would be destroyed but the pointer not nulled.
            A subsequent call to NetGameUtilReset() (or NetGameUtilDestroy()) would cause a redundant destroy
            operation on the already freed ref.

        VoipGroup
            Added VoipGroupLocal() function.

        XmlFormat
            Fixed XmlFormatVPrintf() to allow period and colon characters in element names.
                

DirtySock SDK 6.0.2 - February 26, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.24.00
        Framework   2.12.02
        
        DS          DSCodeWarrior 3.3-1
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         PlayStation3GCC 210.001
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.3.4
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch2-071127
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

Changes/bugfixes in this release:

    DirtySock (All)
        ConnApi
            Imported connections from other ConnApi update Voip correctly.

        VoipGroup
            Passing back VOIP_CBTYPE_FROMEVENT, VOIP_CBTYPE_HSETEVENT and VOIP_CBTYPE_SENDEVENT correctly.
        
DirtySock SDK 6.0.1 - February 22, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.24.00
        Framework   2.12.02
        
        DS          DSCodeWarrior 3.3-1
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         PlayStation3GCC 210.001
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.3.4
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch2-071127
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)


New in this release:

    DirtySock (All)
        ConnApi
            ConnApi now uses VoipGroup for all of its Voip calls instead of directly using the Voip API, to allow
            for multiple ConnApi refs to share the singleton Voip ref.
            
        Voip
            VoipControl() now accepts 'uspk' and 'umic', which pass through to VoipSpeaker() and VoipMicrophone(),
            respectively.

        VoipConnection
            Fixed to clear the freed spot at the end of the list when removing a client.        
        
        VoipGroup
            VoipGroupControl() now accepts 'uspk' and 'umic', which pass through VoipGroupSpeaker() and
            VoipGroupMicrophone(), respectively.
            
    DirtySock (Revolution)
        NetConn
            Implemented automatic creation of ProtoUpnp module as described for other platforms in 6.0.0 release.

Changes/bugfixes in this release:

    DirtySock (All)
        LobbyLan
            Added ability to set minp and mout for gameutil refs.

        NetConn
            Fixed NetConnIdle() rate limiter to be initialized at start of day, to avoid it failing to work
            properly in situations where the tick counter starts at a large value.
        
        ProtoHttp
            Added verbose debug output for sent data and adjusted verbose levels for send/recv/read.

            Changed User-Agent header text to include ProtoHttp and DirtySock revision numbers for better
            server-side identification of client revision.  Also changed to not clobber User-Agent field when
            appending custom headers, unless the replacement header has its own User-Agent field.

        ProtoUpnp
            Fixed a bug where protoupnp destroy wasn't deleting the idle function.

            Changed to defer discovery socket bind to discovery packet send, instead of binding in
            ProtoUpnpCreate().  This allows ProtoUpnpCreate() to be called earlier on some platforms when a
            socket bind operation would fail.  Additionally, the socket bind will now be retried on discovery
            packet send until it works.

    DirtySock (PS3)
        HLBudApiPS3
            Cleaned up _HLBPrintfCode() to not early-out (was not executing vararg code) if user printf function
            is not defined, and instead to print using NetPrintf() in that case.

    DirtySock (Revolution)
        DirtyNetRev
            Added workaround for apparent SOGetPeerName() memory trashing bug where a memory block is written
            to after it is released.
        

    DirtySock (Xenon)
        DirtySessionManagerXenon
            Fixed _DirtySessionManagerSessionCreate() to guard against session creation with a NULL session
            string, preventing a crash.  Instead a debug diagnostic is printed and the function returns an
            error.
            

DirtySock SDK 6.0.0 - February 7, 2008

    This SDK release was built using the following compiler packages:
    
        EAConfig    1.24.00
        Framework   2.11.02
        
        DS          DSCodeWarrior 3.3-1
        PS2         PlayStation2SN 3.0.2-4 (Inet/EENet)
        PS3         PlayStation3GCC 210.001
                    PlayStation3NpEx 210.001
        PSP         PlayStationPortableSN 3.3.0
        Revolution  RevolutionCodeWarrior 3.0.5.2-2-patch-070622-2
                    RevolutionDWC_DL 1.3.4
                    RevolutionEX 2.0-patch-plus
                    RevolutionNDev 07.01.15-non-proxy
                    RevolutionSDK 3.1-patch2-071127
        Win32       DotNetSDK 2.0-1
                    VisualStudio 8.0.0-2-non-proxy
        Xbox        Xdk 1.0.5849.17 (December 2003 QFE)
        Xenon       XenonSDK 2.0.6534.4-proxy (November 2007)

    NOTE: With the V6 SDK release, all Lobby-specific functionality has been removed from the DirtySock SDK.
    These APIs are now available in a separate LobbySDK package.  Titles using Lobby functionality will need
    to reference both DirtySDK and LobbySDK moving forward.


New in this release:

    Build (All)
        All debug-stripped configurations have been removed.  Debug stripping is now done dynamically at
        release time instead of via fixed configurations.

        Added BuildStudio build file as the primary build file for the SDK.
        
        Deprecated BuildManager build file, as BuildManager itself has been deprecated.  The file will
        continue to be included until all functionality has been transitioned to the BuildStudio version.

    Build (DS)
        Changed to build thumb code by default instead of arm code.  Specify -D:dirtysdk-nds-nothumb=true
        on the nant command-line to build arm code instead.

        Added ability to build DirtySDK without Adhoc functionality, for titles that are Inet-only.  Specify
        -D:dirtysdk-nds-noadhoc on the nant command-line to build without Adhoc support.
        
        Added ability to build DirtySDK without Inet functionality, for titles that are Adhoc-only.  Specify
        -D:dirtysdk-nds-noinet on the nant command-line to build without Inet support.

    Build (PS3)
        Added support for ps3-sn configurations.  Note that DirtySDK requires eaconfig 1.25 or later to be
        able to build with the ps3-sn configurations.

    DirtySock (All)
        CommUDP
            Added ability to specify redundant packet size limit (previously hardcoded at 64 bytes) and
            unacknowledged data send limit (previously hardcoded at 2048).  These values can be specified
            at any time (after commref creation) with NetGameUtilControl() 'rlmt' and 'ulmt' selectors,
            respectively.

        ConnApi
            Switched to using VoipGroup API to allow multiple ConnApi refs to access the singleton VoIP
            without conflict.
            
            Added new API support for ConnApi to import connections from another ConnApi ref.  This is
            useful when migrating existing VoIP connections, for example from a UsersetManager ConnApi into
            a GameManager ConnApi (merging a userset with a game).          

        CryptRSA
            Rearranged CryptRSAT structure order to eliminate padding.  Also bumped KeyModData and KeyExpData
            arrays up to 256+1 bytes to accomodate VeriSign 2048 bit modulus.
            
            Added a sanity check on modulus and exponent size to CryptRSAInit().  If the modulus or exponent
            are too large a diagnostic warning is displayed and the sizes are clamped to the maximum, which
            prevents memory trashing.

        DirtyNames
            LobbyNames from DirtySDK V5 has been deprecated and renamed to DirtyNames.  Please change any
            references accordingly for previous behavior.
            
        NetConn (non-Xbox/Xenon platforms, not yet available on DS, PSP, or Revolution)
            Changed to create and own ProtoUpnp module.  ProtoUpnp is created in NetConnStartup() and
            destroyed in NetConnShutdown().  Router discovery and description process is started as early
            as possible (exactly when depends on the platform startup procedure) so that the sometimes
            lengthy process can take place at start of day.  Having NetConn own the ProtoUpnp module also
            means that when a port mapping deletion request is made by ConnApi after a game is complete
            it will have time to complete unless the entire network stack is shut down immediately.  This
            support is available for PC, PS2, PS3, and Wii platforms.  Support on DS, PSP, and Revolution
            platforms will be available in a subsequent release.          

            Added iData parameter to NetConnConnect() and deprecated NetConnConnect2().  Specify iData=0
            for previous behavior.
            
        NetGameDist
            Added flow control for server-based matches.  NetGameDistInputCheck() will wait for a remote
            "recv" packet.  NetGameDistServ broadcasts this "recv" packet when it has has received one
            from all of the clients.  This synchronization is useful for syncpoints that were previously
            implemented over streams (e.g. going into and out of a loading screen) and will be used to
            provide synchronization in rematch situations.

        NetGameDistServ
            NetGameDistServ changed to send 'lrcv' flow control both when going to true and when going to
            false.  Allows for stopping the flow to the clients.

        ProtoSSL
            Bumped up signature size from 128 to 256 bytes to accomodiate the VeriSign 2048 bit signature.
            Added VeriSign cert definition to list of allowed certificates.

        VoipGroup
            VoipGroup is a new module that handles a logical set of Voip connections.  Because the Voip module
            is a singleton, and Voip connection IDs are fixed, it becomes problematic to use Voip directly from
            multiple discrete modules.  VoipGroup assigns a logical pairing of group number and connection
            number to each connection, and maps that to a specific Voip connection index, which resolves the
            ambiguity.  VoipGroup calls replace the Voip calls that take a connection identifier or connection
            mask, and translate the local references into absolute references before calling the corresponding
            Voip function internally.  Note that making direct calls to these Voip functions when using
            VoipGroup is not supported and will cause hard-to-find bugs.

    DirtySock (DS)
        CommUDPDSAdhoc
            First version of Nintendo DS-specific Adhoc comm module.  This first version is a straight copy
            and rename of commudp, with some very slight alterations made that mirror changes made to
            PlayGround DS's copy of CommUDP last year.

        DirtyWmManager
            Added ability to specify a tgid (overrides random selection) using DirtyWmManagerControl() with
            the 'tgid' selector.  Added ability to specify channel (overrides scanning) using
            DirtyWmManagerControl() with the 'chan' selector.  Updated documentation to DirtyWmManagerStatus()
            and DirtyWmManagerControl().

    DirtySock (PS3)
        NetConnPS3
            Added NP signin id support.

            Added detection of kicked by duplicate login event.  NetConnStatus('conn') new returns '-dup'
            (as with other platforms) in this case instead of the more generic '-dsc'.

    DirtySock (Xenon)
        DirtySessionManager
            New module to take the place of ProtoMangleXenon, as the functionality in ProtoMangleXenon did
            not fit at all well within the ProtoMangle interface.  Most of the internal functionality
            remains the same.  As ProtoMangleXenon was not commonly used directly this change dies not
            affect most teams.

        VoipXenon
            Initial implementation of multiple local headset support.  Functionality is at an "alpha"
            quality state, so any teams planning on multiple local headset support for Xenon should
            contact GOS regarding further development plans unless otherwise noted in later
            changelog entries.
            

Changes/bugfixes in this release:

    Build
        Removed buddyapi for PS3 and Xenon builds.  BuddyApi is not used on either of these platfoms as we
        use the native messaging support instead.

    Platform (All)
        Fixed a bug in stristr().  When a match was found, the code would end up looking at one byte past
        the end of the null terminator for the static string "".  If that byte was not zero, the code would
        potentially crash.

    DirtySock (All)
        ConnApi
            Added abort of current demangle (if any) when removing a user.
            
            Added CommAllConstructT function pointer to ConnApiCreate() and renamed the function to
            ConnApiCreate2().  Added a ConnApiCreate() macro that calls ConnApiCreate2(), specifying
            CommUDPConstruct() for the construct call, and thus defaulting ConnApi to using CommUDP
            by default.
            
            Added abort of demangling when removing a user from the user list, if demangling is currently
            in progress (change does not apply to Xbox or Xenon versions).
        
        DirtyNet
            Removed mapping of socket reset error to no error.  It is unknown why this mapping was added in
            the first place, but it has been shown to cause problems on PS3.  Specifically, when a RST is
            received after a FIN on PS3 any subsequent operation on the socket will return a reset error
            instead of an indication that the socket is closed.  Previous to this change this error was
            ignored and the upper layer code believed the socket is still operating and would never detect
            that it was in fact closed.
            
            Added NetTickDiff() macro and changed various timeout calculations throughout the SDK to use it.

        LobbyLan
            Fixed a crash when game starts with 'kcon' option enabled.
            
            Added CommAllConstructT function pointer to LobbyLanCreate() and renamed the function to
            LobbyLanCreate2().  Added a LobbyLanCreate() macro that calls LobbyLanCreate2(), specifying
            CommUDPConstruct() for the construct call, and thus defaulting LobbyLan to using CommUDP
            by default.

            Modified roster update sending from host to send only to one user per execution of the lobbylan
            update loop.  This is required on NDS, where the queue size is too small to hold the entire roster
            at one time when there are a large number of clients.  In practice as long as the lobbylan update
            function is called frequently this has little impact on roster delivery times.

            Added reset of NetGameUtil ref used for advertising on LobbyLanReset().  This fixes a bug on
            NDS where games could be visible after a reset.

        LobbyTagField
            Added two new macros, TagFieldSetUnsignedNumber() and TagFieldGetUnsignedNumber(), to aid in
            setting/getting unsigned numbers without requiring user typecasting.

        LockerApi
            Added *pGameName parameter to LockerApiFetchLocker() and deprecated LockerApiFetchLocker2().
            Specify pGameName=NULL for previous behavior.
        
            Added iPerm parameter to LockerApiUpdateFileInfo() and deprecated LockerApiUpdateFileInfo2().
            Specify iPerm=-1 for previous behavior.

        NetConn
            Fixed NetConnIdle() rate limiter to work after timer overflow.  Practically speaking this would
            only happen on a PC or Linux platform.

        NetGameLink
            Added ability to disable sync packets, primarily for DS Adhoc use.  Call
            NetGameLinkControl(pRef, 'sync', 0) to disable (enabled by default).

        NetGameDist
            Deprecated NetGameDistSendStreamProc2() and NetGameDistRecvStreamProc2(), and added the extra
            parameter from these functions into NetGameDistSendStreamProc() and NetGameDistRecvStreamProc(),
            respectively.

            Fixed to double the packet window width when in server mode.  Because of the round-trips, twice
            as many packets can be in transit without it being an indication of congestion.

        NetGameUtil
            Deprecated ability for a single NetGameUtil ref to host multiple Comm refs.
            
            Deprecated bitfield macros previously used to select protocol.  Instead, a CommAllConstructT
            function pointer is passed into NetGameUtilConnect().  This allows the caller to specify the
            protocol they want and not link in other protocols that are not wanted.
        
        ProtoHttp
            Rewrote keep-alive and reconnection logic to fix two major bugs:
                #1 keep-alive didn't work at all
                #2 a request following a previous successful request could fail because the previous TCP
                connection was not being correctly detected as closed.

        ProtoMangle
            Added ProtoMangleControl() 'abrt' selector, which can be used to abort the current demangling
            process and return the module to an idle state.

        ProtoSSL
            If during the connection handshake the server requests a client certificate, ProtoSSL will now
            respond with a "no certificate" alert to conform with the SSL standard.  A server requesting a
            client certification may very well accept a connection even if no client certificate is presented.

            Fixed a call to _RecvPacket() that wasn't storing the return value.

        VoipConnection
            Changed error if a different bind port is specified than the previous bind port to a warning and
            allow connection to proceed.
        
        VoipTunnel
            Added VoipTunnel events for matching a remote client's address and port.

            Deprecated VOIPTUNNEL_MAXCLIENTS define.

            Deprecated VoipTunnelCreate2() and VoipTunnelCreate3(), and rolled their parameters into
            VoipTunnelCreate().

        Voip
            Added iMaxLocal parameter to VoipStartup() and deprecated VoipStartup2().  iMaxLocal is unused on
            non-xenon platforms but should be set to 1 for future compatibility on other platforms that may add
            multiple local headset support in the future.  Specifying iMaxLocal=1 on Xenon preserves previous
            behavior.
            
            Added *pValue parameter to VoipControl() and deprecated VoipControl2().  Set to NULL for
            compatibility with previous behavior.
            
            Added bRegister parameter to VoipSetLocalUser() and deprecated VoipSetLocalUser2().  bRegister is
            unused on non-xenon platforms but should be set to TRUE for future compatibility on other platforms
            that may add multiple local headset support.

            Added pUserId, uClientId, and uSessionId parameters to VoipConnect() function.
    
            Deprecated VoipConnect() macro - pass NULL for pUserId, zero for uClientId, and zero for uSessionId
            for previous functionality.
            
            Deprecated VoipConnect2() macro - pass zero for uClientId and zero for uSessionId for previous
            functionality.
            
            Deprecated VoipConnect3() macro - pass zero for uSessionId for previous functionality.

    DirtySock (DS)
        DirtyNetDSAdhoc
            Added ability to link in function stubs if Adhoc functionality is not going to be used.
            
        DirtyNetDSInet
            Added ability to link in function stubs if Inet functionality is not going to be used.        

        DirtyWmManager
            Fixed to invalidate scan cache when resetting child state.
            
            Deprecated DirtyWmManagerStatus() 'scbs' selector.

    DirtySock (IOP)
        NetGameUtil-i
            Hardcoded NetGameUtilConnect() to use CommUDPConstruct() directly, which preserves the previous
            functionality where CommUDP was the only supported protocol on ps2.

    DirtySock (PS2)
        NetGameUtil-e
            Added CommUDPConstruct() stub, which allows ps2 ee code to link against upper layer code that
            requires a construct ref to link.

    DirtySock (PS3)
        DirtyLibPS3
            Added a debug warning on a mutex lock request that fails with anything other than EBUSY.

        DirtyNetPS3
            Fixed debug warning on thread creation failure to look at the return code instead of threadid.
        
        HLBudApiPS3
            Fixed two functions that were returning constants instead of variables (pointed out by snc
            compiler warning).
        
            Fixed nasty memory leak in _HLBRecvMsgAttachmentResult(), which was using malloc() to allocate
            a temporary buffer and then never freeing it.

        NetConnPS3
            Removed old in-line commerce code that dated back to when the commerce functionality was not
            available in the sdk, and replaced it with the sdk include.

    DirtySock (Revolution)
        DirtyNetRev
            Changed so.h references to soex.h for compatibility with newer SDK releases.

    DirtySock (Xbox/Xenon)
        ProtoPingXbox/Xenon
            Fixed a bug where ProtoPingResponse() would return a zero (result pending) for a ping timeout
            instead of -1 (timeout).
        
        VoipConnectionXbox
            Updated size calculations for encrypted portion of voip packets to make sure all data is
            encrypted and voice is not.  Previously, some data fields had been added to the voice packet
            structures but the encrypted sizes were not increased accordingly.
            
        VoipXbox/VoipXenon
            Consolidated some Voip XUID functions in voippriv.

    DirtySock (Xenon)
        NetConnXenon
            Deprecated friends enumeration polling, as the enumeration was blocking and would cause framerate
            hitches.  NetConnStatus() and NetConnControl() 'frrt' selectors have been removed along with this
            change.
            
            Deprecated NetConnStatus() and NetConnControl() 'titl' selectors.  Use 'xlsp' selector in both cases
            instead.
            
            Removed code that detected legacy usage of various NetConnStatus() control selectors with the
            addition of 0-3 to specify the gamertag and converted it to the current usage, where the gamertag
            index is specified in a separate variable instead.
            
