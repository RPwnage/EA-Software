<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: protoadvt.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/d0e/protoadvt_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protoadvt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This advertising module provides a relatively simple multi-protocol distributed name server architecture utilizing the broadcast capabilities of UDP and IPX. Once the module is instantiated, it can be used as both an advertiser (server) and watcher (client) simultaneously.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d17/protoadvt_8h_source.html">DirtySDK/proto/protoadvt.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dba/structProtoAdvtPacketT.html">ProtoAdvtPacketT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">raw broadcast packet format  <a href="../../d9/dba/structProtoAdvtPacketT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d9f/structServListT.html">ServListT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a list of services  <a href="../../da/d9f/structServListT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">local module reference  <a href="../../da/dc5/structProtoAdvtRef.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5e583a4808296f5f3b7c1920bfcb398e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d9/dba/structProtoAdvtPacketT.html">ProtoAdvtPacketT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0e/protoadvt_8c.html#a5e583a4808296f5f3b7c1920bfcb398e">ProtoAdvtPacketT</a></td></tr>
<tr class="memdesc:a5e583a4808296f5f3b7c1920bfcb398e"><td class="mdescLeft">&#160;</td><td class="mdescRight">raw broadcast packet format  <a href="#a5e583a4808296f5f3b7c1920bfcb398e">More...</a><br/></td></tr>
<tr class="separator:a5e583a4808296f5f3b7c1920bfcb398e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25fa4563431cdc1ec78468155f6cb5b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../da/d9f/structServListT.html">ServListT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0e/protoadvt_8c.html#ae25fa4563431cdc1ec78468155f6cb5b">ServListT</a></td></tr>
<tr class="memdesc:ae25fa4563431cdc1ec78468155f6cb5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">a list of services  <a href="#ae25fa4563431cdc1ec78468155f6cb5b">More...</a><br/></td></tr>
<tr class="separator:ae25fa4563431cdc1ec78468155f6cb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga422cef2cf24e7681c449a787b892d48b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/group__ProtoAdvt.html#ga422cef2cf24e7681c449a787b892d48b">ProtoAdvtAnnounce</a> (<a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a> *ref, const char *kind, const char *name, const char *note, const char *addr, int32_t freq)</td></tr>
<tr class="memdesc:ga422cef2cf24e7681c449a787b892d48b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advertise a service as available.  <a href="../../d3/d5e/group__ProtoAdvt.html#ga422cef2cf24e7681c449a787b892d48b">More...</a><br/></td></tr>
<tr class="separator:ga422cef2cf24e7681c449a787b892d48b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga611e39c8d079d71f58619eb3aa634a13"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/group__ProtoAdvt.html#ga611e39c8d079d71f58619eb3aa634a13">ProtoAdvtCancel</a> (<a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a> *ref, const char *kind, const char *name)</td></tr>
<tr class="memdesc:ga611e39c8d079d71f58619eb3aa634a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel server advertisement.  <a href="../../d3/d5e/group__ProtoAdvt.html#ga611e39c8d079d71f58619eb3aa634a13">More...</a><br/></td></tr>
<tr class="separator:ga611e39c8d079d71f58619eb3aa634a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04b1b0f4987ed0106791b868024ce049"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/group__ProtoAdvt.html#ga04b1b0f4987ed0106791b868024ce049">ProtoAdvtQuery</a> (<a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a> *ref, const char *kind, const char *proto, char *buffer, int32_t buflen, int32_t local)</td></tr>
<tr class="memdesc:ga04b1b0f4987ed0106791b868024ce049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query for available services.  <a href="../../d3/d5e/group__ProtoAdvt.html#ga04b1b0f4987ed0106791b868024ce049">More...</a><br/></td></tr>
<tr class="separator:ga04b1b0f4987ed0106791b868024ce049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab511742aeed064e74de993005af6852f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/group__ProtoAdvt.html#gab511742aeed064e74de993005af6852f">ProtoAdvtLocate</a> (<a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a> *ref, const char *kind, const char *name, uint32_t *host, uint32_t defval)</td></tr>
<tr class="memdesc:gab511742aeed064e74de993005af6852f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locate a specific advertisement and return advertisers address (UDP only)  <a href="../../d3/d5e/group__ProtoAdvt.html#gab511742aeed064e74de993005af6852f">More...</a><br/></td></tr>
<tr class="separator:gab511742aeed064e74de993005af6852f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a36e3e20a6bf692cb52a426ae89ad3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/group__ProtoAdvt.html#ga3a36e3e20a6bf692cb52a426ae89ad3b">ProtoAdvtConstruct</a> (int32_t limit)</td></tr>
<tr class="memdesc:ga3a36e3e20a6bf692cb52a426ae89ad3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an advertising agent.  <a href="../../d3/d5e/group__ProtoAdvt.html#ga3a36e3e20a6bf692cb52a426ae89ad3b">More...</a><br/></td></tr>
<tr class="separator:ga3a36e3e20a6bf692cb52a426ae89ad3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9aeee3977f04d65993491cf335a8d88c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/group__ProtoAdvt.html#ga9aeee3977f04d65993491cf335a8d88c">ProtoAdvtDestroy</a> (<a class="el" href="../../da/dc5/structProtoAdvtRef.html">ProtoAdvtRef</a> *ref)</td></tr>
<tr class="memdesc:ga9aeee3977f04d65993491cf335a8d88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct an advertising agent.  <a href="../../d3/d5e/group__ProtoAdvt.html#ga9aeee3977f04d65993491cf335a8d88c">More...</a><br/></td></tr>
<tr class="separator:ga9aeee3977f04d65993491cf335a8d88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This advertising module provides a relatively simple multi-protocol distributed name server architecture utilizing the broadcast capabilities of UDP and IPX. Once the module is instantiated, it can be used as both an advertiser (server) and watcher (client) simultaneously. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Tiburon Entertainment / Electronic Arts 2002. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 02/17/99 (GWS) Original version </dd>
<dd>
1.1 02/25/99 (GWS) Alpha release </dd>
<dd>
1.2 07/27/99 (GWS) Initial release </dd>
<dd>
1.3 10/28/99 (GWS) Message queue elimination </dd>
<dd>
1.4 07/10/00 (GWS) Windock2 dependency removal </dd>
<dd>
1.5 12/11/00 (GWS) Ported to Dirtysock </dd>
<dd>
2.0 03/28/03 (GWS) Made more robust with double-broadcast sends </dd>
<dd>
2.1 06/16/03 (JLB) Made string comparisons case-insensitive </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a5e583a4808296f5f3b7c1920bfcb398e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d9/dba/structProtoAdvtPacketT.html">ProtoAdvtPacketT</a>  <a class="el" href="../../d9/dba/structProtoAdvtPacketT.html">ProtoAdvtPacketT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>raw broadcast packet format </p>

</div>
</div>
<a class="anchor" id="ae25fa4563431cdc1ec78468155f6cb5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../da/d9f/structServListT.html">ServListT</a>  <a class="el" href="../../da/d9f/structServListT.html">ServListT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a list of services </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Jun 5 2015 16:26:55</span><br />
</td></tr>
</table>
