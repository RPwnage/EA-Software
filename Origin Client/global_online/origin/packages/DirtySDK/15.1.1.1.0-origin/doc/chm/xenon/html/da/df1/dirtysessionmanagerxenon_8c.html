<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: dirtysessionmanagerxenon.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/df1/dirtysessionmanagerxenon_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dirtysessionmanagerxenon.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module encapsulates the Xenon functions required to resolve an XUID into a registered secure address, to enable a secure connection to be established between two Xenons. Like the Xbox implementations of DirtySessionManager, use of this module (or something performing the same functionality) is required to be able to connect two or more Xenons in secure mode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;xtl.h&gt;</code><br/>
<code>#include &lt;xonline.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d0/d7d/dirtyaddr_8h_source.html">DirtySDK/dirtysock/dirtyaddr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6b/dirtyerr_8h_source.html">DirtySDK/dirtysock/dirtyerr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/de0/netconn_8h_source.html">DirtySDK/dirtysock/netconn.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d9e/binary7_8h_source.html">DirtySDK/util/binary7.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/d7c/utf8_8h_source.html">DirtySDK/util/utf8.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dfd/dirtysessionmanager_8h_source.html">DirtySDK/dirtysock/dirtysessionmanager.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc0/structDirtySessionManagerOperation.html">DirtySessionManagerOperation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal module state  <a href="../../d8/dc8/structDirtySessionManagerRefT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6ee0efcceae6a6f48f573dadd96b7c36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a6ee0efcceae6a6f48f573dadd96b7c36">DIRTYSESSIONMANAGER_SESSIONFLAGS_DEFAULT</a></td></tr>
<tr class="separator:a6ee0efcceae6a6f48f573dadd96b7c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243c1923101b478d0b7e041073e0518b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a243c1923101b478d0b7e041073e0518b">DIRTYSESSIONMANAGER_MAXPUBLIC_DEFAULT</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="separator:a243c1923101b478d0b7e041073e0518b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f1e3977b8d52b517de73fa69dbd1e5b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a6f1e3977b8d52b517de73fa69dbd1e5b">DIRTYSESSIONMANAGER_MAXPRIVATE_DEFAULT</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a6f1e3977b8d52b517de73fa69dbd1e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd93d871b44f51362a1f3d6c002d508"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#aedd93d871b44f51362a1f3d6c002d508">DIRTYSESSIONMANAGER_MAX_GAMER_COUNT</a>&#160;&#160;&#160;(4)</td></tr>
<tr class="separator:aedd93d871b44f51362a1f3d6c002d508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c15f94aea5d3efe100c06e5376c241"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#af1c15f94aea5d3efe100c06e5376c241">DIRTYSESSIONMANAGER_ARBITRATIONTIMER</a>&#160;&#160;&#160;(1000)</td></tr>
<tr class="separator:af1c15f94aea5d3efe100c06e5376c241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092b178cf09735105c444a7cc1c61165"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a092b178cf09735105c444a7cc1c61165">DIRTYSESSIONMANAGER_MAX_OPERATIONS</a>&#160;&#160;&#160;(64)</td></tr>
<tr class="separator:a092b178cf09735105c444a7cc1c61165"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1ed879537ea569bea2ee682de74789eb"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="../../df/dc0/structDirtySessionManagerOperation.html">DirtySessionManagerOperation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a1ed879537ea569bea2ee682de74789eb">DirtySessionManagerOperation</a></td></tr>
<tr class="separator:a1ed879537ea569bea2ee682de74789eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a443a6d68083e778cfc640553f3d10a57"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57">SessMgrStateE</a> { <br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a568d2dca49e558482ac450ffbecf6c53">ST_SESSMGR_CREA</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57aa1915811c9762acbe8f267c621906e87">ST_SESSMGR_MODI</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a33a2fc48e9afea73ef276093e44f95d3">ST_SESSMGR_JOIN_REM</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57ae65237ebfa901a104d7aaca2517999c4">ST_SESSMGR_LEAV_REM</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57af348252ef8520cd69dac40d371f150fa">ST_SESSMGR_INVT</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a86e5717e325eb524b4fba125b38cf927">ST_SESSMGR_ARBI_SIZE</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a247a2ec3a95e939f6973756e782317af">ST_SESSMGR_ARBI</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a2547be1ec08cf789178af9a575c8f888">ST_SESSMGR_STRT</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a055c48fcdefaf2b79a9f614e8e7a5c3a">ST_SESSMGR_STAT</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a6cfef0b8b32b2178f68130c01a23bf3d">ST_SESSMGR_MIGR_HOSTING</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57aad7220d980ea43b94685887a044a7302">ST_SESSMGR_MIGR_NOTHOSTING</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57ab3f29beac4f6ad867802a7f281ba5703">ST_SESSMGR_STOP</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57a02ffdfd0cdb746a8a788d7e9229af43d">ST_SESSMGR_DELE</a>, 
<br/>
&#160;&#160;<a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57adadcf4d47f6380934293348f76cfc7be">ST_SESSMGR_MAX</a>
<br/>
 }</td></tr>
<tr class="separator:a443a6d68083e778cfc640553f3d10a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8760023f1983ed178cfdb40b2d94a03a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga8760023f1983ed178cfdb40b2d94a03a">DirtySessionManagerCreateSess</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, uint32_t bRanked, uint32_t *uUserFlags, const char *pSession, <a class="el" href="../../dd/d65/structDirtyAddrT.html">DirtyAddrT</a> *pLocalAddrs)</td></tr>
<tr class="memdesc:ga8760023f1983ed178cfdb40b2d94a03a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Xenon Live game session.  <a href="../../d6/d79/group__DirtySessionManager.html#ga8760023f1983ed178cfdb40b2d94a03a">More...</a><br/></td></tr>
<tr class="separator:ga8760023f1983ed178cfdb40b2d94a03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43d6ee6dfddb2c731285a3ac0d8e4f15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga43d6ee6dfddb2c731285a3ac0d8e4f15">DirtySessionManagerEncodeSession</a> (char *pBuffer, int32_t iBufSize, const void *pSessionInfo0)</td></tr>
<tr class="memdesc:ga43d6ee6dfddb2c731285a3ac0d8e4f15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode session variables (host address, session key, and session ID) into a binary7 string.  <a href="../../d6/d79/group__DirtySessionManager.html#ga43d6ee6dfddb2c731285a3ac0d8e4f15">More...</a><br/></td></tr>
<tr class="separator:ga43d6ee6dfddb2c731285a3ac0d8e4f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5311e5217c909714dca698cb2c79b5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#gac5311e5217c909714dca698cb2c79b5d">DirtySessionManagerDecodeSession</a> (void *pSessionInfo0, const char *pBuffer)</td></tr>
<tr class="memdesc:gac5311e5217c909714dca698cb2c79b5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode session variables (host address, session key, and session ID) from a binary7 string.  <a href="../../d6/d79/group__DirtySessionManager.html#gac5311e5217c909714dca698cb2c79b5d">More...</a><br/></td></tr>
<tr class="separator:gac5311e5217c909714dca698cb2c79b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ed09ca27760967cd370b5779cf6e2db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga5ed09ca27760967cd370b5779cf6e2db">DirtySessionManagerUpdate</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>)</td></tr>
<tr class="memdesc:ga5ed09ca27760967cd370b5779cf6e2db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update module state.  <a href="../../d6/d79/group__DirtySessionManager.html#ga5ed09ca27760967cd370b5779cf6e2db">More...</a><br/></td></tr>
<tr class="separator:ga5ed09ca27760967cd370b5779cf6e2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08a7bdf4cd392955a94a9e1e8f86db7"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#af08a7bdf4cd392955a94a9e1e8f86db7">DirtySessionManagerControl</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iControl, int32_t iValue, int32_t iValue2, void *pValue)</td></tr>
<tr class="memdesc:af08a7bdf4cd392955a94a9e1e8f86db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">DirtySessionManager control function.  <a href="#af08a7bdf4cd392955a94a9e1e8f86db7">More...</a><br/></td></tr>
<tr class="separator:af08a7bdf4cd392955a94a9e1e8f86db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0992bc1204a44e8f703cd5d7f8a891a3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga0992bc1204a44e8f703cd5d7f8a891a3">DirtySessionManagerStatus2</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iSelect, int32_t iValue, int32_t iValue2, int32_t iValue3, void *pBuf, int32_t iBufSize)</td></tr>
<tr class="memdesc:ga0992bc1204a44e8f703cd5d7f8a891a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return module status based on input selector, passes through to DirtySessionManagerStatus.  <a href="../../d6/d79/group__DirtySessionManager.html#ga0992bc1204a44e8f703cd5d7f8a891a3">More...</a><br/></td></tr>
<tr class="separator:ga0992bc1204a44e8f703cd5d7f8a891a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a4ec68e603a6159a3d722b88d01611d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga9a4ec68e603a6159a3d722b88d01611d">DirtySessionManagerStatus</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iSelect, void *pBuf, int32_t iBufSize)</td></tr>
<tr class="memdesc:ga9a4ec68e603a6159a3d722b88d01611d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return module status based on input selector.  <a href="../../d6/d79/group__DirtySessionManager.html#ga9a4ec68e603a6159a3d722b88d01611d">More...</a><br/></td></tr>
<tr class="separator:ga9a4ec68e603a6159a3d722b88d01611d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547e221d70961a0ad7ce3234a87483da"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a547e221d70961a0ad7ce3234a87483da">DirtySessionManagerGetSecureIp</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t *pAddr, const char *pMachineAddr)</td></tr>
<tr class="memdesc:a547e221d70961a0ad7ce3234a87483da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns TRUE and fills in secure address address if session manager has finished operation successfully.  <a href="#a547e221d70961a0ad7ce3234a87483da">More...</a><br/></td></tr>
<tr class="separator:a547e221d70961a0ad7ce3234a87483da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc70dd2fe144037cc87aafc32dd91fde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#gabc70dd2fe144037cc87aafc32dd91fde">DirtySessionManagerConnect</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, const char **pSessID, uint32_t *uSlot, uint32_t uCount)</td></tr>
<tr class="memdesc:gabc70dd2fe144037cc87aafc32dd91fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects one or many player(s) to a given game.  <a href="../../d6/d79/group__DirtySessionManager.html#gabc70dd2fe144037cc87aafc32dd91fde">More...</a><br/></td></tr>
<tr class="separator:gabc70dd2fe144037cc87aafc32dd91fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ca37ff3c285f5b242b0cd46900ed28b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga9ca37ff3c285f5b242b0cd46900ed28b">DirtySessionManagerCreate</a> (<a class="el" href="../../dd/d65/structDirtyAddrT.html">DirtyAddrT</a> *pHostAddr, <a class="el" href="../../dd/d65/structDirtyAddrT.html">DirtyAddrT</a> *pLocalAddrUnused)</td></tr>
<tr class="memdesc:ga9ca37ff3c285f5b242b0cd46900ed28b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate module state and prepare for use.  <a href="../../d6/d79/group__DirtySessionManager.html#ga9ca37ff3c285f5b242b0cd46900ed28b">More...</a><br/></td></tr>
<tr class="separator:ga9ca37ff3c285f5b242b0cd46900ed28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8af8ebfcaf507f51814639d48a50267"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d79/group__DirtySessionManager.html#gab8af8ebfcaf507f51814639d48a50267">DirtySessionManagerDestroy</a> (<a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>)</td></tr>
<tr class="memdesc:gab8af8ebfcaf507f51814639d48a50267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the module and release its state.  <a href="../../d6/d79/group__DirtySessionManager.html#gab8af8ebfcaf507f51814639d48a50267">More...</a><br/></td></tr>
<tr class="separator:gab8af8ebfcaf507f51814639d48a50267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module encapsulates the Xenon functions required to resolve an XUID into a registered secure address, to enable a secure connection to be established between two Xenons. Like the Xbox implementations of DirtySessionManager, use of this module (or something performing the same functionality) is required to be able to connect two or more Xenons in secure mode. </p>
<p>In addition, DirtySessionManager encapsulates use of the XSession API for setting up Xenon sessions with peers.</p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) / Electronic Arts 2005-2007. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 05/03/2005 (jbrookes) First Xenon Version </dd>
<dd>
2.0 11/04/2007 (jbrookes) Removed from ProtoMangle namespace, cleanup </dd>
<dd>
2.1 07/06/2009 (mclouatre) Corrected implementation of cancellation of overlapped operations </dd>
<dd>
2.2 29/09/2009 (mclouatre) Refactored to have all XSession calls perform from a dedicated thread </dd>
<dd>
3.0 29/01/2011 (jrainy) Rewritten </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af1c15f94aea5d3efe100c06e5376c241"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIRTYSESSIONMANAGER_ARBITRATIONTIMER&#160;&#160;&#160;(1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga5ed09ca27760967cd370b5779cf6e2db">DirtySessionManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="aedd93d871b44f51362a1f3d6c002d508"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIRTYSESSIONMANAGER_MAX_GAMER_COUNT&#160;&#160;&#160;(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga5ed09ca27760967cd370b5779cf6e2db">DirtySessionManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a092b178cf09735105c444a7cc1c61165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIRTYSESSIONMANAGER_MAX_OPERATIONS&#160;&#160;&#160;(64)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6f1e3977b8d52b517de73fa69dbd1e5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIRTYSESSIONMANAGER_MAXPRIVATE_DEFAULT&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga9ca37ff3c285f5b242b0cd46900ed28b">DirtySessionManagerCreate()</a>.</p>

</div>
</div>
<a class="anchor" id="a243c1923101b478d0b7e041073e0518b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIRTYSESSIONMANAGER_MAXPUBLIC_DEFAULT&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga9ca37ff3c285f5b242b0cd46900ed28b">DirtySessionManagerCreate()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ee0efcceae6a6f48f573dadd96b7c36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIRTYSESSIONMANAGER_SESSIONFLAGS_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(XSESSION_CREATE_USES_PRESENCE |                 \</div>
<div class="line">    XSESSION_CREATE_USES_STATS |                    \</div>
<div class="line">    XSESSION_CREATE_USES_MATCHMAKING |              \</div>
<div class="line">    XSESSION_CREATE_USES_PEER_NETWORK |             \</div>
<div class="line">    XSESSION_CREATE_JOIN_IN_PROGRESS_DISABLED)</div>
</div><!-- fragment -->
<p>Referenced by <a class="el" href="../../d6/d79/group__DirtySessionManager.html#ga9ca37ff3c285f5b242b0cd46900ed28b">DirtySessionManagerCreate()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a1ed879537ea569bea2ee682de74789eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../df/dc0/structDirtySessionManagerOperation.html">DirtySessionManagerOperation</a>  <a class="el" href="../../df/dc0/structDirtySessionManagerOperation.html">DirtySessionManagerOperation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a443a6d68083e778cfc640553f3d10a57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../da/df1/dirtysessionmanagerxenon_8c.html#a443a6d68083e778cfc640553f3d10a57">SessMgrStateE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a568d2dca49e558482ac450ffbecf6c53"></a>ST_SESSMGR_CREA</em>&#160;</td><td class="fielddoc">
<p>waiting for session creation completion </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57aa1915811c9762acbe8f267c621906e87"></a>ST_SESSMGR_MODI</em>&#160;</td><td class="fielddoc">
<p>modify session flags </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a33a2fc48e9afea73ef276093e44f95d3"></a>ST_SESSMGR_JOIN_REM</em>&#160;</td><td class="fielddoc">
<p>waiting for session join remote completion </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57ae65237ebfa901a104d7aaca2517999c4"></a>ST_SESSMGR_LEAV_REM</em>&#160;</td><td class="fielddoc">
<p>waiting for session leave remote completion </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57af348252ef8520cd69dac40d371f150fa"></a>ST_SESSMGR_INVT</em>&#160;</td><td class="fielddoc">
<p>inviting someone </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a86e5717e325eb524b4fba125b38cf927"></a>ST_SESSMGR_ARBI_SIZE</em>&#160;</td><td class="fielddoc">
<p>waiting for completion of arbitration register </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a247a2ec3a95e939f6973756e782317af"></a>ST_SESSMGR_ARBI</em>&#160;</td><td class="fielddoc">
<p>waiting for completion of arbitration register </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a2547be1ec08cf789178af9a575c8f888"></a>ST_SESSMGR_STRT</em>&#160;</td><td class="fielddoc">
<p>starting session </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a055c48fcdefaf2b79a9f614e8e7a5c3a"></a>ST_SESSMGR_STAT</em>&#160;</td><td class="fielddoc">
<p>writing stats </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a6cfef0b8b32b2178f68130c01a23bf3d"></a>ST_SESSMGR_MIGR_HOSTING</em>&#160;</td><td class="fielddoc">
<p>migrate the local user to become the new xsession host </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57aad7220d980ea43b94685887a044a7302"></a>ST_SESSMGR_MIGR_NOTHOSTING</em>&#160;</td><td class="fielddoc">
<p>migrate to the new xsession host (not hosting locally) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57ab3f29beac4f6ad867802a7f281ba5703"></a>ST_SESSMGR_STOP</em>&#160;</td><td class="fielddoc">
<p>ending session </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57a02ffdfd0cdb746a8a788d7e9229af43d"></a>ST_SESSMGR_DELE</em>&#160;</td><td class="fielddoc">
<p>deleting session </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a443a6d68083e778cfc640553f3d10a57adadcf4d47f6380934293348f76cfc7be"></a>ST_SESSMGR_MAX</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af08a7bdf4cd392955a94a9e1e8f86db7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t DirtySessionManagerControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *&#160;</td>
          <td class="paramname"><em>pRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iValue2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DirtySessionManager control function. </p>
<p><a class="anchor" id="DirtySessionManagerControl"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pRef</td><td>- module ref </td></tr>
    <tr><td class="paramname">iControl</td><td>- control selector </td></tr>
    <tr><td class="paramname">iValue</td><td>- selector specific </td></tr>
    <tr><td class="paramname">iValue2</td><td>- selector specific </td></tr>
    <tr><td class="paramname">*pValue</td><td>- selector specific</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t - 0=success; negative=error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>iControl can be one of the following:</dd></dl>
<pre class="fragment">        'dele' - iValue of 1 means terminal.
        'pres' - add/remove presence to/from session creation flags</pre><dl class="section version"><dt>Version</dt><dd>01/17/2011 (jrainy) </dd></dl>

<p>References <a class="el" href="../../da/de9/group__Binary7.html#gaad64d622d4dc039632857c7aec9465a0">Binary7Decode()</a>, <a class="el" href="../../d8/d9e/group__DirtyAddr.html#ga26b36996057155ee3431e61da3d87ab8">DirtyAddrToHostAddr()</a>, <a class="el" href="../../d0/db5/group__Platform.html#ga4c5789ea3569b9d878ab59812c1a2ddc">ds_snzprintf()</a>, <a class="el" href="../../d0/db5/group__Platform.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="../../de/d77/group__NetConnDefs.html#ga6180633debb70fdf788447698d9e6645">NETCONN_MAXLOCALUSERS</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga9e096b81dd2990f43e30f21248ed7b19">NetPrintMem</a>, <a class="el" href="../../d0/db5/group__Platform.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, and <a class="el" href="../../dd/dd4/group__Utf8.html#ga1b4cfe6b48aff73c15f9ab10da319b8e">Utf8DecodeToUCS2()</a>.</p>

</div>
</div>
<a class="anchor" id="a547e221d70961a0ad7ce3234a87483da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t DirtySessionManagerGetSecureIp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html">DirtySessionManagerRefT</a> *&#160;</td>
          <td class="paramname"><em>pRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>pAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pMachineAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns TRUE and fills in secure address address if session manager has finished operation successfully. </p>
<p><a class="anchor" id="DirtySessionManagerGetSecureIp"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pRef</td><td>- module state </td></tr>
    <tr><td class="paramname">*pAddr</td><td>- storage for secure address (if result code is positive) </td></tr>
    <tr><td class="paramname">*pMachineAddr</td><td>- machine address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t - positive=success, negative=failure</dd></dl>
<dl class="section version"><dt>Version</dt><dd>01/17/2011 (jrainy) </dd></dl>

<p>References <a class="el" href="../../df/d08/dirtyaddrxenon_8c.html#adc39786d7c8753d02ab3d18dd71a7267">DirtyAddrGetInfoXenon()</a>, <a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html#a3852f8c42a843ac9e14c7992dbfbb5a1">DirtySessionManagerRefT::iSessionCreationFlags</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, <a class="el" href="../../d0/db5/group__Platform.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d8/dc8/structDirtySessionManagerRefT.html#a4f4dfdd3d11f1f3dbec8a2c90abfef9f">DirtySessionManagerRefT::SessionInfo</a>, and <a class="el" href="../../d7/da6/group__DirtyNet.html#ga3e44dd093083c9e9ffbf9209ffc4e6d7">SocketHtonl()</a>.</p>

<p>Referenced by <a class="el" href="../../da/d8e/group__ConnApiXenonSessionManager.html#ga71540937ab849acadf43b216f85dc3b0">ConnApiXenonSessionManagerGetSecureIp()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Jun 5 2015 16:26:55</span><br />
</td></tr>
</table>
