<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: protopingmanager.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d68/protopingmanager_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protopingmanager.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>PingManager is a high-level interface to ProtoPing. It provides metering of ping requests and LRU caching, so as to enable high-level applications to issue high volumes of pings without worrying about overburdening the system, or creating ping storms.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/dd6/protoping_8h_source.html">DirtySDK/proto/protoping.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc5/protopingmanager_8h_source.html">DirtySDK/proto/protopingmanager.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d89/qosapi_8h_source.html">DirtySDK/misc/qosapi.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d42/structPingRecT.html">PingRecT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a ping cache ref  <a href="../../d7/d42/structPingRecT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc4/structServerPingRecT.html">ServerPingRecT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a server ping ref  <a href="../../d4/dc4/structServerPingRecT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ping manager private data  <a href="../../de/dec/structPingManagerRefT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adff2cb43eef0fc2e3ee2897b99d091e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#adff2cb43eef0fc2e3ee2897b99d091e0">PINGMGR_DEBUG</a>&#160;&#160;&#160;(<a class="el" href="../../d0/db5/group__Platform.html#ga73771537d1bb64e7681347f11b8d1bb3">DIRTYCODE_DEBUG</a> &amp;&amp; <a class="el" href="../../d1/d5b/dirtynames_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</td></tr>
<tr class="separator:adff2cb43eef0fc2e3ee2897b99d091e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266e883686f8ee7b060010dc04256030"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a266e883686f8ee7b060010dc04256030">PINGMGR_PINGFLAG_NEWPING</a>&#160;&#160;&#160;(0x8000)</td></tr>
<tr class="memdesc:a266e883686f8ee7b060010dc04256030"><td class="mdescLeft">&#160;</td><td class="mdescRight">ping request needs to be issued  <a href="#a266e883686f8ee7b060010dc04256030">More...</a><br/></td></tr>
<tr class="separator:a266e883686f8ee7b060010dc04256030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d777d92b0bc24ca948bafb57e26925"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#ad7d777d92b0bc24ca948bafb57e26925">PINGMGR_PINGFLAG_PINGING</a>&#160;&#160;&#160;(0x4000)</td></tr>
<tr class="memdesc:ad7d777d92b0bc24ca948bafb57e26925"><td class="mdescLeft">&#160;</td><td class="mdescRight">ping request is in progress  <a href="#ad7d777d92b0bc24ca948bafb57e26925">More...</a><br/></td></tr>
<tr class="separator:ad7d777d92b0bc24ca948bafb57e26925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6436742466c0368d9b5caad4dd43704"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#ae6436742466c0368d9b5caad4dd43704">PINGMGR_PINGFLAG_TIMEOUT</a>&#160;&#160;&#160;(0x2000)</td></tr>
<tr class="memdesc:ae6436742466c0368d9b5caad4dd43704"><td class="mdescLeft">&#160;</td><td class="mdescRight">ping request has timed out  <a href="#ae6436742466c0368d9b5caad4dd43704">More...</a><br/></td></tr>
<tr class="separator:ae6436742466c0368d9b5caad4dd43704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea33be9b296a1c040e1458e6c482687"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a6ea33be9b296a1c040e1458e6c482687">PINGMGR_PINGFLAG_SUCCESS</a>&#160;&#160;&#160;(0x0000)</td></tr>
<tr class="memdesc:a6ea33be9b296a1c040e1458e6c482687"><td class="mdescLeft">&#160;</td><td class="mdescRight">ping request was responded to  <a href="#a6ea33be9b296a1c040e1458e6c482687">More...</a><br/></td></tr>
<tr class="separator:a6ea33be9b296a1c040e1458e6c482687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208c722aefaa726433fb29ef2314e526"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a208c722aefaa726433fb29ef2314e526">PINGMGR_PINGFLAG_MASK</a>&#160;&#160;&#160;(0xF000)</td></tr>
<tr class="memdesc:a208c722aefaa726433fb29ef2314e526"><td class="mdescLeft">&#160;</td><td class="mdescRight">all pingflags must fit in this mask  <a href="#a208c722aefaa726433fb29ef2314e526">More...</a><br/></td></tr>
<tr class="separator:a208c722aefaa726433fb29ef2314e526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6713788ca2a5169424fb9dd6a3683d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#af6713788ca2a5169424fb9dd6a3683d1">PINGMGR_MAXPINGVAL</a>&#160;&#160;&#160;(0x0FFF)</td></tr>
<tr class="memdesc:af6713788ca2a5169424fb9dd6a3683d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum allowable ping value  <a href="#af6713788ca2a5169424fb9dd6a3683d1">More...</a><br/></td></tr>
<tr class="separator:af6713788ca2a5169424fb9dd6a3683d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a289f6772d09c7e8f118d3ac9f9ec0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:a1a289f6772d09c7e8f118d3ac9f9ec0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">one second (PINGMGR_TIMERTICKS) per tick  <a href="#a1a289f6772d09c7e8f118d3ac9f9ec0f">More...</a><br/></td></tr>
<tr class="separator:a1a289f6772d09c7e8f118d3ac9f9ec0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bce9e59edb034a6e8a476229d9278c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a1bce9e59edb034a6e8a476229d9278c7">PINGMGR_TIMERTICKS</a>&#160;&#160;&#160;(<a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>*1000)</td></tr>
<tr class="memdesc:a1bce9e59edb034a6e8a476229d9278c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">resolution of timer (one second)  <a href="#a1bce9e59edb034a6e8a476229d9278c7">More...</a><br/></td></tr>
<tr class="separator:a1bce9e59edb034a6e8a476229d9278c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af626c1a2ca666fc7fa8e7d2a935b7b15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#af626c1a2ca666fc7fa8e7d2a935b7b15">PINGMGR_TIMEOUT</a>&#160;&#160;&#160;(4*<a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>)</td></tr>
<tr class="memdesc:af626c1a2ca666fc7fa8e7d2a935b7b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">timeout in TICKMUL units (four seconds)  <a href="#af626c1a2ca666fc7fa8e7d2a935b7b15">More...</a><br/></td></tr>
<tr class="separator:af626c1a2ca666fc7fa8e7d2a935b7b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aabb935ccbe6af6fe0b9ac2e2af5072"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a9aabb935ccbe6af6fe0b9ac2e2af5072">PINGMGR_STALEEXPIRETIME</a>&#160;&#160;&#160;(60*<a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>)</td></tr>
<tr class="memdesc:a9aabb935ccbe6af6fe0b9ac2e2af5072"><td class="mdescLeft">&#160;</td><td class="mdescRight">if stale record hasn't been touched in this amount of time, expire it  <a href="#a9aabb935ccbe6af6fe0b9ac2e2af5072">More...</a><br/></td></tr>
<tr class="separator:a9aabb935ccbe6af6fe0b9ac2e2af5072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdb47f19578340a89fdb44ca718410e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a0cdb47f19578340a89fdb44ca718410e">PINGMGR_TICKSPERPING</a>&#160;&#160;&#160;(100)</td></tr>
<tr class="memdesc:a0cdb47f19578340a89fdb44ca718410e"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of ticks that must pass between pings  <a href="#a0cdb47f19578340a89fdb44ca718410e">More...</a><br/></td></tr>
<tr class="separator:a0cdb47f19578340a89fdb44ca718410e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7a185c98f8479407a679a510c1f274"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#ada7a185c98f8479407a679a510c1f274">PINGMGR_MAXSERVERPINGS</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="memdesc:ada7a185c98f8479407a679a510c1f274"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of server pings that can be tracked simultaneously  <a href="#ada7a185c98f8479407a679a510c1f274">More...</a><br/></td></tr>
<tr class="separator:ada7a185c98f8479407a679a510c1f274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ff3ca598eeb8e687f0ee92abfb0203"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a55ff3ca598eeb8e687f0ee92abfb0203">PINGMGR_SetFlag</a>(_pingvar, _newflag)</td></tr>
<tr class="memdesc:a55ff3ca598eeb8e687f0ee92abfb0203"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a PINGFLAG  <a href="#a55ff3ca598eeb8e687f0ee92abfb0203">More...</a><br/></td></tr>
<tr class="separator:a55ff3ca598eeb8e687f0ee92abfb0203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab59d6638e091a6cdbeb8dd915bad69ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#ab59d6638e091a6cdbeb8dd915bad69ec">PINGMGR_CalcTimeDiff</a>(_time1, _time2)&#160;&#160;&#160;(((unsigned)(_time1) - (unsigned)(_time2)) &amp; 0xff)</td></tr>
<tr class="memdesc:ab59d6638e091a6cdbeb8dd915bad69ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate time difference of time1-time2 with wrapping  <a href="#ab59d6638e091a6cdbeb8dd915bad69ec">More...</a><br/></td></tr>
<tr class="separator:ab59d6638e091a6cdbeb8dd915bad69ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2a934b4eaac99b7671cf197f1f0eaa68"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d7/d42/structPingRecT.html">PingRecT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#a2a934b4eaac99b7671cf197f1f0eaa68">PingRecT</a></td></tr>
<tr class="memdesc:a2a934b4eaac99b7671cf197f1f0eaa68"><td class="mdescLeft">&#160;</td><td class="mdescRight">a ping cache ref  <a href="#a2a934b4eaac99b7671cf197f1f0eaa68">More...</a><br/></td></tr>
<tr class="separator:a2a934b4eaac99b7671cf197f1f0eaa68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9baa658a394876ee79b0c47ea931499"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d4/dc4/structServerPingRecT.html">ServerPingRecT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/protopingmanager_8c.html#ab9baa658a394876ee79b0c47ea931499">ServerPingRecT</a></td></tr>
<tr class="memdesc:ab9baa658a394876ee79b0c47ea931499"><td class="mdescLeft">&#160;</td><td class="mdescRight">a server ping ref  <a href="#ab9baa658a394876ee79b0c47ea931499">More...</a><br/></td></tr>
<tr class="separator:ab9baa658a394876ee79b0c47ea931499"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga35ef9595121f41d25dc64fbdb2cf639a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#ga35ef9595121f41d25dc64fbdb2cf639a">PingManagerCreate</a> (uint32_t uMaxRecords)</td></tr>
<tr class="memdesc:ga35ef9595121f41d25dc64fbdb2cf639a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create PingManager module.  <a href="../../da/d56/group__ProtoPingManager.html#ga35ef9595121f41d25dc64fbdb2cf639a">More...</a><br/></td></tr>
<tr class="separator:ga35ef9595121f41d25dc64fbdb2cf639a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84b90c1598654bde30b9d39ab237f327"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#ga84b90c1598654bde30b9d39ab237f327">PingManagerDestroy</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager)</td></tr>
<tr class="memdesc:ga84b90c1598654bde30b9d39ab237f327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down PingManager module.  <a href="../../da/d56/group__ProtoPingManager.html#ga84b90c1598654bde30b9d39ab237f327">More...</a><br/></td></tr>
<tr class="separator:ga84b90c1598654bde30b9d39ab237f327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6984f7fdcf83479fb38ef34cbca763e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager)</td></tr>
<tr class="memdesc:gab6984f7fdcf83479fb38ef34cbca763e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give life to PingManager.  <a href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">More...</a><br/></td></tr>
<tr class="separator:gab6984f7fdcf83479fb38ef34cbca763e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaade6971661a7a9199d6d327e3960cd22"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#gaade6971661a7a9199d6d327e3960cd22">PingManagerPingAddress</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager, <a class="el" href="../../dd/d65/structDirtyAddrT.html">DirtyAddrT</a> *pAddr, <a class="el" href="../../da/d56/group__ProtoPingManager.html#ga18a04c224c0e77d90e3b603975a7744a">PingManagerCallbackT</a> *pCallback, void *pCallbackData)</td></tr>
<tr class="memdesc:gaade6971661a7a9199d6d327e3960cd22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ping an address.  <a href="../../da/d56/group__ProtoPingManager.html#gaade6971661a7a9199d6d327e3960cd22">More...</a><br/></td></tr>
<tr class="separator:gaade6971661a7a9199d6d327e3960cd22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e341302bb9b5843bafd62c88a265bc9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#ga6e341302bb9b5843bafd62c88a265bc9">PingManagerPingServer</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager, uint32_t uServerAddress, <a class="el" href="../../da/d56/group__ProtoPingManager.html#ga18a04c224c0e77d90e3b603975a7744a">PingManagerCallbackT</a> *pCallback, void *pCallbackData)</td></tr>
<tr class="memdesc:ga6e341302bb9b5843bafd62c88a265bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ping server. This is a direct pass-through to ProtoPingRequestServer.  <a href="../../da/d56/group__ProtoPingManager.html#ga6e341302bb9b5843bafd62c88a265bc9">More...</a><br/></td></tr>
<tr class="separator:ga6e341302bb9b5843bafd62c88a265bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga317ef8a21e737826250b9de0a9524b86"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#ga317ef8a21e737826250b9de0a9524b86">PingManagerPingServer2</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager, uint32_t uServerAddress, <a class="el" href="../../da/d56/group__ProtoPingManager.html#ga18a04c224c0e77d90e3b603975a7744a">PingManagerCallbackT</a> *pCallback, void *pCallbackData)</td></tr>
<tr class="memdesc:ga317ef8a21e737826250b9de0a9524b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ping server. This is a direct pass-through to ProtoPingRequestServer.  <a href="../../da/d56/group__ProtoPingManager.html#ga317ef8a21e737826250b9de0a9524b86">More...</a><br/></td></tr>
<tr class="separator:ga317ef8a21e737826250b9de0a9524b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4873b1b8ef29bd87552989b16ad71e28"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#ga4873b1b8ef29bd87552989b16ad71e28">PingManagerInvalidateAddress</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager, <a class="el" href="../../dd/d65/structDirtyAddrT.html">DirtyAddrT</a> *pAddr)</td></tr>
<tr class="memdesc:ga4873b1b8ef29bd87552989b16ad71e28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate an address in the cache. This forces PingManager to issue a new ping the next time <a class="el" href="../../da/d56/group__ProtoPingManager.html#gaade6971661a7a9199d6d327e3960cd22" title="Ping an address. ">PingManagerPingAddress()</a> is called with this address.  <a href="../../da/d56/group__ProtoPingManager.html#ga4873b1b8ef29bd87552989b16ad71e28">More...</a><br/></td></tr>
<tr class="separator:ga4873b1b8ef29bd87552989b16ad71e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac45dbd91a37314069d08cdca946001a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#gac45dbd91a37314069d08cdca946001a8">PingManagerInvalidateCache</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager)</td></tr>
<tr class="memdesc:gac45dbd91a37314069d08cdca946001a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate all addresses in the cache.  <a href="../../da/d56/group__ProtoPingManager.html#gac45dbd91a37314069d08cdca946001a8">More...</a><br/></td></tr>
<tr class="separator:gac45dbd91a37314069d08cdca946001a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa5576bb5a9814a9c05f2a746ee96fc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#gaaa5576bb5a9814a9c05f2a746ee96fc1">PingManagerCancelRequest</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager, <a class="el" href="../../dd/d65/structDirtyAddrT.html">DirtyAddrT</a> *pAddr)</td></tr>
<tr class="memdesc:gaaa5576bb5a9814a9c05f2a746ee96fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an outstanding ping request callback.  <a href="../../da/d56/group__ProtoPingManager.html#gaaa5576bb5a9814a9c05f2a746ee96fc1">More...</a><br/></td></tr>
<tr class="separator:gaaa5576bb5a9814a9c05f2a746ee96fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c6be5e7f8f8e465da32277de5ca85d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d56/group__ProtoPingManager.html#ga7c6be5e7f8f8e465da32277de5ca85d5">PingManagerCancelServerRequest</a> (<a class="el" href="../../de/dec/structPingManagerRefT.html">PingManagerRefT</a> *pPingManager, uint32_t uSeqn)</td></tr>
<tr class="memdesc:ga7c6be5e7f8f8e465da32277de5ca85d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an outstanding server ping request callback.  <a href="../../da/d56/group__ProtoPingManager.html#ga7c6be5e7f8f8e465da32277de5ca85d5">More...</a><br/></td></tr>
<tr class="separator:ga7c6be5e7f8f8e465da32277de5ca85d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PingManager is a high-level interface to ProtoPing. It provides metering of ping requests and LRU caching, so as to enable high-level applications to issue high volumes of pings without worrying about overburdening the system, or creating ping storms. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Tiburon Entertainment / Electronic Arts 2003. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 08/20/03 (JLB) First Version </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab59d6638e091a6cdbeb8dd915bad69ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_CalcTimeDiff</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_time1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_time2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((unsigned)(_time1) - (unsigned)(_time2)) &amp; 0xff)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculate time difference of time1-time2 with wrapping </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="adff2cb43eef0fc2e3ee2897b99d091e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_DEBUG&#160;&#160;&#160;(<a class="el" href="../../d0/db5/group__Platform.html#ga73771537d1bb64e7681347f11b8d1bb3">DIRTYCODE_DEBUG</a> &amp;&amp; <a class="el" href="../../d1/d5b/dirtynames_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af6713788ca2a5169424fb9dd6a3683d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_MAXPINGVAL&#160;&#160;&#160;(0x0FFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum allowable ping value </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="ada7a185c98f8479407a679a510c1f274"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_MAXSERVERPINGS&#160;&#160;&#160;(8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum number of server pings that can be tracked simultaneously </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#ga7c6be5e7f8f8e465da32277de5ca85d5">PingManagerCancelServerRequest()</a>, <a class="el" href="../../da/d56/group__ProtoPingManager.html#ga317ef8a21e737826250b9de0a9524b86">PingManagerPingServer2()</a>, and <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a208c722aefaa726433fb29ef2314e526"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_PINGFLAG_MASK&#160;&#160;&#160;(0xF000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>all pingflags must fit in this mask </p>

</div>
</div>
<a class="anchor" id="a266e883686f8ee7b060010dc04256030"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_PINGFLAG_NEWPING&#160;&#160;&#160;(0x8000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ping request needs to be issued </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7d777d92b0bc24ca948bafb57e26925"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_PINGFLAG_PINGING&#160;&#160;&#160;(0x4000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ping request is in progress </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ea33be9b296a1c040e1458e6c482687"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_PINGFLAG_SUCCESS&#160;&#160;&#160;(0x0000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ping request was responded to </p>

</div>
</div>
<a class="anchor" id="ae6436742466c0368d9b5caad4dd43704"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_PINGFLAG_TIMEOUT&#160;&#160;&#160;(0x2000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ping request has timed out </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a55ff3ca598eeb8e687f0ee92abfb0203"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_SetFlag</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_pingvar, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_newflag&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">    (_pingvar) &amp;= ~<a class="code" href="../../d2/d68/protopingmanager_8c.html#a208c722aefaa726433fb29ef2314e526">PINGMGR_PINGFLAG_MASK</a>;   \</div>
<div class="line">    (_pingvar) |= (_newflag);               \</div>
<div class="line">}</div>
<div class="ttc" id="protopingmanager_8c_html_a208c722aefaa726433fb29ef2314e526"><div class="ttname"><a href="../../d2/d68/protopingmanager_8c.html#a208c722aefaa726433fb29ef2314e526">PINGMGR_PINGFLAG_MASK</a></div><div class="ttdeci">#define PINGMGR_PINGFLAG_MASK</div><div class="ttdoc">all pingflags must fit in this mask </div><div class="ttdef"><b>Definition:</b> protopingmanager.c:38</div></div>
</div><!-- fragment -->
<p>set a PINGFLAG </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a9aabb935ccbe6af6fe0b9ac2e2af5072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_STALEEXPIRETIME&#160;&#160;&#160;(60*<a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>if stale record hasn't been touched in this amount of time, expire it </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a289f6772d09c7e8f118d3ac9f9ec0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_TICKMUL&#160;&#160;&#160;(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>one second (PINGMGR_TIMERTICKS) per tick </p>

</div>
</div>
<a class="anchor" id="a0cdb47f19578340a89fdb44ca718410e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_TICKSPERPING&#160;&#160;&#160;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of ticks that must pass between pings </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#gab6984f7fdcf83479fb38ef34cbca763e">PingManagerUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="af626c1a2ca666fc7fa8e7d2a935b7b15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_TIMEOUT&#160;&#160;&#160;(4*<a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>timeout in TICKMUL units (four seconds) </p>

<p>Referenced by <a class="el" href="../../da/d56/group__ProtoPingManager.html#ga35ef9595121f41d25dc64fbdb2cf639a">PingManagerCreate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bce9e59edb034a6e8a476229d9278c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINGMGR_TIMERTICKS&#160;&#160;&#160;(<a class="el" href="../../d2/d68/protopingmanager_8c.html#a1a289f6772d09c7e8f118d3ac9f9ec0f">PINGMGR_TICKMUL</a>*1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>resolution of timer (one second) </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a2a934b4eaac99b7671cf197f1f0eaa68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d7/d42/structPingRecT.html">PingRecT</a>  <a class="el" href="../../d7/d42/structPingRecT.html">PingRecT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a ping cache ref </p>

</div>
</div>
<a class="anchor" id="ab9baa658a394876ee79b0c47ea931499"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d4/dc4/structServerPingRecT.html">ServerPingRecT</a>  <a class="el" href="../../d4/dc4/structServerPingRecT.html">ServerPingRecT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a server ping ref </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Thu Jul 9 2015 16:31:20</span><br />
</td></tr>
</table>
