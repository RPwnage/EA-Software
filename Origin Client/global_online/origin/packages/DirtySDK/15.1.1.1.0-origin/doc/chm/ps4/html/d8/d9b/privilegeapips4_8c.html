<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: privilegeapips4.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/d9b/privilegeapips4_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">privilegeapips4.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements the ps4 specific parental control and PlayStation Plus checking.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;np.h&gt;</code><br/>
<code>#include &lt;np/np_npid.h&gt;</code><br/>
<code>#include &lt;scetypes.h&gt;</code><br/>
<code>#include &lt;np_commerce_dialog.h&gt;</code><br/>
<code>#include &lt;message_dialog.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d03/platform_8h_source.html">DirtySDK/platform.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d57/privilegeapi_8h_source.html">DirtySDK/misc/privilegeapi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6b/dirtyerr_8h_source.html">DirtySDK/dirtysock/dirtyerr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d3/d87/dirtylib_8h_source.html">DirtySDK/dirtysock/dirtylib.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/de0/netconn_8h_source.html">DirtySDK/dirtysock/netconn.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9b/structPrivilegeApiUserContextT.html">PrivilegeApiUserContextT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa85dcba8da5cdbbd4262ba106405803b"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bf">PrivilegeApiSceStateE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9b/privilegeapips4_8c.html#aa85dcba8da5cdbbd4262ba106405803b">PrivilegeApiSceStateE</a></td></tr>
<tr class="separator:aa85dcba8da5cdbbd4262ba106405803b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf06bcf4bb36952e170315b1ed23fc8d"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="../../d8/d9b/structPrivilegeApiUserContextT.html">PrivilegeApiUserContextT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9b/privilegeapips4_8c.html#abf06bcf4bb36952e170315b1ed23fc8d">PrivilegeApiUserContextT</a></td></tr>
<tr class="separator:abf06bcf4bb36952e170315b1ed23fc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7b1b88d0f8d8b202a996b5321dbd93bf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bf">PrivilegeApiSceStateE</a> { <br/>
&#160;&#160;<a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bfa56672dbe88a2a552020b806fc842e82b">PRIVILEGEAPI_SCE_STATE_GRANTED</a> = 0x0000, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bfa78ba115b82d35d5d6bd44ce400ed3d17">PRIVILEGEAPI_SCE_STATE_RESTRICTED</a> = 0x0001, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bfaae9626cb5bcbdc630a557ebdbb910724">PRIVILEGEAPI_SCE_STATE_IN_PROGRESS</a> = 0x0002, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bfa5ea36d72763d2ec7da4d898ec7b6efb8">PRIVILEGEAPI_SCE_STATE_DIALOG_PENDING</a> = 0x0004 | PRIVILEGEAPI_SCE_STATE_IN_PROGRESS, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bfa04f9bca3be95b414afa0f50b0dedba3c">PRIVILEGEAPI_SCE_STATE_DIALOG_SHOWING</a> = 0x0008 | PRIVILEGEAPI_SCE_STATE_IN_PROGRESS
<br/>
 }</td></tr>
<tr class="separator:a7b1b88d0f8d8b202a996b5321dbd93bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae3ff34961a0bc8bf8eda1a56f3937411"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#gae3ff34961a0bc8bf8eda1a56f3937411">PrivilegeApiCreate</a> (void)</td></tr>
<tr class="memdesc:gae3ff34961a0bc8bf8eda1a56f3937411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the PrivilegeApi.  <a href="../../d7/db7/group__PrivilegeApi.html#gae3ff34961a0bc8bf8eda1a56f3937411">More...</a><br/></td></tr>
<tr class="separator:gae3ff34961a0bc8bf8eda1a56f3937411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c36db4fc480bbbef44982840c6c13b7"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#ga1c36db4fc480bbbef44982840c6c13b7">PrivilegeApiDestroy</a> (<a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>)</td></tr>
<tr class="memdesc:ga1c36db4fc480bbbef44982840c6c13b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the PrivilegeApi.  <a href="../../d7/db7/group__PrivilegeApi.html#ga1c36db4fc480bbbef44982840c6c13b7">More...</a><br/></td></tr>
<tr class="separator:ga1c36db4fc480bbbef44982840c6c13b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdbb194d060def00d33a348b7f899fcc"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#gafdbb194d060def00d33a348b7f899fcc">PrivilegeApiCheckPrivilegesAsync</a> (<a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iUserIndex, const <a class="el" href="../../d7/db7/group__PrivilegeApi.html#ga055ae285fb15fa9de5e38a7aaeb750df">PrivilegeApiPrivT</a> *pPrivileges, int32_t iPrivilegeCount, int32_t *pHint)</td></tr>
<tr class="memdesc:gafdbb194d060def00d33a348b7f899fcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check one or more privileges against the system or the first party service for an authorotative determination of the current privilege status. No UI is shown when using this function.  <a href="../../d7/db7/group__PrivilegeApi.html#gafdbb194d060def00d33a348b7f899fcc">More...</a><br/></td></tr>
<tr class="separator:gafdbb194d060def00d33a348b7f899fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4d9748c5f6a5cd2d0d2c23ddac3d53c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#gac4d9748c5f6a5cd2d0d2c23ddac3d53c">PrivilegeApiCheckPrivilegesAsyncWithUi</a> (<a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iUserIndex, const <a class="el" href="../../d7/db7/group__PrivilegeApi.html#ga055ae285fb15fa9de5e38a7aaeb750df">PrivilegeApiPrivT</a> *pPrivileges, int32_t iPrivilegeCount, int32_t *pHint, const char *pUiMessage)</td></tr>
<tr class="memdesc:gac4d9748c5f6a5cd2d0d2c23ddac3d53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check one or more privileges against the system or the first party service for an authorotative determination of the current privilege status. This function will show appropriate error messages or commerce dialog to upsell product/privileges to the user.  <a href="../../d7/db7/group__PrivilegeApi.html#gac4d9748c5f6a5cd2d0d2c23ddac3d53c">More...</a><br/></td></tr>
<tr class="separator:gac4d9748c5f6a5cd2d0d2c23ddac3d53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf645048d2bdab199cd5ec0e53da6f2a4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#gaf645048d2bdab199cd5ec0e53da6f2a4">PrivilegeApiCheckResult</a> (<a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iRequestId)</td></tr>
<tr class="memdesc:gaf645048d2bdab199cd5ec0e53da6f2a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current status of an active privilege check started with one of the <a class="el" href="../../d7/db7/group__PrivilegeApi.html#gafdbb194d060def00d33a348b7f899fcc" title="Check one or more privileges against the system or the first party service for an authorotative deter...">PrivilegeApiCheckPrivilegesAsync()</a> functions.  <a href="../../d7/db7/group__PrivilegeApi.html#gaf645048d2bdab199cd5ec0e53da6f2a4">More...</a><br/></td></tr>
<tr class="separator:gaf645048d2bdab199cd5ec0e53da6f2a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b787db3f967c48d7257cf69ad89f0c2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#ga1b787db3f967c48d7257cf69ad89f0c2">PrivilegeApiReleaseRequest</a> (<a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iRequestId)</td></tr>
<tr class="memdesc:ga1b787db3f967c48d7257cf69ad89f0c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be called after you are done with a request id returned from <a class="el" href="../../d7/db7/group__PrivilegeApi.html#gafdbb194d060def00d33a348b7f899fcc" title="Check one or more privileges against the system or the first party service for an authorotative deter...">PrivilegeApiCheckPrivilegesAsync()</a> or <a class="el" href="../../d7/db7/group__PrivilegeApi.html#gac4d9748c5f6a5cd2d0d2c23ddac3d53c" title="Check one or more privileges against the system or the first party service for an authorotative deter...">PrivilegeApiCheckPrivilegesAsyncWithUi()</a>.  <a href="../../d7/db7/group__PrivilegeApi.html#ga1b787db3f967c48d7257cf69ad89f0c2">More...</a><br/></td></tr>
<tr class="separator:ga1b787db3f967c48d7257cf69ad89f0c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga822df2a83d9e27c6dc5b99e914c04063"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/group__PrivilegeApi.html#ga822df2a83d9e27c6dc5b99e914c04063">PrivilegeApiAbort</a> (<a class="el" href="../../de/d10/structPrivilegeApiRefT.html">PrivilegeApiRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iRequestId)</td></tr>
<tr class="memdesc:ga822df2a83d9e27c6dc5b99e914c04063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts and releases a request.  <a href="../../d7/db7/group__PrivilegeApi.html#ga822df2a83d9e27c6dc5b99e914c04063">More...</a><br/></td></tr>
<tr class="separator:ga822df2a83d9e27c6dc5b99e914c04063"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements the ps4 specific parental control and PlayStation Plus checking. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Electronic Arts 2012</dd></dl>
<dl class="section version"><dt>Version</dt><dd>09/02/2013 (mcorcoran) First Version </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aa85dcba8da5cdbbd4262ba106405803b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bf">PrivilegeApiSceStateE</a>  <a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bf">PrivilegeApiSceStateE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abf06bcf4bb36952e170315b1ed23fc8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d8/d9b/structPrivilegeApiUserContextT.html">PrivilegeApiUserContextT</a>  <a class="el" href="../../d8/d9b/structPrivilegeApiUserContextT.html">PrivilegeApiUserContextT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a7b1b88d0f8d8b202a996b5321dbd93bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9b/privilegeapips4_8c.html#a7b1b88d0f8d8b202a996b5321dbd93bf">PrivilegeApiSceStateE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a7b1b88d0f8d8b202a996b5321dbd93bfa56672dbe88a2a552020b806fc842e82b"></a>PRIVILEGEAPI_SCE_STATE_GRANTED</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7b1b88d0f8d8b202a996b5321dbd93bfa78ba115b82d35d5d6bd44ce400ed3d17"></a>PRIVILEGEAPI_SCE_STATE_RESTRICTED</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7b1b88d0f8d8b202a996b5321dbd93bfaae9626cb5bcbdc630a557ebdbb910724"></a>PRIVILEGEAPI_SCE_STATE_IN_PROGRESS</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7b1b88d0f8d8b202a996b5321dbd93bfa5ea36d72763d2ec7da4d898ec7b6efb8"></a>PRIVILEGEAPI_SCE_STATE_DIALOG_PENDING</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7b1b88d0f8d8b202a996b5321dbd93bfa04f9bca3be95b414afa0f50b0dedba3c"></a>PRIVILEGEAPI_SCE_STATE_DIALOG_SHOWING</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Thu Jul 9 2015 16:31:31</span><br />
</td></tr>
</table>
