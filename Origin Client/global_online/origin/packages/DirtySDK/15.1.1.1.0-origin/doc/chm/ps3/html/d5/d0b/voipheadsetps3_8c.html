<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: voipheadsetps3.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d0b/voipheadsetps3_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">voipheadsetps3.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>VoIP headset manager.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;sdk_version.h&gt;</code><br/>
<code>#include &lt;cell/audio.h&gt;</code><br/>
<code>#include &lt;cell/mic.h&gt;</code><br/>
<code>#include &lt;cell/sysmodule.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d03/platform_8h_source.html">DirtySDK/platform.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6b/dirtyerr_8h_source.html">DirtySDK/dirtysock/dirtyerr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/de0/netconn_8h_source.html">DirtySDK/dirtysock/netconn.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d13/voipdef_8h_source.html">DirtySDK/voip/voipdef.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d0a/voippriv_8h_source.html">voippriv.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d18/voipconnection_8h_source.html">voipconnection.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/d64/voippacket_8h_source.html">voippacket.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d01/voipmixer_8h_source.html">voipmixer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/d10/voipconduit_8h_source.html">voipconduit.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/dda/voipcodec_8h_source.html">DirtySDK/voip/voipcodec.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/d22/voipheadset_8h_source.html">voipheadset.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d2f/voipdvi_8h_source.html">voipdvi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d3b/voippcm_8h_source.html">voippcm.h</a>&quot;</code><br/>
<code>#include &quot;voipcelp.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dfe/structVoipHeadsetParamT.html">VoipHeadsetParamT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">headset sampling parameters  <a href="../../df/dfe/structVoipHeadsetParamT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">VOIP module state data.  <a href="../../db/d44/structVoipHeadsetRefT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adbb401a177908a70c0347eafcd2445d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#adbb401a177908a70c0347eafcd2445d8">VOIP_HEADSET_DEFAULTSAMPLERATE</a>&#160;&#160;&#160;(16000)</td></tr>
<tr class="memdesc:adbb401a177908a70c0347eafcd2445d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">default sample rate in hz  <a href="#adbb401a177908a70c0347eafcd2445d8">More...</a><br/></td></tr>
<tr class="separator:adbb401a177908a70c0347eafcd2445d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8119becf99634f40bb006b75f437a515"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a8119becf99634f40bb006b75f437a515">VOIP_HEADSET_DEFAULTFRAMESAMPLES</a>&#160;&#160;&#160;(160)</td></tr>
<tr class="memdesc:a8119becf99634f40bb006b75f437a515"><td class="mdescLeft">&#160;</td><td class="mdescRight">default number of samples/frame (20ms at 8khz)  <a href="#a8119becf99634f40bb006b75f437a515">More...</a><br/></td></tr>
<tr class="separator:a8119becf99634f40bb006b75f437a515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ce22a23cdc55349c818ed10ee0dab4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#ab0ce22a23cdc55349c818ed10ee0dab4">VOIP_HEADSET_MAX_READ_SAMPLES</a>&#160;&#160;&#160;(16000/10)</td></tr>
<tr class="memdesc:ab0ce22a23cdc55349c818ed10ee0dab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">100ms worth of samples data at 16khz  <a href="#ab0ce22a23cdc55349c818ed10ee0dab4">More...</a><br/></td></tr>
<tr class="separator:ab0ce22a23cdc55349c818ed10ee0dab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1315455bb093b83cf1637595d1b36a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#aa1315455bb093b83cf1637595d1b36a1">VOIP_HEADSET_BLOCK_SIZE</a>&#160;&#160;&#160;(CELL_AUDIO_PORT_2CH * sizeof(float) * CELL_AUDIO_BLOCK_SAMPLES)</td></tr>
<tr class="memdesc:aa1315455bb093b83cf1637595d1b36a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">block size (in bytes) used to empty mix buffer and feed headset  <a href="#aa1315455bb093b83cf1637595d1b36a1">More...</a><br/></td></tr>
<tr class="separator:aa1315455bb093b83cf1637595d1b36a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3677983188daa60f8f7c7143229fe6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#aed3677983188daa60f8f7c7143229fe6">VOIP_HEADSET_OUTBUFFER_BLOCKS</a>&#160;&#160;&#160;(CELL_AUDIO_BLOCK_32)</td></tr>
<tr class="memdesc:aed3677983188daa60f8f7c7143229fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">port size in blocks  <a href="#aed3677983188daa60f8f7c7143229fe6">More...</a><br/></td></tr>
<tr class="separator:aed3677983188daa60f8f7c7143229fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88779ea58d719792a92ca16b81e464e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a88779ea58d719792a92ca16b81e464e3">VOIP_HEADSET_MAX_BLOCKS</a>&#160;&#160;&#160;(9)</td></tr>
<tr class="memdesc:a88779ea58d719792a92ca16b81e464e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">max number of blocks that may be written out to audio at one time  <a href="#a88779ea58d719792a92ca16b81e464e3">More...</a><br/></td></tr>
<tr class="separator:a88779ea58d719792a92ca16b81e464e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d1e2cf15b7596c884598b22c1dba3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a00d1e2cf15b7596c884598b22c1dba3b">VOIP_HEADSET_SOUND_TRIGGER_DECIBEL</a>&#160;&#160;&#160;(50.0f)</td></tr>
<tr class="memdesc:a00d1e2cf15b7596c884598b22c1dba3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">min volume to not trigger VAD  <a href="#a00d1e2cf15b7596c884598b22c1dba3b">More...</a><br/></td></tr>
<tr class="separator:a00d1e2cf15b7596c884598b22c1dba3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cd96332a8b49cc5465e073474c6962"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#ab0cd96332a8b49cc5465e073474c6962">VOIP_HEADSET_TALKING_MIN_DURATION</a>&#160;&#160;&#160;(200)</td></tr>
<tr class="memdesc:ab0cd96332a8b49cc5465e073474c6962"><td class="mdescLeft">&#160;</td><td class="mdescRight">min duration to not trigger VAD  <a href="#ab0cd96332a8b49cc5465e073474c6962">More...</a><br/></td></tr>
<tr class="separator:ab0cd96332a8b49cc5465e073474c6962"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0f90bd0a5f8c19348b94b117da7ce18b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../df/dfe/structVoipHeadsetParamT.html">VoipHeadsetParamT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a0f90bd0a5f8c19348b94b117da7ce18b">VoipHeadsetParamT</a></td></tr>
<tr class="memdesc:a0f90bd0a5f8c19348b94b117da7ce18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">headset sampling parameters  <a href="#a0f90bd0a5f8c19348b94b117da7ce18b">More...</a><br/></td></tr>
<tr class="separator:a0f90bd0a5f8c19348b94b117da7ce18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac52e6d0e8c9cd9c19038ff42770596d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#ac52e6d0e8c9cd9c19038ff42770596d8">VoipHeadsetCreate</a> (int32_t iMaxConduits, int32_t iMaxLocal, <a class="el" href="../../d8/d22/voipheadset_8h.html#a0f12e40bdb302a5188be82dde395bada">VoipHeadsetMicDataCbT</a> *pMicDataCb, <a class="el" href="../../d8/d22/voipheadset_8h.html#af6030c03bf0971973d49b1f33b6df6d3">VoipHeadsetStatusCbT</a> *pStatusCb, void *pCbUserData, int32_t iData)</td></tr>
<tr class="memdesc:ac52e6d0e8c9cd9c19038ff42770596d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the headset manager.  <a href="#ac52e6d0e8c9cd9c19038ff42770596d8">More...</a><br/></td></tr>
<tr class="separator:ac52e6d0e8c9cd9c19038ff42770596d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9498bf3a53795febd7c9e322e7153471"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a9498bf3a53795febd7c9e322e7153471">VoipHeadsetDestroy</a> (<a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *pHeadset)</td></tr>
<tr class="memdesc:a9498bf3a53795febd7c9e322e7153471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the headset manager.  <a href="#a9498bf3a53795febd7c9e322e7153471">More...</a><br/></td></tr>
<tr class="separator:a9498bf3a53795febd7c9e322e7153471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5eb96c0265d7a53cd782f78a1246403"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#ad5eb96c0265d7a53cd782f78a1246403">VoipHeadsetReceiveVoiceDataCb</a> (<a class="el" href="../../da/d9a/structVoipUserT.html">VoipUserT</a> *pRemoteUsers, <a class="el" href="../../d5/dc3/structVoipMicrInfoT.html">VoipMicrInfoT</a> *pMicrInfo, uint8_t *pPacketData, void *pUserData)</td></tr>
<tr class="memdesc:ad5eb96c0265d7a53cd782f78a1246403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connectionlist callback to handle receiving a voice packet from a remote peer.  <a href="#ad5eb96c0265d7a53cd782f78a1246403">More...</a><br/></td></tr>
<tr class="separator:ad5eb96c0265d7a53cd782f78a1246403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c834ba390a47b4d627699e92d53e6dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a3c834ba390a47b4d627699e92d53e6dd">VoipHeadsetRegisterUserCb</a> (<a class="el" href="../../da/d9a/structVoipUserT.html">VoipUserT</a> *pRemoteUser, uint32_t bRegister, void *pUserData)</td></tr>
<tr class="memdesc:a3c834ba390a47b4d627699e92d53e6dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connectionlist callback to register/unregister a new user with the VoipConduit module.  <a href="#a3c834ba390a47b4d627699e92d53e6dd">More...</a><br/></td></tr>
<tr class="separator:a3c834ba390a47b4d627699e92d53e6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6fe7a70f57dc22b61af43717d12fa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a8a6fe7a70f57dc22b61af43717d12fa8">VoipHeadsetProcess</a> (<a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *pHeadset, uint32_t uFrameCount)</td></tr>
<tr class="memdesc:a8a6fe7a70f57dc22b61af43717d12fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Headset process function.  <a href="#a8a6fe7a70f57dc22b61af43717d12fa8">More...</a><br/></td></tr>
<tr class="separator:a8a6fe7a70f57dc22b61af43717d12fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9213d20e455175fe8d23a2e5f8f3184a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a9213d20e455175fe8d23a2e5f8f3184a">VoipHeadsetSetVolume</a> (<a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *pHeadset, int32_t iPlayVol, uint32_t iRecVol)</td></tr>
<tr class="memdesc:a9213d20e455175fe8d23a2e5f8f3184a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets play and record volume.  <a href="#a9213d20e455175fe8d23a2e5f8f3184a">More...</a><br/></td></tr>
<tr class="separator:a9213d20e455175fe8d23a2e5f8f3184a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf6ee658ec0ea71d80e306e28891d98"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#aaaf6ee658ec0ea71d80e306e28891d98">VoipHeadsetControl</a> (<a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *pHeadset, int32_t iControl, int32_t iValue, int32_t iValue2, void *pValue)</td></tr>
<tr class="memdesc:aaaf6ee658ec0ea71d80e306e28891d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control function.  <a href="#aaaf6ee658ec0ea71d80e306e28891d98">More...</a><br/></td></tr>
<tr class="separator:aaaf6ee658ec0ea71d80e306e28891d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8065c4e174b9083d419cffc6732f13cb"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a8065c4e174b9083d419cffc6732f13cb">VoipHeadsetStatus</a> (<a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *pHeadset, int32_t iSelect, int32_t iValue, void *pBuf, int32_t iBufSize)</td></tr>
<tr class="memdesc:a8065c4e174b9083d419cffc6732f13cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status function.  <a href="#a8065c4e174b9083d419cffc6732f13cb">More...</a><br/></td></tr>
<tr class="separator:a8065c4e174b9083d419cffc6732f13cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5215825f3ca2a03fd9bb3e06eee402ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a5215825f3ca2a03fd9bb3e06eee402ba">VoipHeadsetSpkrCallback</a> (<a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *pHeadset, <a class="el" href="../../d9/d95/group__VoipDef.html#gadc223af71ed6df4b7652e607ac6c7472">VoipSpkrCallbackT</a> *pCallback, void *pUserData)</td></tr>
<tr class="memdesc:a5215825f3ca2a03fd9bb3e06eee402ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set speaker output callback.  <a href="#a5215825f3ca2a03fd9bb3e06eee402ba">More...</a><br/></td></tr>
<tr class="separator:a5215825f3ca2a03fd9bb3e06eee402ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a965913d3c9fd1d6e1a48f809565deddd"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a965913d3c9fd1d6e1a48f809565deddd">_VoipHeadsetPS3_iDefaultCodecIdent</a> = 'celp'</td></tr>
<tr class="separator:a965913d3c9fd1d6e1a48f809565deddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94469cc879bb234cb9d94fbfabaf8b32"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a94469cc879bb234cb9d94fbfabaf8b32">_VoipHeadsetPS3_iDefaultSampleRate</a> = <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#adbb401a177908a70c0347eafcd2445d8">VOIP_HEADSET_DEFAULTSAMPLERATE</a></td></tr>
<tr class="separator:a94469cc879bb234cb9d94fbfabaf8b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>VoIP headset manager. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Electronic Arts 2006. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Summary of PS3 voice/voip operations:</dd></dl>
<p>Voip producer: voice data samples (floats) are obtained from the mic with calls to cellMicRead() voice data samples are grouped into "voice data bundles" in place, i.e. in the buffer being filled by cellMicRead() voice data bundles get encoded/compressed with <a class="el" href="../../d8/dc3/group__VoipCodec.html#ga45dc21e11e322b32469d6874987b50cb" title="Encode input data with the active codec. ">VoipCodecEncode()</a> the resulting data buffer is then passed to the voip transmission code for sending over the network the voip transmission code packs the compresssed voice data bundle as a sub-packet of a given voip packet (a voip packet can contain several sub-packets)</p>
<p>Voip consumer: the voip reception code unpacks sub-packets found in incoming voip packets each sub-packet is passed to the matching voip conduit (one conduit per local user) voip data is then decoded and mixed in the mix buffer mixed data is copied out of the mix buffer and fed into the audio device in chunks of size VOIP_HEADSET_BLOCK_SIZE bytes left-over mixed data (codec frame sizes tend to not match block output frame sizes) is retained for the next iteration</p>
<p>NOTE - we make the assumption that any left-over data that remains in the FrameData buffer and has not been written out to the audio output buffer when VAD kicks in can be disposed of; this data will be close to the VAD threshold and therefore it should not be easy to detect its absence.</p>
<p>Current configuration: voice bundles are set to capture from 20-40ms of samples, depending on input rate and codec codec input frame size and output data size depend on the codec; input frames range from 80 to 320 samples LPCM is supported only in loopback mode</p>
<dl class="section version"><dt>Version</dt><dd>1.0 08/10/2006 (tdills) Port from PSP to PS3 </dd>
<dd>
2.0 10/20/2011 (jbrookes) Major rewrite to fix issues and support more codecs/sample rates </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa1315455bb093b83cf1637595d1b36a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_BLOCK_SIZE&#160;&#160;&#160;(CELL_AUDIO_PORT_2CH * sizeof(float) * CELL_AUDIO_BLOCK_SAMPLES)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>block size (in bytes) used to empty mix buffer and feed headset </p>

</div>
</div>
<a class="anchor" id="a8119becf99634f40bb006b75f437a515"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_DEFAULTFRAMESAMPLES&#160;&#160;&#160;(160)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default number of samples/frame (20ms at 8khz) </p>

</div>
</div>
<a class="anchor" id="adbb401a177908a70c0347eafcd2445d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_DEFAULTSAMPLERATE&#160;&#160;&#160;(16000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default sample rate in hz </p>

</div>
</div>
<a class="anchor" id="a88779ea58d719792a92ca16b81e464e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_MAX_BLOCKS&#160;&#160;&#160;(9)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>max number of blocks that may be written out to audio at one time </p>

</div>
</div>
<a class="anchor" id="ab0ce22a23cdc55349c818ed10ee0dab4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_MAX_READ_SAMPLES&#160;&#160;&#160;(16000/10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>100ms worth of samples data at 16khz </p>

</div>
</div>
<a class="anchor" id="aed3677983188daa60f8f7c7143229fe6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_OUTBUFFER_BLOCKS&#160;&#160;&#160;(CELL_AUDIO_BLOCK_32)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>port size in blocks </p>

</div>
</div>
<a class="anchor" id="a00d1e2cf15b7596c884598b22c1dba3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_SOUND_TRIGGER_DECIBEL&#160;&#160;&#160;(50.0f)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>min volume to not trigger VAD </p>

</div>
</div>
<a class="anchor" id="ab0cd96332a8b49cc5465e073474c6962"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOIP_HEADSET_TALKING_MIN_DURATION&#160;&#160;&#160;(200)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>min duration to not trigger VAD </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a0f90bd0a5f8c19348b94b117da7ce18b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../df/dfe/structVoipHeadsetParamT.html">VoipHeadsetParamT</a>  <a class="el" href="../../df/dfe/structVoipHeadsetParamT.html">VoipHeadsetParamT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>headset sampling parameters </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aaaf6ee658ec0ea71d80e306e28891d98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t VoipHeadsetControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td>
          <td class="paramname"><em>pHeadset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iValue2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control function. </p>
<p><a class="anchor" id="VoipHeadsetControl"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pHeadset</td><td>- headset module state </td></tr>
    <tr><td class="paramname">iControl</td><td>- control selector </td></tr>
    <tr><td class="paramname">iValue</td><td>- control value </td></tr>
    <tr><td class="paramname">iValue2</td><td>- control value </td></tr>
    <tr><td class="paramname">*pValue</td><td>- control value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t - selector specific, or -1 if no such selector</dd></dl>
<dl class="section note"><dt>Note</dt><dd>iControl can be one of the following:</dd></dl>
<pre class="fragment">        'aloc' - activate/deactivate local user (enter/exit "participating" state)
        'agcl' - set automatic gain control target value
        'bkgn' - set background noise level
        'cdec' - create a new codec
        'dcde' - change default codec (shall be used prior to module creation)
        'drat' - change default sample rate (shall be used prior to module creation)
        'loop' - enable/disable loopback
        'mrat' - set mic input sample rate (8000hz or 16000hz)
        'rvrb' - set avg reverb time</pre><dl class="section version"><dt>Version</dt><dd>07/28/2004 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a965913d3c9fd1d6e1a48f809565deddd">_VoipHeadsetPS3_iDefaultCodecIdent</a>, <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a94469cc879bb234cb9d94fbfabaf8b32">_VoipHeadsetPS3_iDefaultSampleRate</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a61ecbc0c95f7a14ce80e4a3378ce4b41">VoipHeadsetRefT::bLoopback</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a22ec170bcc11f01f61dbff542b4d079f">VoipHeadsetRefT::bParticipating</a>, <a class="el" href="../../d0/db5/group__Platform.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a7c4256818256ce7fdc0afd0784350627">VoipHeadsetRefT::fBkgndNoiseGain</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#afa2fa555b261282b987b07150cbf4c78">VoipHeadsetRefT::iAGCLevel</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a7dbfb9b640e50dea18efe48729296d23">VoipHeadsetRefT::iReverb</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, and <a class="el" href="../../d0/db5/group__Platform.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d6f/group__Voip.html#ga8d91492cb8b48fdc4fc4fe3ee6670db6">VoipActivateLocalUser()</a>, <a class="el" href="../../dc/dd8/voipcommon_8c.html#ad9eb175a247e5ca8437caa18baf9bb6f">VoipCommonControl()</a>, and <a class="el" href="../../d3/d6f/group__Voip.html#ga8dcb7ad2a4f4610038b04f2af209821e">VoipControl()</a>.</p>

</div>
</div>
<a class="anchor" id="ac52e6d0e8c9cd9c19038ff42770596d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a>* VoipHeadsetCreate </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iMaxConduits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iMaxLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d22/voipheadset_8h.html#a0f12e40bdb302a5188be82dde395bada">VoipHeadsetMicDataCbT</a> *&#160;</td>
          <td class="paramname"><em>pMicDataCb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d22/voipheadset_8h.html#af6030c03bf0971973d49b1f33b6df6d3">VoipHeadsetStatusCbT</a> *&#160;</td>
          <td class="paramname"><em>pStatusCb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCbUserData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the headset manager. </p>
<p><a class="anchor" id="VoipHeadsetCreate"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iMaxConduits</td><td>- max number of conduits </td></tr>
    <tr><td class="paramname">iMaxLocal</td><td>- max number of local users (ignored because only primary user can do voip on PS3) </td></tr>
    <tr><td class="paramname">*pMicDataCb</td><td>- pointer to user callback to trigger when mic data is ready </td></tr>
    <tr><td class="paramname">*pStatusCb</td><td>- pointer to user callback to trigger when headset status changes </td></tr>
    <tr><td class="paramname">*pCbUserData</td><td>- pointer to user callback data </td></tr>
    <tr><td class="paramname">iData</td><td>- platform-specific - unused for PS3</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../db/d44/structVoipHeadsetRefT.html" title="VOIP module state data. ">VoipHeadsetRefT</a> * - pointer to module state, or NULL if an error occured</dd></dl>
<dl class="section version"><dt>Version</dt><dd>03/30/2004 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a965913d3c9fd1d6e1a48f809565deddd">_VoipHeadsetPS3_iDefaultCodecIdent</a>, <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#a94469cc879bb234cb9d94fbfabaf8b32">_VoipHeadsetPS3_iDefaultSampleRate</a>, <a class="el" href="../../d5/df8/group__DirtyMem.html#gad7507812366b85323e61c0da17907448">DirtyMemAlloc()</a>, <a class="el" href="../../d5/df8/group__DirtyMem.html#ga511050f9df5c6afddcec2c1244f824a6">DirtyMemFree()</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a7c4256818256ce7fdc0afd0784350627">VoipHeadsetRefT::fBkgndNoiseGain</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#afa2fa555b261282b987b07150cbf4c78">VoipHeadsetRefT::iAGCLevel</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#ac080ae7d5a2c3e87b93cc590fc96739c">VoipHeadsetRefT::iMaxConduits</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a7dbfb9b640e50dea18efe48729296d23">VoipHeadsetRefT::iReverb</a>, <a class="el" href="../../df/dfe/structVoipHeadsetParamT.html#a9c342df964a56ac57bc6ae78ecd17874">VoipHeadsetParamT::iSampleRate</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, <a class="el" href="../../d0/db5/group__Platform.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a4593f2fcddbc68125ac8d5cf3810f8a8">VoipHeadsetRefT::Param</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a85344ee444182ac1402f5631eb576f99">VoipHeadsetRefT::pCbUserData</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#af74559c11291dce871516ceb6abdbd5c">VoipHeadsetRefT::pConduitRef</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a55e12dd164917c4a4a9fc5057a181add">VoipHeadsetRefT::pMicDataCb</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#af2805b2a0b2b544c3a40a6f1d11c74da">VoipHeadsetRefT::pMixerRef</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a577538a053a7fffa879f26291dbd0c8f">VoipHeadsetRefT::pStatusCb</a>, <a class="el" href="../../d9/d95/group__VoipDef.html#ga2ab8eb5412b69568f643f72637ef695b">VOIP_MAXCONNECT</a>, <a class="el" href="../../d5/df8/group__DirtyMem.html#ga0396423cc5b9c553f38846a51533fe0c">VOIP_MEMID</a>, <a class="el" href="../../dc/d68/voipcelpps3_8c.html#a1967bc545ca2f1a9113371431632493a">VoipCelp8_CodecDef</a>, <a class="el" href="../../dc/d68/voipcelpps3_8c.html#abbf64e76259e1503ac282df027b1eae6">VoipCelp_CodecDef</a>, <a class="el" href="../../d8/dc3/group__VoipCodec.html#gaf926a489b52d555204cd3630bb36bca3">VoipCodecRegister()</a>, <a class="el" href="../../db/d10/voipconduit_8h.html#a1d79757b18f800ef1f5eca5cba9d7bbe">VoipConduitCreate()</a>, <a class="el" href="../../da/d2f/voipdvi_8h.html#ac5b2990cc93cddb194275f0b799edc98">VoipDVI_CodecDef</a>, <a class="el" href="../../d6/d0a/voippriv_8h.html#ac0785bed79a24cc85a9376647ae676c7">VoipMemGroupQuery()</a>, and <a class="el" href="../../dd/d3b/voippcm_8h.html#adb4ed2c5efabdc18a07745c9dd82f65c">VoipPCM_CodecDef</a>.</p>

<p>Referenced by <a class="el" href="../../dc/dd8/voipcommon_8c.html#a3b0fd1a540d2e30bdb39e6b2db7bf8e3">VoipCommonStartup()</a>.</p>

</div>
</div>
<a class="anchor" id="a9498bf3a53795febd7c9e322e7153471"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VoipHeadsetDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td>
          <td class="paramname"><em>pHeadset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the headset manager. </p>
<p><a class="anchor" id="VoipHeadsetDestroy"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pHeadset</td><td>- pointer to headset state</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>03/31/2004 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../d5/df8/group__DirtyMem.html#ga511050f9df5c6afddcec2c1244f824a6">DirtyMemFree()</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#af74559c11291dce871516ceb6abdbd5c">VoipHeadsetRefT::pConduitRef</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#af2805b2a0b2b544c3a40a6f1d11c74da">VoipHeadsetRefT::pMixerRef</a>, <a class="el" href="../../d5/df8/group__DirtyMem.html#ga0396423cc5b9c553f38846a51533fe0c">VOIP_MEMID</a>, <a class="el" href="../../d8/dc3/group__VoipCodec.html#ga06a886869000abac36b837d3dc835dca">VoipCodecDestroy()</a>, <a class="el" href="../../db/d10/voipconduit_8h.html#afd0ee9edcdc02730b019f41f87f3a26a">VoipConduitDestroy()</a>, <a class="el" href="../../d6/d0a/voippriv_8h.html#ac0785bed79a24cc85a9376647ae676c7">VoipMemGroupQuery()</a>, and <a class="el" href="../../d6/d01/voipmixer_8h.html#a2b6dc7b1087f964eab493d45d01bdeb2">VoipMixerDestroy()</a>.</p>

<p>Referenced by <a class="el" href="../../dc/dd8/voipcommon_8c.html#a91bba3abab4d540ede32b7b4a2b5b698">VoipCommonShutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a6fe7a70f57dc22b61af43717d12fa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VoipHeadsetProcess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td>
          <td class="paramname"><em>pHeadset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uFrameCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Headset process function. </p>
<p><a class="anchor" id="VoipHeadsetProcess"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pHeadset</td><td>- pointer to headset state </td></tr>
    <tr><td class="paramname">uFrameCount</td><td>- current frame count</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>03/31/2004 (jbrookes) </dd></dl>

</div>
</div>
<a class="anchor" id="ad5eb96c0265d7a53cd782f78a1246403"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VoipHeadsetReceiveVoiceDataCb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d9a/structVoipUserT.html">VoipUserT</a> *&#160;</td>
          <td class="paramname"><em>pRemoteUsers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc3/structVoipMicrInfoT.html">VoipMicrInfoT</a> *&#160;</td>
          <td class="paramname"><em>pMicrInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pPacketData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connectionlist callback to handle receiving a voice packet from a remote peer. </p>
<p><a class="anchor" id="VoipReceiveVoiceDataCb"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pRemoteUsers</td><td>- user we're receiving the voice data from </td></tr>
    <tr><td class="paramname">*pMicrInfo</td><td>- micr info from inbound packet </td></tr>
    <tr><td class="paramname">*pPacketData</td><td>- pointer to beginning of data in packet payload </td></tr>
    <tr><td class="paramname">*pUserData</td><td>- VoipHeadsetT ref</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>03/21/2004 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a7d2a6eb8990538123f23019816af2585">VoipHeadsetRefT::bPlaying</a>, <a class="el" href="../../d0/db5/group__Platform.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="../../df/dfe/structVoipHeadsetParamT.html#ab95c2f37fa9a6358f8e8116bac009b11">VoipHeadsetParamT::iCmpFrameSize</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#gaf6e281cce23380cd22a8b3123da4d2f7">NetPrintfVerbose</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a4593f2fcddbc68125ac8d5cf3810f8a8">VoipHeadsetRefT::Param</a>, <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#af74559c11291dce871516ceb6abdbd5c">VoipHeadsetRefT::pConduitRef</a>, <a class="el" href="../../d5/dc3/structVoipMicrInfoT.html#aab0d7021ad2d1acd3bf93907f1e8ae9a">VoipMicrInfoT::uNumSubPackets</a>, <a class="el" href="../../d5/dc3/structVoipMicrInfoT.html#afad7e79b5cba12d5eab8cf56740f15a4">VoipMicrInfoT::uSeqn</a>, <a class="el" href="../../d5/dc3/structVoipMicrInfoT.html#a7eec0a81fa94de7b344ecf22053043a1">VoipMicrInfoT::uSubPacketSize</a>, <a class="el" href="../../d5/dc3/structVoipMicrInfoT.html#a409a29d3e14fefe6acac1cdb3662e5da">VoipMicrInfoT::uUserIndex</a>, and <a class="el" href="../../db/d10/voipconduit_8h.html#a21c5e1a4f3b621480508c6a861f27373">VoipConduitReceiveVoiceData()</a>.</p>

<p>Referenced by <a class="el" href="../../dc/dd8/voipcommon_8c.html#a3b0fd1a540d2e30bdb39e6b2db7bf8e3">VoipCommonStartup()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c834ba390a47b4d627699e92d53e6dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VoipHeadsetRegisterUserCb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d9a/structVoipUserT.html">VoipUserT</a> *&#160;</td>
          <td class="paramname"><em>pRemoteUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bRegister</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connectionlist callback to register/unregister a new user with the VoipConduit module. </p>
<p><a class="anchor" id="VoipRegisterUserCb"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pRemoteUser</td><td>- user to register </td></tr>
    <tr><td class="paramname">bRegister</td><td>- true=register, false=unregister </td></tr>
    <tr><td class="paramname">*pUserData</td><td>- voipheadset module ref</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>03/21/2004 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#af74559c11291dce871516ceb6abdbd5c">VoipHeadsetRefT::pConduitRef</a>, and <a class="el" href="../../db/d10/voipconduit_8h.html#a8d6e14bd2fef42da32564c0147c48346">VoipConduitRegisterUser()</a>.</p>

<p>Referenced by <a class="el" href="../../dc/dd8/voipcommon_8c.html#a3b0fd1a540d2e30bdb39e6b2db7bf8e3">VoipCommonStartup()</a>.</p>

</div>
</div>
<a class="anchor" id="a9213d20e455175fe8d23a2e5f8f3184a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VoipHeadsetSetVolume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td>
          <td class="paramname"><em>pHeadset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iPlayVol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>iRecVol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets play and record volume. </p>
<p><a class="anchor" id="VoipHeadsetSetVolume"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pHeadset</td><td>- pointer to headset state </td></tr>
    <tr><td class="paramname">iPlayVol</td><td>- play volume to set </td></tr>
    <tr><td class="paramname">iRecVol</td><td>- record volume to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>To not set a value, specify it as -1.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>03/31/2004 (jbrookes) </dd></dl>

</div>
</div>
<a class="anchor" id="a5215825f3ca2a03fd9bb3e06eee402ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VoipHeadsetSpkrCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td>
          <td class="paramname"><em>pHeadset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d95/group__VoipDef.html#gadc223af71ed6df4b7652e607ac6c7472">VoipSpkrCallbackT</a> *&#160;</td>
          <td class="paramname"><em>pCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set speaker output callback. </p>
<p><a class="anchor" id="VoipHeadsetSpkrCallback"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pHeadset</td><td>- headset module state </td></tr>
    <tr><td class="paramname">*pCallback</td><td>- what to call when output data is available </td></tr>
    <tr><td class="paramname">*pUserData</td><td>- user data for callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>10/31/2011 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#abef288b6054c2055ea4f7a06f4be0793">VoipHeadsetRefT::pSpkrCbUserData</a>, and <a class="el" href="../../db/d44/structVoipHeadsetRefT.html#a1b00ad120612465b9a3ba7c1926f7d71">VoipHeadsetRefT::pSpkrDataCb</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d6f/group__Voip.html#ga75fee72ea41a4074969f4cf22735a919">VoipSpkrCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="a8065c4e174b9083d419cffc6732f13cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t VoipHeadsetStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d44/structVoipHeadsetRefT.html">VoipHeadsetRefT</a> *&#160;</td>
          <td class="paramname"><em>pHeadset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iSelect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iBufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status function. </p>
<p><a class="anchor" id="VoipHeadsetStatus"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pHeadset</td><td>- headset module state </td></tr>
    <tr><td class="paramname">iSelect</td><td>- control selector </td></tr>
    <tr><td class="paramname">iValue</td><td>- selector specific </td></tr>
    <tr><td class="paramname">*pBuf</td><td>- buffer pointer </td></tr>
    <tr><td class="paramname">iBufSize</td><td>- buffer size</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t - selector specific, or -1 if no such selector</dd></dl>
<dl class="section note"><dt>Note</dt><dd>iSelect can be one of the following:</dd></dl>
<dl class="section version"><dt>Version</dt><dd>07/28/2004 (jbrookes) </dd></dl>

<p>Referenced by <a class="el" href="../../dc/dd8/voipcommon_8c.html#a2dc590d610e31eb63887a42ce839b65a">VoipCommonStatus()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a965913d3c9fd1d6e1a48f809565deddd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t _VoipHeadsetPS3_iDefaultCodecIdent = 'celp'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#aaaf6ee658ec0ea71d80e306e28891d98">VoipHeadsetControl()</a>, and <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#ac52e6d0e8c9cd9c19038ff42770596d8">VoipHeadsetCreate()</a>.</p>

</div>
</div>
<a class="anchor" id="a94469cc879bb234cb9d94fbfabaf8b32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t _VoipHeadsetPS3_iDefaultSampleRate = <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#adbb401a177908a70c0347eafcd2445d8">VOIP_HEADSET_DEFAULTSAMPLERATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#aaaf6ee658ec0ea71d80e306e28891d98">VoipHeadsetControl()</a>, and <a class="el" href="../../d5/d0b/voipheadsetps3_8c.html#ac52e6d0e8c9cd9c19038ff42770596d8">VoipHeadsetCreate()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Jun 5 2015 16:26:41</span><br />
</td></tr>
</table>
