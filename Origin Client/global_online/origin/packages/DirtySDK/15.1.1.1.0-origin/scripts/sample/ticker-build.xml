<project>
    <Program name="ticker">
        <frompartial value="DSProgram" unless="${config-system} == 'pc' or ${config-system} == 'pc64'"/>
        <frompartial value="WinDSProgram" if="${config-system} == 'pc' or ${config-system} == 'pc64'"/>

        <includedirs>
            ${package.dir}/sample/common/include
        </includedirs>

        <sourcefiles basedir="${package.dir}">
            <includes fromfile="${package.dir}/sample/ticker/project/${dirtyplat}/source.txt" if="@{FileExists('${package.dir}/sample/ticker/project/${dirtyplat}/source.txt')}"/>
            <includes fromfile="${package.dir}/sample/ticker/project/${dirtyplat}/sourcecpp.txt" if="@{FileExists('${package.dir}/sample/ticker/project/${dirtyplat}/sourcecpp.txt')} and ${dirtyplat} == 'winrt'" optionset="Program"/>
            <includes fromfile="${package.dir}/sample/ticker/project/${dirtyplat}/sourcecpp.txt" if="@{FileExists('${package.dir}/sample/ticker/project/${dirtyplat}/sourcecpp.txt')} and ${dirtyplat} != 'winrt'"/>
        </sourcefiles>

        <dependencies>
            <auto>
                DirtySDK/dirtysock

                <do if="${config-system} == 'kettle'">
                    EABase
                    EASTL
                    coreallocator
                    PPMalloc
                    EASystemEventMessageDispatcher
                    EAAssert
                    EAThread
                    IEASystemEventMessageDispatcher
                    EAMessage

                    <do unless="${dirtysdk-noieauser??false}">
                        IEAUser
                        IEAController
                        EAControllerUserPairing
                    </do>
                </do>

                <do if="${config-system} == 'ps3'">
                    PlayStation3NPEx
                </do>
            </auto>
        </dependencies>

        <config>
            <defines if="${config-system} == 'kettle' and not ${dirtysdk-noieauser??false}">
                DIRTYSDK_IEAUSER_ENABLED
            </defines>

            <warningsuppression>
                <do if="${config-system} == 'winrt' or ${config-system} == 'winprt'">
                    -wd4574 <!-- 'NULL' is defined to be '0': did you mean to use '#if NULL' -->
                </do>

                <do if="${config-compiler} == 'sn'">
                    --diag_suppress=552  <!-- variable set but never used -->
                </do>

                <do if="${config-compiler} == 'gcc'">
                    -Wno-unused-but-set-variable
                </do>
            </warningsuppression>
        </config>
    </Program>
</project>
