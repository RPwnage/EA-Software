Dirtysock SDK 1.9.0 Patch 1 - November 21, 2003

    Contrib

        DirtyDnas (PS2)
            Updated to DNAS V3 messages for all territories, including new language
			options for SCEA (Spanish and French) and new supported error codes
			(-603 and -626), as well as revamped message text.
			Added UTF-8 output option.


Dirtysock SDK 1.9.0 - November 5, 2003

    DirtySock (All)
        
        BuddyApi
			Added BUDDYAPI_PROD_BOND3 product code.


Dirtysock SDK 1.8.2 Patch 3 - October 20, 2003

    DirtySock (All)
        
        BuddyApi
            Fixed a problem where, if another user "switched" products during a
            session, BuddyApi would continue to think they were using the
            original product.
            Fixed a bug where a session timeout followed by receiving data from
            the Buddy server could potentially cause a crash.


Dirtysock SDK 1.8.2 Patch 2 - October 8, 2003

    Contrib

        DirtyDnas (PS2)
            Fixed a data problem with the text for Danish error -108 that caused
            DirtyDnas to crash.
            
    DirtySock (PS2)
        
        NetGameLink-e.c
            Fixed a bug in the invalid packet detection logic that incorrectly
            flagged valid packets being sent by NetGameDist as invalid.
            
    DirtySock (IOP)
    
        Connect-i.c
            Added memset of buffer selected netconfig is loaded into when
            NetConnConnect() is called, suggested by Sony.
    
        NetGameLink-i.c
            Fixed a bug in the invalid packet detection logic that incorrectly
            flagged valid packets being sent by NetGameDist as invalid.
            
        Startup-i.c
            Compiled in power-off handler.  Power-off handling can be activated
            by passing "reset=1" as a commandline argument to the DirtySock IRX.
            See democfg.h for an example.  NOTE: the power-off handler will only
            be triggered by hitting reset on a TEST or retail PS2.
            
    Sample (PS2)

        Democfg.h
            Added "reset=1" to test power-off handler.


Dirtysock SDK 1.8.2 Patch 1 - September 30, 2003

    DirtySock (All)

        LobbyApi
            Added LobbyApiStatus('host') to return IP address of lobby server.

        NetGameLink
            Fixed NetGameLinkControl() to handle cases where Send(0) returns an
            error (for example, after the connection has been shut down).
            
    DirtySock (PS2)
        
        Rpc-e.c
            Fixed a rare bug where the length returned by RpcPeek() could be one
            transfer stale.  This would tend to manifest when subsequent packet
            lengths % 16 were equal to each other, but the lengths themselves were
            not equal, and a DMA from the IOP occured in the middle of RpcPeek()
            execution.  The result was to permanently stall the IOP->EE
            gamelink communication on the receiving side.
            
    DirtySock (IOP)
    
        Connect-i.c
            Added new return codes (-ans and -car) to NetConnStatus('conn') for AOL
            support.  Also added copy of result string to putbuffer.
    
        NetGameLink-i.c
            Fixed a rare deadlock situation between netgamelink-i critical section
            and netgamelink critical section, when accessed from two different
            threads.


Dirtysock SDK 1.8.2 - September 19, 2003


Changes/Bugfixes in this release:

    Contrib

        DirtyDnas (PS2)
            Added Danish, Finnish, and Norwegian error string support.
            
    DirtySock (All)
    
        LobbyApi
            Changed LobbyApiConnect() from expecting a numerical address
            to expecting a string address.  This string address will be
            resolved to a numerical address internally using DNS.
    
        ProtoMangle
            Bugfix to continue getting HTTP body data until it is all downloaded,
            instead of assuming the body comes complete with the header.
            
        TourneyApiPogo
            Fix the timeout code so that the callback is called
            if the timeout is exceeded.

            Fix the copying of user parameters so that all the
            parameters are copied -- previously the last byte was not
            copied.

            Use LobbyNameCmp when comparing usernames, not strcmp.
            This fixes a problem due to the server collapsing spaces
            in the names it returns.

    DirtySock (PS2)
    
        NetConn
            Added device type (sceNetCnf_ICF_TYPE_*) to NetConfigRecT.  This
            allows identification of what type of device a given network
            configuration uses.

    Doc

        Network Checklist (PS2)
            Major update with many new items, and additions to previous
            ones.
            
    Sample (PS2)

        DnasTest
            Removed DNAT_20001 sample data, as it has been expired by Sony
            and is no longer useful.  Removed dnastest.elf and dnastest_static.elf
            from distribution for the same reason.
        
    Sample (PC)
    
        Chatter
            Changed presense strings to include (c), (r), and (tm) symbols for
            use in testing a title's ability to display these symbols
            correctly.
            

Dirtysock SDK 1.8.1 Patch 1 - August 15, 2003

    Contrib
    
        DirtyDnas (PS2)
            Workaround for DNAS IOP memory leak when aborting DNAS.

    DirtySock (All)

        LobbyHasher
            Added HasherCount to return number of items in hash table.
            
        TourneyApiPogo
            Ensure the TOURNEYAPI_FLAG_COMPLETED is set in the TourneyApiIdent
            iSysFlags for any completed tournaments (1.8.1.1).

    DirtySock (PS2)
    
        NetConn
            Modified _BuildConfigList in connect-i to return error result
            directly from sceNetCnfLoadEntry instead of returning -1.  This
            result ends up being returned by NetConnQuery() on the EE.


Dirtysock SDK 1.8.1 - August 9, 2003


Changes/Bugfixes in this release:

    PC - All
        Removed Visual Studio projects from source control, removed source control files.
        
    Contrib
        
        DirtyDnas (PS2)
            Added documentation for building elfs for other lib versions and territories.
            Added Japanese language error strings.
    
    DirtySock (All)
    
        LobbyApi
            Added 'sess' field to LobbyApiPlayT, to store unique session identifier
            common to both clients participating in a game.
            Modified client to get SESS from server, if present, else construct it
            from other fields.
    
        ProtoMangle
            Added demangler documentation links.
            Added ProtoMangleReport.
    
        TourneyApi
            Handle case where ProtoAdvertCreate() fails in TourneyApiCreate().
    
        TourneyApiPogo
            Report the score in game params.
            Return startTime and timestamp in tourney user parms.
            Fixed bugs re: sponsor, maxMembers and completed=true for mine query.
            Fixed an nba start time problem.
            Truncate debug out on returned xml,.
            Pass in rollalign to server.
            
    DirtySock (PC)
        DirtyNetWin
            Added SocketGetLocalAddr().
            
        NetConn
            Added NetConnStatus('addr') support.
               
    DirtySock (PS2)
    
        NetConn
            Changed NetConnStartup() to return an error if RpcStartEE fails.
            Added NetConnStatus('plug'), to return the physical SCE/Ethernet plug status
        
    DirtySock (IOP)
    
        ProtoAdvt-i
            Fixed bug freeing ref->inpdata on shutdown.  This was causing incorrect
            memory tracking.
        
    Sample (PS2)
       
        Buddy
            Added call to BuddyApiDestroy() on shutdown.
            Changed default server to point to production.
            
        Lobby
            Added LobbyApiDestroy on shutdown.
            Added room sort function.
            Fixed news to work with up to 16k of news, and to truncate after 16k.
            Changed room display to only show rooms that aren't full.
        
    Sample (Win32)
    
        Chatter
            Fixed a bug where the roster wasn't set to NULL after disconnect.  This would
            cause the application to crash if an attempt was made to connect after a
            disconnect.
            
            
Dirtysock SDK 1.7.3 Patch 1 - August 1, 2003


    Contrib
        
        DirtyDnas (PS2)
            Added multiregion building support.

    DirtySock (All)

        TourneyApi
	        Fixed problem with tournament withdraws causing incorrect tournament
    	    results.  Users withdrawing in a prior round were causing their opponents
	        to appear as a no show rather than automatically advancing.

            Added some missing tournament error code mappings :-
                '#new' 'filt' -> TOURNEYAPI_ERROR_PROFANE
                '#new' 'tsta' -> TOURNEYAPI_ERROR_STARTED

        TourneyApiPogo
            Report the score in game params.
            
            Added two new error codes for pogo tournaments:
                #define TOURNEYAPI_ERROR_INELIGIBLE   'inel'
                #define TOURNEYAPI_ERROR_INVITE       'invt'
                
                
Dirtysock SDK 1.7.3 - July 25, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas (PS2)
            Changed to make it such that a GetUniqueID request is first
            preceded by an AuthNetStart transaction, as required by Sony.
            Added code to encode the 8bit Unique ID sequence as a hex-encoded
            ASCII string.
            Moved "Operation Cancelled by User" and "Unknown Client Error" error strings
            into language-specific files.
            Fixed Portuguese message text to be formatted properly for DirtyDnas.
            Added DIRTYDNAS_LOGALL option, conditionally compiled out by default
            
        VOIP
            Added currently verified lgAud IRX, 1.08.000, to distribution, along with
            the logitech licencing document and changelog.
        
    Doc
        Network Checklist (PS2)
            New DNAS legal notices item.
            New Logitech lgAud version check/legal notice item.
            New LobbyApiCreate item.

    DirtySock (ALL)

        LobbyApi
            Fixed a problem with snap lists not calling their callbacks properly if an
            error code was returned from the 'snap' command.  The internal snapopen
            index wasn't being decremented in this case.

        TourneyApiPogo
            Fixed the round numbering -- from 0.
            Compact game struct.
            Point to cso04 in path url.
            Fixed compiler warnings for PS2.
            Fixed a lot of FIFA params stuff on create.

    DirtySock (PS2)
        Altered the PS2 makefile so that the user has a
        choice of whether to build the Tiburon tourney
        server or the Pogo tourney server.
    
        Fixed some signed/unsigned comparisons that caused
        a couple of the xml files not to compile on the PS2
        where warnings => errors.
                
    DirtySock (IOP)
        Fixed PPPoE detection in NetConnStatus('type') call.
    
    Sample (PS2)
        Dnas
            Replaced keyboard support with controller support, added new DirtyDnas errors.

    Sample (Win32)        
        Chatter
            Disabled subject box, as subjects are not allowed any more.
            Fixed bug that caused ignore flag to not get updated.
            

Dirtysock SDK 1.7.1 Patch 2 - July 18, 2003


Changes/Bugfixes in this release:

    DirtySock (All)
    
        TourneyApi
        TourneySingle
            Fixed a bug in tournament parser when two users who are matched against each
            other withdraw from the tournament.

            
Dirtysock SDK 1.7.1 Patch 1 - July 14, 2003


Changes/Bugfixes in this release:

    DirtySock (All)

        LobbyCodes
            Added string result defines.

        TourneyApi
            Added iRollalign parameter to TourneyApiReqCreate() function to
            allow control over whether the iRoll param is relative to a day,
            an hour, or an arbitrary value.  This is useful for tournaments
            whose round lengths are short (hours rather than days).  This
            parameter should be set to TOURNEYAPI_ROLL_DAY to retain previous
            semantics.
            

Dirtysock SDK 1.7.1 - July 11, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas (PS2)
            Updated to new Sony notes file.
        
        USBKey (PS2)
            Added USBKeyHasKeyboard().
            
        VOIP
            Fixed a bug introduced in VOIP 2.5 that could, based on how soon
            VOIPBootInit() was called after the VOIP IRX was loaded, cause
            VOIP to not know a headset had been successfully enumerated.
            Fixed problem with volume setting.
            
    Doc
        Network Checklist (PS2)
            Added VOIP port info.
            Added Cheat Device detection info.

    DirtySock (ALL)
        LobbyApi
            'snap' fix.

        LobbyNames
            Fixed for c++ compilers.

        NetGameLink
            Added NetGameLinkControl().

    Sample (PS2)
        Demolib
            Added dpad support and network configuration picker to all
            network samples.
            Fixed dial_spd.cnf path for modem support.
            Made load of INETLOG.IRX optional.
            
        Gamer
            Added listen option (pass 'list' as commandline parameter to set
            in listen mode) so two PS2 clients can connect to each other.
            Added clean disconnect, using NetGameLinkControl().
            
        Ticker
            Moved network calls in-line so as to provide a more direct network
            sample.
            


Dirtysock SDK 1.7.0 - July 3, 2003


New in this release:

    Doc (PS2)
        NetworkChecklist.htm
            New network checklist for PS2 titles.


Changes/Bugfixes in this release:

    DirtySock (ALL)
        ProtoHttp
            Fixed header compares to be case-insensitive, as specified in the RFC.            
            
        TourneyApi
            Added TourneyApiReqDelete() API function to allow user to delete
            tournaments owned by them.
            
    DirtySock (PS2)
        NetConn
            Fixed a bug in NetConnQuery where it wasn't syncing the DCache, which
            could cause random trash to appear in the result string.

    Contrib
        DirtyDnas (PS2)
            Fixed conditional compile sceDNAS2InitNoHDD() version check.
            Added Dutch, Swedish, and Portuguese language support.
            Added missing link ref for linking against libver 2.7.2.
            
        VOIP (PS2)
            New DMA status support - faster and more reliable.
            Allow connect with zero address (listen mode).

    Sample (PS2)
        Tourney
            Added ability to delete tournaments.
        

Dirtysock SDK 1.6.3 - June 27, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas (PS2)
            Added multi-region/language error code support, added UNICODE output option.
            One undocmented error -864.
            Fixed DNAS error logging DNS lookup (debug only) to timeout after ten seconds.
            Added DirtyDnas error text spreadsheet (from Sony+modifications for export).
            Added Korean (SCEK) error strings, and English, French, German, Spanish, and Italian (SCEE).

    DirtySock (ALL)
        LobbyCodes
            Added EC_CHAT_DEVICE
            
        TourneyApi
            Added tournament complete system flag.
            Fixed propoagation of results to upper round and treated default-win as wait state.
            Fixed problem with game results not being properly handled if a rollover record existed
            prior to the game result being reported.
            Fixed problem with games appearing to have been completed due to rollover before the
            round was actually complete.
            Fixed bug in user leave processing.
            
        TourneySingle
            Fixed problem with mapping of #defines.
            
    DirtySock (PS2)
        Added lobbycheat.c
        
        Connect-i
            Changed to optionally allow existing network connection to be used.
        
    DirtySock (PC)
        Added critical sections around access to two global lists to protect from multithread access.
        
    Sample
        Tourney
            Show winner info.
            Upped team index limiter (iUniqTeams).
            Slight modification to default config file teams.


Dirtysock SDK 1.6.2 - June 20, 2003


New in this release:

    DirtySock (All)
        LobbyApi
            Added support for handling ranking list clear operations sent when
            RankSyncClear() is called on the master lobby server.
            
    Doc
        iopdepend.txt - Sony documentation on PS2 IOP module dependencies.
        iopmodule.txt - Sony documentation on PS2 IOP module footprint, and removability.

    Winutil (PC)
        New windows utilities to do basic stuff like file deletion, directory creation, etc,
        so as to remove the dependency of our PS2 makefiles on cygwin.

Changes/Bugfixes in this release:

    Contrib
        DirtyDnas (PS2)
            Fixed to include .bss segment in static linked elf.
            Fixed to correctly use _heap_size as defined in dirtydnas_rel.cmd.
            Fixed .bss clearing to work with the new bss definitions in dirtydnas_rel.cmd.
            Changed name of relocatable elfs to be "dirtydnas.elf" and "dirtydnas_static.elf".
            Added language enum to input block (not used yet).
            Added new "errors" spreadsheet from Sony to distribution.
            
        VOIP (PS2)
            Added suggested VOIP port define.
            Fixed broadband detection to detect PPPoE as broadband.
            Fixed bug in broadband detection that could allow a previously active interface
            to be detected as active.

    DirtySock (ALL)
        BuddyApi
            Do immediate send when presence status changes
        
        LobbyApi
            Added LOBBYAPI_HW_PPPOE define.
        
        NetConn
            Added new network interface type flags, removed old obsolete flags.
        
        ProtoAdvert
            Case-insensitive string compares
        
        ProtoMangle
            Added server/port data to ProtoMangleCreate.
        
        TourneyApi
            Added tree exporter
            Allow importing a previously exported tournament tree.
            Allow explicit tourney tree to be imported
            Added TOURNEY_ERROR_TWICE.
            Return current round value in GetState
            Let server send validated game results
            
    DirtySock (PS2)
        NetConn
            Added new NetConnStatus() parm 'type', returning verbose network interface type
            flags (NETCONN_IFTYPE_*).
            
    Sample
        Flame2 (PC)
            Disabled lobby event ignore on scroll lock.
            Fixed snapshot list index formatting and added code to reload snapshots of less
            than 10 items on redisplay.
            
        Tourney (PC)
            Fixed news text box to accept multiline text.
         


Dirtysock SDK 1.6.1 - June 13, 2003


New in this release:

    DirtySock (All)
        LobbyNames
            Added module with functions for safely comparing persona and account
            names.

        TourneyAPI
            Replaced strcmp usage with LobbyPersonaCmp to safely compare
            persona names.


Changes/Bugfixes in this release:
        
    DirtySock (All)
        BuddyApi
            Added current roster list accessor.
            
        LobbyApi
            Fixed _LobbyApiCheckQueue() (debug only) to not warn if multiple
            requests of the given type are enqueued, as long as the first queue
            element matches.
            
        LobbyDispList
            Extra NULL check in DispListIndex

        ProtoMangle            
            Switched to HTTP/1.1 for keep-alive.
            
        TourneyAPI
            Fixed memory leak in API.  One chunk of memory was not being freed
            when TourneyApiDestroy() was called.

            Added processing of users who were online at the round rollover
            time but hadn't played their game yet.  If one of the users of a
            game was online in a window before the rollover time, that user
            gets the win.

            Added round start time to TourneyApiRoundT structure to allow
            clients to show when the next round starts.
            
            Translate "too young" error and invalidate cached tournament when blob freed.
            
         TourneySingle
            Fixed problem with default wins from round rollover not being
            handled properly resulting in incorrect winner being declared.

    Contrib
        VOIP (IOP)
            Added thread priority parameter.
            Upped version number.
            Updated documentation.
            
        DirtyDnas (PS2)
            Major update to documentation.
            Added versioning, and an scePrintf() if the lib/relocatable versions differ.
            Added minimum time requirement for logging a cancel event.
            Added libver >= 2.7.1 compatibility.
            Fixed COM_ERROR simulation.
            Added region type specification.
            Added SCEE error message text.
            
    Sample (PS2)
        Buddy
            Added /pres command.
            
        Dnastest
            Updated for API changes.
            Added COM errors to error list test.
            Moved keyboard init so it wouldn't sporadically fail to report a keyboard.
            
    Sample (PC)
        Chatter
            Added utf8encode of presence strings that are set manually.
            Fixed a bug where presence was being decoded over private buddy roster
            string, which resulted in multiple decodes and utf8 'decoding' of 8bit ascii text.
    
        Tourney
            New round time options, explicit rollover time control, refresh fixed.
            ROUND and ROLLOVER params being passed to tourney server were given in
            hours rather than minutes.
    

Dirtysock SDK 1.6.0 - June 6, 2003


New in this release:

    Documentation
        VOIP
            Added logitech legal pdf (contrib\voip\doc\liblgaud_license_agreement.pdf)

Changes/Bugfixes in this release:

    Contrib
        DirtyDnas (PS2)
            Error logging only for debug builds.
            Sanitized cancel and unknown error string.
            Added undocumented errors
            Thread priority changes internalized
            Changed to use sceCdDiskReady() instead of fully initializing cd/dvd system

    DirtySock (All)
        BuddyApi
            Fixed bugs in body/subject limit test
            
        LobbyApi
            Once connected the LobbyApi periodically sends out an 
            ICMP echo request to the server and hopes to get an
            ICMP echo reply back.  If it does the time taken for
            the ping is measured and sent back to the server in the
            next Aries ~png message.  This time is then used by the
            server as the estimate of the clients network latency
            
        TourneyApi
            Added "mod" support for ReqUpdate
            Added error mapping for #cre command to handle profanity filtering
            
    DirtySock (PS2)
        Added CryptArc4 and CryptMD5 to library
            
    Sample (PS2)
        DnasTest
            Fixed to load dnas image
                       

Dirtysock SDK 1.5.4 - May 31, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas (PS2)
            Rewritten to be polling
            
        VOIP (PS2)
            Added async GetStatus call, minor coding standard update

    DirtySock (All)
        BuddyApi
            Added "no other namespace" flag
            Timeout support for transactions
            Single end-roster callback now made (instead of double callback)
            Make roster-get work even if entries already in list
            Added (c), (r), and (tm) UTF-8 defines
            
        LobbyApiSort
            Lowered stack usage in console environment
            
        LobbyUtf8
            Fixed unsigned char parm that was causing errors in C++ compiles
            
        TourneyApi
            Added profanity error type
            
    DirtySock (IOP)
        Connect-i
            Added broadband detection
        
    DirtySock (PS2)
        NetConn
            Added 'bbnd' support to NetConnStatus()
            Added defines for errors returned by NetConnStatus('conn')

    Sample (PC)
        Chatter
            Supports "no other namespace" flag
            Added (c) and (r) to utf8 decode table
            Utf8 decode presence string
            Added (tm) translation to translation table
            Added (c) to Chatter presence string
            "Same product" identifier fix from kaz
            
        Tourney
            Added sponsor flag
            Tourney password strlen bumped up to 17 from 13
            
    Sample (PS2)
        Voctest
            Only turn mic on if off, and off if on
            Added output and timing of VOIPGetStatusAsync()
        

-------------------------------------------------


Dirtysock SDK 1.5.3 - May 23, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas
            Made bDebugFlag not compile out if CODE_DEBUG is FALSE.  This allows use of
            debug or release elf with debug or release lib.
            Updated Unique ID support
            Added error result logging to EA server log
            
        VOIP (IOP)
            16:3 compression to reduce bandwidth requirement
            Added broadband connection detection, plus broadband detection status flag
            Changed default playback volume to 80, default record volume to 20
            Added active flag (won't send unless both broadband & headset on both sides)
            

    DirtySock (All)
        BuddyApi
            Update with formatted name during add
            Final BuddyApi for NCAA candidate -- now uses /CSO/sub-domain
            Use empty product table
            
        ProtoPing
            Fixed a bug where a timeexceeded response would generate an large invalid
            ping.  Also fixed a bug where a ping could be zero, when zero is the value
            used to indicate timeouts
            
        TourneyApi
            Added support for update
            Fixed unique teams problem
            
        LobbyApi
            Can now pass tagfield formatted block for version in create call
            
    DirtySock (IOP)
        Added user authorization error for ppp/pppoe
        
    DirtySock (PS2)
        NetConn
            Added buffer pass-through for NetConnStatus('stat')

    Sample (PC)
        Chatter
            Fixed bug passing strlen(strBuf) instead of sizeof(strBuf) to
            Utf8TranslateTo8Bit, which was truncating strings by one character
            
        Tourney
            Added initial tournament refresh support to demo update
            
    Sample (PS2)
        Added DENO_MEMCFG define to democfg.h, used to select the memcard config to use
        

-------------------------------------------------


Dirtysock SDK 1.5.1 - May 9, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas
            Added Unique ID support
            Added DNAS Cancel support
            Bumped up internal heap size by 32k for safety
            
        USBKey
            Fixes for multiple keyboard support
            Changed to indicate update if only mkey and/or led changed
            
        VOIP (IOP)
            Address remapping (NAT fix)
            Fixed bug in enumeration code that could cause thread to hang
            if a device > 0 was available
            UDP buffer limiting, to prevent VOIP overflow from affecting DirtySock
            Fixed bug accessing hardware when not present

    DirtySock (All)
        CommUDP
            Address remapping fix
            
        LobbyApi
            Reduced max size of packet data print to 240
            
    DirtySock (IOP)
        Rpc/NetGameLink
            Removed calls to FlushDCache that were interfering with VOIP

    Sample (PC)
        Tourney
            "Simulate Withdraw" (#lea) command was failing because AUTH and
            USER params were not being sent to server.
            
    Sample (PS2)
        DNAS
            Added Unique ID support
            Added DNAS Cancel support
        

-------------------------------------------------


Dirtysock SDK 1.5 - May 2, 2003


Changes/Bugfixes in this release:

    Contrib
        DirtyDnas
            Fixed relocation bug dealing with ABS relocations
            Added return of error code + error strings in parm block on error
            Added support for ParmBlock.iErrType generating error of given type in debug build
            
        VOIP
            Reworked networking to fix firewall port mangling case
            Changed receive to avoid overlapped packets
            
    DirtySock (All)
        BuddyApi
            Slightly faster presence updates
            Fixed problem with recv debug data
            Displays send packets with debug output
            Fixed problem with end-roster callback crashing when callback not set
            
        LobbyHasher
            Added ability to specify custom function to compare string keys
            
    Sample (PC)
        Flame2
            Fixed bug in snapshot (was not selecting which one)


-------------------------------------------------


Dirtysock SDK 1.4.4a - April 29, 2003


New in this release:

    DirtySock (All)
        NetConn
            Added NetConnMAC

    Sample (PS2)
        DnasTest
            Added test data file and passphrase to distribution (required to run DNAS).


Changes/Bugfixes in this release:


    DirtySock (All)
        LobbyTagField
            Changed #define TagFieldClear macro to put assigned value in parens to avoid possible compiler bug
            
        CommSRP
            Fixed to resend ack of previous packet in case ack got lost
            Updated Connect/Listen for demangler support
            
        CommUDP
            Shows errors from sendto function (debug only)
            Updated connect logic to allow two-port syntax to use same bind/connect port
            
    DirtySock (PC)
        DirtyLibWin
            Fixed bug with NetLibCreate causing idle thread to exit immediately
            due to race condition setting thread reference variable        
            
    DirtySock (IOP)
        DirtyNetIop
            Retry send if KE_RELEASE_WAIT (-418) error is received since it seems to be transient
            
        NetGameLink-i
            Changed to use incoming buffer to size DMA transfer buffer
            
    Documentation
        Fixed DirtySDK.chm
        
    Sample
        DSDemoLib (PS2)
            Fixed connection logic (gamer, voip)
            

-------------------------------------------------


Dirtysock SDK 1.4.4 - April 25, 2003


New in this release:

    DirtySock (All)
        TourneyApi
            Added system flags parameter to create to allow client to
            specify a sponsored tournament.

        BuddyApi
            Added explicit resource parameter to connect call. Should be set to
            /CSO for PS2 sports applications.

            Added new BUDDY_MSG_ENDROSTER to allow application to determine when
            roster list transfer is complete. 

    Contrib
        DirtyDnas
            Initial wrapper library for Sony DNAS service.
        
    Sample (PS2)
        DnasTest
            Tester app for DirtyDnas.  Comes with both statically and dynamically
            linked versions.

        Chatter
             Allows user to specific an explicit resource string.

Changes/Bugfixes in this release:

    DirtySock (All)
        LobbyApi
            Added 'pers' selector
    
        LobbyEafn
            Removed from distribution
            
        CommSRP
            Implemented mutual connect
            
    DirtySock (PC)
        DirtyLibWin
            Fixed bug with NetLibCreate causing idle thread to exit immediately
            due to race condition setting thread reference variable        
            
    DirtySock (IOP)
        Removed "DirtyServ" build type from distribution
    
        Startup-i
            Added low water memory tracking in idle func
            
    Sample
        Flame
            Removed from distribution


-------------------------------------------------


Dirtysock SDK 1.4.3 - April 18, 2003


New in this release:

    Contrib
        DirtyDnas
            Initial wrapper library for Sony DNAS service.  Currently a work in progress,
            this is not as yet intended for use.
        
    Sample (PS2)
        DnasTest
            Tester app for DirtyDnas.  Not yet intended for use.
            
    Sample (Win32)        
        NetPong
            Initial port of a simple network game to DirtySock.  Not yet intended for use.            
            

Changes/Bugfixes in this release:

    DirtySock (All)
        TourneyAPI
            Added too_many error for join
            
    DirtySock (IOP)
        Removed DIRTYSERV build

    Contrib
        VOIP (v1.1.0)
            Added the ability to get and set the play and record volumes
            Added a Get Status call
            Fixed a typo in headset enumeration
            Supports lgAud SDK 1.07.007
            
    Sample
        VOIP
            Changed to use support for reduced memory footprint
            

-------------------------------------------------


Dirtysock SDK 1.4.2 - April 11, 2003


New in this release:

    DirtySock Library (All)
    
        ProtoMangle
            New module to encapsulate use of the EA.Com Demangler service.  This is
            a work in progress and is not intended for use as of yet.
         
        BuddyApi.h
            Added defines to specify each product identity as used in the buddy
            system to resolve products names when languages do not match.

    Samples

        Tester
            New 'demangler' test sample
            

Changes/Bugfixes in this release:


    DirtySock Library (All)
    
        BuddyApi
            Fixed some null parms and added BUDDY_PROD_* constants to name lookup table
         
        CommTCP
            Fixed packet width alignment issue that was crashing IOP
         
        CommUDP
            Initial demangler support
            
        DirtySock
            Changed DIRTYSOCK definition to be TRUE (instead of 200), added
            DIRTYVERS definition for dirtysock version tracking (mostly for
            IOP/EE version match verification)
            
        LobbyApi, LobbyEafn
            Added EAFN_FL_NOFILT attribute definition
            
        LobbyTagField
            Changed TagFieldDupl() to return number of characters copied
            Fixed decoding of flag @ value
            Macro based TagFieldClear for better performance
            
        LobbyUtf8
            Fixed signed/unsigned bug in Utf8EncodeFrom8Bit()

            
    DirtySock Library (PS2)
    
        NetGameLink-e
            Fixed NetGameLinkStatus() to call Rpc with correct size of
            NetGameLinkStatusT structure.  Note that this did not actually
            cause a problem.
            
        NetConn
            Added new DIRTYVERS parm to 'netw' 'crea' RPC call
            
        Rpc-e
            Added a debug-only warning print if outlen not a multiple of 16 in _RpcCall
            Changes to _RpcCall to fix obscure output buffer invalidation bugs
            
    DirtySock Library (IOP)
    
        Rpc-i
            Added debug-only warning print if an rpc call overwrites its putbuffer
            
        Connect-i
            Added warning print (debug and final) if IOP DIRTYVERS != EE DIRTYVERS
            
        DirtyLibIOP
            Added debug-only warning message if NetCritT is too small
        
    DirtySock Library (PC)
    
        DirtyLibWin
            Added debug-only warning message if NetCritT is too small
            Fixed define of CRIT_SECT_LEN for PC builds
    
    Samples (PC)
    
        Chatter.cpp
            Added utf8 support - buddy message subject and body are now encoded from 8bit
            ASCII to UTF-8 on send, and decoded to 7bit ASCII on receive.
            
        Flame2.cpp
            Fixed ranking display
            
    Samples (PS2)
            
        Gamer
            Added demangler support
    
    

-------------------------------------------------


Dirtysock SDK 1.4.1 - April 4, 2003


Changes/Bugfixes in this release:


    DirtySock Library (All)

        CommSRP:
            Reserved space in receive buffer for reliable packets (currently 1/8th of buffer). This
            is to help prevent reliable packet loss in unreliable packet overflow conditions.
            Fixed bug where a reliable packet would be ACKd before it was added to the recv buffer.
            Added check for buffer overrun in _CommSRPSendQueued()
            Added WIN32-only hack to CommSRPPeek() similar to the hack in CommUDPPeek(), to call
            _CommSRPEvent() when the buffer is empty so as to get better receive latency.
            
        CommTCP:
            Added WIN32-only hack to CommTCPPeek() similar to the hack in CommCTPPeek(), to call
            _CommTCPEvent() when the buffer is empty so as to get better receive latency.
            
        NetGameLink
            Fixed reliability determination in _NetGameLinkSendPacket()
            Added code to ensure _NetGameLinkSendPacket() can only be called one level deep
            
        TourneyAPI:
            Updated error handler
            
    DirtySock Library (IOP)
    
        NetGameLink
            Increased pushbuffer from 512 bytes to 2k for better throughput
        
    DirtySock Library (PC)
    
        NetConn
            Dead code removal/cleanup, enabled NetConnIdle().
    
    Samples
    
        Gamer (PS2)
            Fixed to handle NetGameLinkSend() returning an error.
            Changes for throughput testing.
            
        Gameserv (PC)
            Changes for throughput testing.
    
        Tourney (PC)
            Added tourney room prefix variable to tourney.cfg
            Removed "4 Days" from default cfg file
            Removed +1 bias from period length and round length
            Added tournament parms button to tournament info window
    

-------------------------------------------------


Dirtysock SDK 1.4 - March 28, 2003

New in this release:

    DirtySock Library (All)
    
        lobbyutf8
            New module for converting to and from UTF-8 encoded strings.
            
    Samples
    
        buddy (PS2)
            New BuddyApi sample.  Requires a USB keyboard.
    
        tester
            New 'utf8' command to exercise UTF-8 module.  Also included are some
            UTF-8 samples and UCS-2 samples.
            
            New 'advert' command to test advertising


Changes/Bugfixes in this release:


    Contrib
    
        VOIP (IOP)
            Minor change to make more friendly in the case of a connect while
            already connected.  Also prints out a warning when this condition
            occurs (debug only).
            
    Documentation
    
        iopmem.txt
            Added buddy memory usage.
            
    DirtySock Library (All)

        BuddyApi:
            Added a delayed send parameter to BuddyApiPresSend. Set this value to
            zero to be backwards compatible with old behvaior (it is the last
            parameter in the list).

            Also finalized the time support (removed the hack code that was
            setting all messages to being received at the "current time").

        CommSRP:
            Fixed a problem where the loss of a packet could get the protocol stuck
            in a half-open state.
            
        NetConn:
            Made header c++ friendly.

        ProtoAdvt:
            Added code to double-broadcast in the case of seeding and new
            advertisements to make protocol more reliable on switches that
            have higher than normal broadcast packet loss rates.

        LobbyTagField:
            Made TagFieldGetEpoch accept time values in decimal epoch format.

        XmlParse:
            Fixed problem in XmlFind() that got confused by <blah /> syntax.
            
    DirtySock Library (IOP)
        
        DirtyLibIOP:
            Made NetAlloc() debug printing more like RpcAlloc() debug printing
            
    DirtySock Library (PS2)
    
        NetGameLink:
            Added NetGameLinkPeek()
            
    DirtySock Library (PC)
    
        CommTAPI:
            Changed to filter out non-modem devices (devices with no ring modes)

    Samples
    
        Lobby (PS2)
            Enhanced to provide comprehensive error reporting, plus added room
            list display.
            
        tester
            Fixes to 'modem' command.
            

-------------------------------------------------


Dirtysock SDK 1.3.3 - March 21, 2003

New in this release:

    Contrib
        StackDbg - a new stand-alone library with some determinisim debugging
        tools used by Madden 2003. 

    Documentation
        iopcodesize.xls - a spreadsheet outlining DirtySock IRX code size
        iopmemsize.txt - a file outlining dynamic DirtySock IOP memory usage
        
    Samples
        Added new stacktest sample to test StackDbg
        
    
Changes/Bugfixes in this release:

    DirtySock Library (All)
    
        LobbyApi:
            The LobbyApiPing function now returns a transaction identifier
            which can be used to cancel the callback function.

            A problem where overlapping lobby/ping transactions could cause
            a callback to get lost has been corrected.

            Fixed a problem in LobbyApiDefaultRoom so that it now orders
            the room list prior to doing its search.

            Moved the "server inactivity timeout" to a #define. Also made
            it so the server inactivity timeout did not trip incorrect due
            to being in the debugger for an extended period.
            
            Deprecated EC_FILE_* error codes and replaced them with EC_DB_ERROR

        BuddyApi:
            Fixed a problem with BuddyApiDel which got confused when the
            actual record was passed in.
            
            Added new status function.
            
            Fixed add callback to be called on success (was previously only
            called on failure).

        NetConn:
            Fixed prototype for NetConnStartup, and fixed PC  implementation of
            NetConnStartup.


    DirtySock Library (IOP)
    
        The memory utilization on the IOP has been improved. The HTTP module
        now uses the specified buffer size (it used to be forced to 32K).
        Changes have been made to allow the IOP RPC stack to be specified
        (the default has also been lowered from 16K to 8K).
        
        Cleaned up memory allocation (using calls to RpcAlloc/Free and NetAlloc/Free
        instead of direct calls to AllocSysMemory).  Added debugging print
        statements (debug libs only) tracking memory allocations for both
        modules to make memory footprint easer to determine.
        
        Added periodic memory heap dumping on debug builds; the interval is
        controlled with input parameters to the DirtySock IRX.
        
        Added stack size as a parameter for DirtySock IRX.
        
        Minor changes compiling out print statements and debug code on release
        builds saving ~2-3k code space in release IRX.
        

    DirtySock Library (PS2)
    
        In NetConnStatus(), fixed 'macx' to sync memory.


    DirtySock Library (PC)
    
        Split winsock.c off into a separate library, WinSake.  PC titles will
        have to either add this new library to their link step in their project
        or use WinSock (ws2_32.lib) instead.  The advantage of using WinSake
        over WinSock is more graceful error handling when WinSock 1.1 is
        installed.
        
    PS2 Sample Apps (all)
    
        Added parameter defines for both Sony's inet.irx and dirtysock irx to democfg.h.
        
        Fixed dependencies for sample makefiles.
        
        
    tester
    
        "modem" command now creates a dialog box listing the drivers available
        for the user to pick.


-------------------------------------------------

Dirtysock SDK 1.3.2 - March 14, 2003

New in this release:

    DirtySock Library (All)

        LobbyApi
            Restored ignore list (LOBBYAPI_LS_INGOR) support in LobbyApi
            Added default room function and aux field data
            Added LobbyZone() function to return current timezone offset
            Added copy of aux information into LobbyApiUserT.aux field
            
        LobbyEafn
            Added default room selection
            Added nomatch parameter to room selection
            
        BuddyApi:
            Added BuddyApiFind(), fixed type of userval, added watch flag. Changed parameters
            for BuddyApiCreate (removed pPrivate flag and renamed it to pSame which is now part
            of the new function BuddyApiConfig). Added BuddyApiConfig() function to handle
            language setup. BuddyApiPresence() is divided into four functions (BuddyApiPresInit,
            BuddyApiPresSame, BuddyApiPresDiff, BuddyApiPresSend). You call all four in sequence
            to set the presence. It is now also possible to specify multiple different-product
            strings in multiple languages. The BuddyApiRosterT record has changed slightly. The
            presence field has been expanded and new product/language fields added. Also, the
            API now figures out what the name of anothers users product is in the local langauge.
            This is currently done via a table embedded in the API, but that will change before
            anything is released. The chatter application has also been updated to reflect these
            changes and it also allows you to set the product token, same-product identifier
            and language string.

        
    DirtySock Library (PC)
    
        NetGame
            CommTAPI support added to NetGame layer.
        
    Samples
        
        tester
            New "modem" command in tester application, used for testing TAPI
            
        gamer
            Added NetGameUtilQuery() test
            
        ticker
            Added LobbyZone() test
            
        Chatter
            Added language and timezone support
        
    
Changes in this release:

    Documentation
        BuddyApi.doc - Updated with language info

    DirtySock Library (All)
    
        lobbytagfield.c
            Made date/time functions accept gmt offset
            Made all encode/decode via tagfieldepoch, made decode support hex encoded value
            
        lobbydisplist.c
            Let displistget accept null
            

Bugfixes in this release:

    DirtySock Library
    
        buddyapi.c
            Fixed callback order on failed add
            
    DirtySock Library (PS2-IOP)
    
        NetGameUtil-i.c
            Fixed NetGameUtilQuery to set output buffer size
            
    Sample Apps
    
        Flame, Flame2   
            Made room screen not change selection, made it use room default, fixed date parameter change
            


-------------------------------------------------


Dirtysock SDK 1.3.1 - March 7, 2003

New in this release:

    DirtySock Library (All)

        cryptrsa.c/h - split from protossl.c/h
        
        netconn.c/h - Madden connection code moved into DirtySock library
        
    DirtySock Library (PS2)
    
        protoname-e.c/protoname-i.c - Name resolution support for PS2
        
    Samples
    
        Release versions of all win32 samples are included in this distribution, and will be included moving forward
        
    
Changes in this release:

    Documentation
        Tourney.doc - Updates to tournament documentation

    DirtySock Library (All)
    
        General
            Miscelleneous warnings fixes.
            
        lobbyapi.h
            Added LKEY size definition
            
        tourneyapi.c/h
            Updates to tournament implementation
    
        buddyapi.c/h
            Changed connect to take server name as a string & do DNS lookup
            
    Sample Apps
    
        All PS2 sample apps were modified to take their configuration information from sample\ps2\democfg.h.  By default
        sample apps no longer reboot the IOP - this was causing difficulty with certain debuggers.
    

Bugfixes in this release:

    DirtySock Library
    
        buddyapi.c
            Fixed timeout value (passed-in value is now used)
            Fixed strcpys to be TagFieldDupl()
    
        lobbytagfield.c
            Fixed TagFieldSetStructure to encode properly if an int value requires all the available bytes to encode.


-------------------------------------------------


Dirtysock SDK 1.3 - February 28, 2003

New in this release:

    DirtySock Library (All)
        TourneyApi - Initial release of the new tournament API.
        DirtySDK/include/tourneyapi.h - Include for new tournament API.
        TourneySingle - Single elimination logic (used by API, not for application use)
        DirtySDK/include/tourneysingle.h
        DirtySDK/doc/whitepapers/TourneyApi.doc - tourney API documentation
        
    DirtySock Library (win32)
        CommSer and CommTapi - Currently untested but compiling/linking serial and TAPI comm interfaces,
        restored from an older version of DirtySock.
            (NOTE: These have not yet been hooked up to the NetGame layer)

    Sample Apps
        DirtySDK/sample/win32/tourney - Win32 application showing use of the new tournament API.
        
        DirtySDK/sample/common/tester - Added 'gameserv' command for multiple connection testing.
            (NOTE: Tester is currently still a win32 app; it has been placed in common\ for future porting)
        
        DirtySDK/sample/ps2/gamer - PS2 client for gameserv server.
    
    
Changes in this release:

    General
        The "sample" folder has been reorganized to group sample applications by platform type.
        The ps2 samples have been rewritten to use a unified demo library.
        All client and server files source and header files have been made lowercase.

    DirtySock Library
    
        connect-i.c (IOP)
            Added MAC address query support ('macx'): see ticker.c for an example.
    
        netgamelink.c
            Added two port status indicators to NetGameLinkStatusT: "isopen" and "isconn".

    Sample Apps
    
        FlameThrower2
            Slight reorganization of button layout in Flame2's persona login dialog.
    

Bugfixes in this release:

    DirtySock Library
    
        commudp.c
            Fixed multiple connection support.
    
        netgamelink.c
            Fixed a bug when sending packets larger than 227 bytes and appending a sync packet.
            Fixed sync packet to use network byte ordering.
            
        netgamelink-e.c (PS2-ee)
            Fixed NetGameLinkStatus() to block on first invocation, so as to get valid data the first time.
            
        lobbytagfield.c
            TagFieldPrintf was returning length of built string including terminator when it should not have included the terminator in the length.
            Fixed TagFieldGetStructure string space bug
            TagFieldGetStructure/SetStructure allow textual field names for future expansion
            TagFieldSet* can accept NULL for the tag to store the data only in the buffer

    USBKey
    
        vkascii.c
            Fixed uninitialized data problem in USBKeyGetVkState()
    
                    

-------------------------------------------------


Dirtysock SDK 1.2.2 - February 14, 2003

New in this release:

    Documentation
        DirtySDK/doc/whitepapers/TourneyApi.doc             TourneyApi whitepaper documentation
        
    Sample Apps
        DirtySDK/sample/lobby                               PS2 LobbyApi sample application (requires USB keyboard)
        

Bugfixes in this release:

    DirtySock Library (PS2 EE:libdirtysock.a)
    
        rpc-e.c
            Fixed an extremely rare but very nasty condition where RpcPeek() would return the previous
            packet's length for a new packet

        protoping-e.c
            Added 64-byte alignment for ProtoPingRefT's DMA buffer
            
    DirtySock Library (PC)
    
        commudp.c
            Added code to poll for packet on Recv() if no packets are currently queued.
            
    DirtySock Library (All versions)
    
        commsrp.c
            Added support for zero-length packets in CommSRPSend() (these don't send, but simply
            return the buffer status)
            
            Fixed sndwid and rcvwid to be 4-byte aligned, so as not to cause unaligned access errors
            on IOP
            
        dirtynet.c
            Fixed bug in SockaddrInSetAddrText, where an address terminated by a null character was not
            being recognized
    
        lobbyapi.c
            Fixed problem with request/response connect callback failure condition
            
        netgamedist.c
            Added code to NetGameLinkSend() to reject packets larger than NETGAME_DATAPKT_MAXSIZE

        netgameutil.c
            Increased max packet size to account for 240 byte user packets, which previously overflowed by one byte.
            
        lobbyhasher.c
            Fixed bug in hashstrhash function that was not ignoring case like it should
            
        lobbytagfield.c
            Fixed length return problem in TagFieldGetDelim
            Made TagFieldGetStructure/TagFieldGetStructure support 's'=string
        
    Samples
    
        VOIP
            voip.h function prototypes now specify c linkage for c++ compiles


-------------------------------------------------


Dirtysock SDK 1.2.1 - February 7, 2003

New in this release:

    Documentation
        DirtySDK/doc/whitepapers/LobbyApi.doc           LobbyApi whitepaper documentation
        

Changes in this release:

    DirtySock Library
        LobbyApi
            Callback functionality for connect, disconnect, and play events implemented
            Removed obsolete list type EAFN_LS_RECIP
            EAFN_* defines "replaced" (old definitions are still available) by LOBBYAPI_* defines.
            Removed textual field (MESG) from Ping callback response
            Added numerical address field (ADDR) to Ping callback response
            Removed obsolete EAFN_ST_* definitions, and kind='strt' support

        BuddyApi
        Added new callback handler to "add" user function and now returns error when
            adding a user to the roster who does not actually exist. Fixed a number of
            subtle bugs in the buddy API. Added discrete #define error codes.
            
    Sample Apps
        Flame2
            Updated to use new callback functionality for connect/disconnect events
            Added a response callback for 'pers' requests
            Moved ping string formatting here from LobbyApi
        
    Documentation
        Updates to BuddyApi.doc
        

Bugfixes in this release:


-------------------------------------------------


Dirtysock SDK 1.2 - January 31, 2003

New in this release:

    DirtySock Library
        DirtySDK/source/lobby/buddyapi.c                Buddy API for interfacing with Buddy Server
        DirtySDK/include/buddyapi.h

        DirtySDK/source/comm/commsrp.c                  Selectively Reliable UDP protocol
        DirtySDK/include/commsrp.h
        
        DirtySDK/project/pc/dirtysock_kaz.dsp           Updated Visual Studio 6.0 project file, donated by Kaz Okuda

    Contrib
        DirtySDK/contrib/usbkey                         PS2 USB keyboard manager library (libusbkey.a)
                                 
    Sample Apps
        DirtySDK/sample/Chatter                         Win32 BuddyApi sample application
        DirtySDK/sample/usbkey                          PS2 USB keyboard sample application
        DirtySDK/sample/voip                            PS2 VOIP sample application

    Documentation
        DirtySDK/doc/powerpoint/DSOverview.ppt          DirtySock SDK Overview from PS2 online summit
        DirtySDK/doc/whitepapers/BuddyApi.doc           BuddyApi whitepaper documentation
        

Changes in this release:

    DirtySock Library
        Renamed IOP IRXs to be 8.3-compliant
        

Bugfixes in this release:

    LobbyTagField
        Fixed TagFieldSetAddress bug which wasn't encoding octet values between 100-109 and 200-209 properly.
        Fixed overrun possibility in setstructure
        unsigned char->char conversion in interface to make C++ friendly

