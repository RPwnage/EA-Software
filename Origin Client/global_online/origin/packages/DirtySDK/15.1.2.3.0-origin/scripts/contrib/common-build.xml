<project>
    <Library name="common" frompartial="DSLibrary">
        <includedirs>
            ${package.DirtySDK.dir}/contrib/common/include
        </includedirs>

        <headerfiles basedir="${package.DirtySDK.dir}/contrib/common">
            <includes name="include/*.h"/>
        </headerfiles>

        <sourcefiles basedir="${package.DirtySDK.dir}/contrib/common">
            <includes name="source/arglist.c"/>
            <includes name="source/zfile.c"/>
            <includes name="source/zlib.c"/>
            <includes name="source/zlist.c"/>
            <includes name="source/zmem.c"/>
            <includes name="source/zmemtrack.c"/>
            <includes name="source/mp3/mp3decode.c"/>

            <do if="${config-system} == 'pc' or ${config-system} == 'pc64'">
                <includes name="source/pc/zfilepc.c"/>
                <includes name="source/pc/zlibpc.c"/>
                <includes name="source/mp3/pc/mp3play.c"/>
            </do>

            <do if="${config-system} == 'unix' or ${config-system} == 'unix64'">
                <includes name="source/unix/zfileunix.c"/>
                <includes name="source/unix/zlibunix.c"/>
            </do>

            <do if="${config-system} == 'kettle'">
                <includes name="source/ps4/zfileps4.c"/>
                <includes name="source/ps4/zlibps4.c"/>
                <includes name="source/mp3/ps4/mp3play.c"/>
            </do>
            
            <do if="${config-system} == 'capilano'">
                <includes name="source/pc/zfilepc.c"/>
                <includes name="source/xboxone/zlibxboxone.c"/>
                <includes name="source/mp3/xboxone/mp3play.c"/>
            </do>

            <do if="${config-system} == 'winrt' or ${config-system} == 'winprt'">
                <includes name="source/winrt/zfilewinrt.c"/>
                <includes name="source/winrt/zlibwinrt.c"/>
            </do>
        </sourcefiles>

        <dependencies>
            <auto>
                DirtySDK/dirtysock
            </auto>
        </dependencies>

        <config>
            <warningsuppression>
                <do if="${config-compiler} == 'gcc' or ${config-compiler} == 'clang'">
                    -Wno-unused-parameter
                </do>
            </warningsuppression>
        </config>
    </Library>
</project>
