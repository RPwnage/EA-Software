<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: jsonparse.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/df4/jsonparse_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jsonparse.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple JSON parser.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d03/platform_8h_source.html">DirtySDK/platform.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d3/d87/dirtylib_8h_source.html">DirtySDK/dirtysock/dirtylib.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/d41/jsonparse_8h_source.html">DirtySDK/util/jsonparse.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf3d7165d2fc0f76ad8ef36534e4c657c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#gaf3d7165d2fc0f76ad8ef36534e4c657c">JsonParse</a> (uint16_t *pDst, int32_t iMax, const char *_pSrc, int32_t iLen)</td></tr>
<tr class="memdesc:gaf3d7165d2fc0f76ad8ef36534e4c657c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-parse a JSON buffer for fast parsing. Must be called on a buffer before any Find() or Get() functions are used. Pass pDst=NULL and iMax=0 to query the required table size.  <a href="../../d2/d31/group__JsonParse.html#gaf3d7165d2fc0f76ad8ef36534e4c657c">More...</a><br/></td></tr>
<tr class="separator:gaf3d7165d2fc0f76ad8ef36534e4c657c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7f090a420a28f9a535a91525e86cfc2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#gab7f090a420a28f9a535a91525e86cfc2">JsonFind</a> (const uint16_t *pParse, const char *pName)</td></tr>
<tr class="memdesc:gab7f090a420a28f9a535a91525e86cfc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locate a JSON element.  <a href="../../d2/d31/group__JsonParse.html#gab7f090a420a28f9a535a91525e86cfc2">More...</a><br/></td></tr>
<tr class="separator:gab7f090a420a28f9a535a91525e86cfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e17e0d5071ae00e02018ae6bea9c5f2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#ga0e17e0d5071ae00e02018ae6bea9c5f2">JsonFind2</a> (const uint16_t *pParse, const char *_pJsonOff, const char *pName, int32_t iIndex)</td></tr>
<tr class="memdesc:ga0e17e0d5071ae00e02018ae6bea9c5f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locate a JSON element, starting from an offset, with an optional array index.  <a href="../../d2/d31/group__JsonParse.html#ga0e17e0d5071ae00e02018ae6bea9c5f2">More...</a><br/></td></tr>
<tr class="separator:ga0e17e0d5071ae00e02018ae6bea9c5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab137030145ed993fc9089cbe0595369a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#gab137030145ed993fc9089cbe0595369a">JsonGetString</a> (const char *pJson, char *pBuffer, int32_t iLength, const char *pDefault)</td></tr>
<tr class="memdesc:gab137030145ed993fc9089cbe0595369a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a JSON string element. Pass pBuffer=NULL for length check.  <a href="../../d2/d31/group__JsonParse.html#gab137030145ed993fc9089cbe0595369a">More...</a><br/></td></tr>
<tr class="separator:gab137030145ed993fc9089cbe0595369a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9190eec7538c10c6e63a3dad9e7549f4"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#ga9190eec7538c10c6e63a3dad9e7549f4">JsonGetInteger</a> (const char *pJson, int64_t iDefault)</td></tr>
<tr class="memdesc:ga9190eec7538c10c6e63a3dad9e7549f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a JSON integer number element.  <a href="../../d2/d31/group__JsonParse.html#ga9190eec7538c10c6e63a3dad9e7549f4">More...</a><br/></td></tr>
<tr class="separator:ga9190eec7538c10c6e63a3dad9e7549f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace9e51a08b378543681d592ca9b27875"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#gace9e51a08b378543681d592ca9b27875">JsonGetNumber</a> (const char *pJson, float fDefault)</td></tr>
<tr class="memdesc:gace9e51a08b378543681d592ca9b27875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a JSON number element (UNIMPLEMENTED)  <a href="../../d2/d31/group__JsonParse.html#gace9e51a08b378543681d592ca9b27875">More...</a><br/></td></tr>
<tr class="separator:gace9e51a08b378543681d592ca9b27875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90d3ce918e2b6b07fd6e82a98ee37631"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#ga90d3ce918e2b6b07fd6e82a98ee37631">JsonGetDate</a> (const char *pJson, uint32_t uDefault)</td></tr>
<tr class="memdesc:ga90d3ce918e2b6b07fd6e82a98ee37631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a JSON date element.  <a href="../../d2/d31/group__JsonParse.html#ga90d3ce918e2b6b07fd6e82a98ee37631">More...</a><br/></td></tr>
<tr class="separator:ga90d3ce918e2b6b07fd6e82a98ee37631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga555994d1a7a33db1aaa9f2ddcc39671a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#ga555994d1a7a33db1aaa9f2ddcc39671a">JsonGetBoolean</a> (const char *pJson, uint8_t bDefault)</td></tr>
<tr class="memdesc:ga555994d1a7a33db1aaa9f2ddcc39671a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a JSON boolean.  <a href="../../d2/d31/group__JsonParse.html#ga555994d1a7a33db1aaa9f2ddcc39671a">More...</a><br/></td></tr>
<tr class="separator:ga555994d1a7a33db1aaa9f2ddcc39671a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62d2f52a441854899edda7e252b9af15"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#ga62d2f52a441854899edda7e252b9af15">JsonGetEnum</a> (const char *pJson, const char *pEnumArray[], int32_t iDefault)</td></tr>
<tr class="memdesc:ga62d2f52a441854899edda7e252b9af15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a JSON enumerated value. The source type is assumed to be a string, and pEnumArray contains a NULL-terminated list of strings that may be converted to an enum value.  <a href="../../d2/d31/group__JsonParse.html#ga62d2f52a441854899edda7e252b9af15">More...</a><br/></td></tr>
<tr class="separator:ga62d2f52a441854899edda7e252b9af15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5281b9ed5b6adbca29999da4ad6723d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#gac5281b9ed5b6adbca29999da4ad6723d">JsonSeekObjectEnd</a> (const char *pList)</td></tr>
<tr class="memdesc:gac5281b9ed5b6adbca29999da4ad6723d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek to the end of an object within the JSON text buffer.  <a href="../../d2/d31/group__JsonParse.html#gac5281b9ed5b6adbca29999da4ad6723d">More...</a><br/></td></tr>
<tr class="separator:gac5281b9ed5b6adbca29999da4ad6723d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9218c4dbbde4931555273e7fd050986"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d31/group__JsonParse.html#gab9218c4dbbde4931555273e7fd050986">JsonSeekValue</a> (const char *pKey)</td></tr>
<tr class="memdesc:gab9218c4dbbde4931555273e7fd050986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a pointer to the beginning of a simple JSON key value pair, seeks the start of the value.  <a href="../../d2/d31/group__JsonParse.html#gab9218c4dbbde4931555273e7fd050986">More...</a><br/></td></tr>
<tr class="separator:gab9218c4dbbde4931555273e7fd050986"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple JSON parser. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Electronic Arts 2012.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Written by Greg Schaefer outside of EA for a personal project, but donated back for a good cause.</dd></dl>
<p>The parse buffer contains a list of objects, consisting of an offset and size. The offset is the offset of the object in the JSON buffer. The size is the size of the object in the JSON buffer, except for arrays and objects, where it is the size of the object in the parse buffer (used when skipping past an array or object). Values are written as uint16_t, with progressive encoding employed when required.</p>
<p>UNICODE support is limited to extracting ASCII characters that are encoded as UNICODE.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000012">Todo:</a></b></dt><dd>Implement support for getting real numbers </dd></dl>
<dl class="section version"><dt>Version</dt><dd>12/11/2012 (jbrookes) Added to DirtySDK, added some new functionality </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Oct 21 2016 13:34:33</span><br />
</td></tr>
</table>
