<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: protomanglexboxone.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/d60/protomanglexboxone_8cpp.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protomanglexboxone.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Wrapper around Xbox One Secure Networking functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;xdk.h&gt;</code><br/>
<code>#include &lt;wrl.h&gt;</code><br/>
<code>#include &lt;robuffer.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6b/dirtyerr_8h_source.html">DirtySDK/dirtysock/dirtyerr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d20/dirtynet_8h_source.html">DirtySDK/dirtysock/dirtynet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/de0/netconn_8h_source.html">DirtySDK/dirtysock/netconn.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d57/protomangle_8h_source.html">DirtySDK/proto/protomangle.h</a>&quot;</code><br/>
<code>#include &lt;collection.h&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d98/structProtoMangleSecurityAssocT.html">ProtoMangleSecurityAssocT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">security association data space  <a href="../../d8/d98/structProtoMangleSecurityAssocT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db6/structProtoMangleClientT.html">ProtoMangleClientT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal module state  <a href="../../db/de2/structProtoMangleRefT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d48/structProtoMangleStateT.html">ProtoMangleStateT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">global protomangle state  <a href="../../d4/d48/structProtoMangleStateT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1847d0b5863ad01300960f75603300e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#a1847d0b5863ad01300960f75603300e3">PROTOMANGLE_SECURITYASSOC_CREATION_TIMEOUT</a>&#160;&#160;&#160;(20 * 1000)</td></tr>
<tr class="separator:a1847d0b5863ad01300960f75603300e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe732372e3afa05eeb92048a501592db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#afe732372e3afa05eeb92048a501592db">PROTOMANGLE_SECURITYASSOC_CHECK_FREQUENCY</a>&#160;&#160;&#160;(2 * 1000)</td></tr>
<tr class="separator:afe732372e3afa05eeb92048a501592db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7334bd894b57fc49261d7bedfe7d4027"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bd">ProtoMangleAssocStateE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#a7334bd894b57fc49261d7bedfe7d4027">ProtoMangleAssocStateE</a></td></tr>
<tr class="memdesc:a7334bd894b57fc49261d7bedfe7d4027"><td class="mdescLeft">&#160;</td><td class="mdescRight">state transitions for a single security association data space  <a href="#a7334bd894b57fc49261d7bedfe7d4027">More...</a><br/></td></tr>
<tr class="separator:a7334bd894b57fc49261d7bedfe7d4027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dc0665ac5b336aea46915460bb323a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d4/d48/structProtoMangleStateT.html">ProtoMangleStateT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#a30dc0665ac5b336aea46915460bb323a">ProtoMangleStateT</a></td></tr>
<tr class="memdesc:a30dc0665ac5b336aea46915460bb323a"><td class="mdescLeft">&#160;</td><td class="mdescRight">global protomangle state  <a href="#a30dc0665ac5b336aea46915460bb323a">More...</a><br/></td></tr>
<tr class="separator:a30dc0665ac5b336aea46915460bb323a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa92b699708ce442a259b86daaad8c2bd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bd">ProtoMangleAssocStateE</a> { <br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda0fabdbe7ed88b3c65d4a74938dcfd247">PROTOMANGLE_STATE_INIT</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda87344b93ef7618362d20ebc8b281cf2b">PROTOMANGLE_STATE_MULTI_UNLOCK</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda10a884c29b553e6ecc10cca47f07b39c">PROTOMANGLE_STATE_CREATING</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda8f957da047d4fa76e0b684d3454f6929">PROTOMANGLE_STATE_LISTENING</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda091c0790568538e6f30d86ae315c783b">PROTOMANGLE_STATE_DONE</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda56fa6133d8d6033ced41b64dc98b34c3">PROTOMANGLE_STATE_FAILED</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda33392be4ff6ddb23aedd907378db4042">PROTOMANGLE_STATE_TIMEDOUT</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda92faad23a3ec14514a30ecee8765aadb">PROTOMANGLE_STATE_CLEANING</a>
<br/>
 }</td></tr>
<tr class="memdesc:aa92b699708ce442a259b86daaad8c2bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">state transitions for a single security association data space  <a href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bd">More...</a><br/></td></tr>
<tr class="separator:aa92b699708ce442a259b86daaad8c2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70ee4ebec546f428cebf909364bbf32b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#a70ee4ebec546f428cebf909364bbf32b">_ProtoMangleIncomingAssociationEventHandler</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, SecureDeviceAssociation^refSecurityAssociation)</td></tr>
<tr class="memdesc:a70ee4ebec546f428cebf909364bbf32b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler (delegate) registered for incoming association events.  <a href="#a70ee4ebec546f428cebf909364bbf32b">More...</a><br/></td></tr>
<tr class="separator:a70ee4ebec546f428cebf909364bbf32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd2f1c81ff6421506d4a465ccb20c18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#a3bd2f1c81ff6421506d4a465ccb20c18">_ProtoMangleProcessIncomingSAs</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>)</td></tr>
<tr class="memdesc:a3bd2f1c81ff6421506d4a465ccb20c18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the queue of incoming secure device associations.  <a href="#a3bd2f1c81ff6421506d4a465ccb20c18">More...</a><br/></td></tr>
<tr class="separator:a3bd2f1c81ff6421506d4a465ccb20c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac555588f60fc188bb071ac7cbaf3a197"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#gac555588f60fc188bb071ac7cbaf3a197">ProtoMangleCreate</a> (const char *pServer, int32_t iPort, const char *pGameID, const char *pLKey)</td></tr>
<tr class="memdesc:gac555588f60fc188bb071ac7cbaf3a197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate module state and prepare for use.  <a href="../../d3/d4d/group__ProtoMangle.html#gac555588f60fc188bb071ac7cbaf3a197">More...</a><br/></td></tr>
<tr class="separator:gac555588f60fc188bb071ac7cbaf3a197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7b12bf86ab1a15cd12c544213007811"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#gab7b12bf86ab1a15cd12c544213007811">ProtoMangleDestroy</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>)</td></tr>
<tr class="memdesc:gab7b12bf86ab1a15cd12c544213007811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the module and release its state.  <a href="../../d3/d4d/group__ProtoMangle.html#gab7b12bf86ab1a15cd12c544213007811">More...</a><br/></td></tr>
<tr class="separator:gab7b12bf86ab1a15cd12c544213007811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga169380b522a05841d658ace9f5823af2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#ga169380b522a05841d658ace9f5823af2">ProtoMangleConnect2</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iClientIndex, const char *pAddr, int32_t iAddrSize)</td></tr>
<tr class="memdesc:ga169380b522a05841d658ace9f5823af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate asynchronous resolution of secure address.  <a href="../../d3/d4d/group__ProtoMangle.html#ga169380b522a05841d658ace9f5823af2">More...</a><br/></td></tr>
<tr class="separator:ga169380b522a05841d658ace9f5823af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1b72838b22c86a6638c5f8d96efa0ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#gac1b72838b22c86a6638c5f8d96efa0ec">ProtoMangleConnect</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iMyPort, const char *pSessID)</td></tr>
<tr class="memdesc:gac1b72838b22c86a6638c5f8d96efa0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">no-op on XboxOne  <a href="../../d3/d4d/group__ProtoMangle.html#gac1b72838b22c86a6638c5f8d96efa0ec">More...</a><br/></td></tr>
<tr class="separator:gac1b72838b22c86a6638c5f8d96efa0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac19cdfd330f02b69889252b9c92759af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#gac19cdfd330f02b69889252b9c92759af">ProtoMangleConnectSocket</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, intptr_t uSockRef, const char *pSessID)</td></tr>
<tr class="memdesc:gac19cdfd330f02b69889252b9c92759af"><td class="mdescLeft">&#160;</td><td class="mdescRight">no-op on XboxOne  <a href="../../d3/d4d/group__ProtoMangle.html#gac19cdfd330f02b69889252b9c92759af">More...</a><br/></td></tr>
<tr class="separator:gac19cdfd330f02b69889252b9c92759af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad39096cd8a5c974c22d14420e73e796c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#gad39096cd8a5c974c22d14420e73e796c">ProtoMangleUpdate</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>)</td></tr>
<tr class="memdesc:gad39096cd8a5c974c22d14420e73e796c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update module state.  <a href="../../d3/d4d/group__ProtoMangle.html#gad39096cd8a5c974c22d14420e73e796c">More...</a><br/></td></tr>
<tr class="separator:gad39096cd8a5c974c22d14420e73e796c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeb139ee586f6fc8a90a8da452a6bf18"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#gaaeb139ee586f6fc8a90a8da452a6bf18">ProtoMangleComplete</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t *pAddr, int32_t *pPort)</td></tr>
<tr class="memdesc:gaaeb139ee586f6fc8a90a8da452a6bf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns TRUE and fills in address and port if secure address resolution finished successfully.  <a href="../../d3/d4d/group__ProtoMangle.html#gaaeb139ee586f6fc8a90a8da452a6bf18">More...</a><br/></td></tr>
<tr class="separator:gaaeb139ee586f6fc8a90a8da452a6bf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31034257005d3d0b307869c5922d845e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#ga31034257005d3d0b307869c5922d845e">ProtoMangleReport</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, <a class="el" href="../../d3/d4d/group__ProtoMangle.html#ga619b3f62e3cd22bf38ebef6097d9876e">ProtoMangleStatusE</a> eStatus, int32_t iLatency)</td></tr>
<tr class="memdesc:ga31034257005d3d0b307869c5922d845e"><td class="mdescLeft">&#160;</td><td class="mdescRight">no-op on XboxOne  <a href="../../d3/d4d/group__ProtoMangle.html#ga31034257005d3d0b307869c5922d845e">More...</a><br/></td></tr>
<tr class="separator:ga31034257005d3d0b307869c5922d845e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70655431bb3fd043fed0f932a28768bf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#ga70655431bb3fd043fed0f932a28768bf">ProtoMangleControl</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iControl, int32_t iValue, int32_t iValue2, const void *pValue)</td></tr>
<tr class="memdesc:ga70655431bb3fd043fed0f932a28768bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">ProtoMangle control function.  <a href="../../d3/d4d/group__ProtoMangle.html#ga70655431bb3fd043fed0f932a28768bf">More...</a><br/></td></tr>
<tr class="separator:ga70655431bb3fd043fed0f932a28768bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e8c4960c4bad4ff58aa3d48645d1faf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4d/group__ProtoMangle.html#ga8e8c4960c4bad4ff58aa3d48645d1faf">ProtoMangleStatus</a> (<a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iSelect, void *pBuf, int32_t iBufSize)</td></tr>
<tr class="memdesc:ga8e8c4960c4bad4ff58aa3d48645d1faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return module status based on input selector.  <a href="../../d3/d4d/group__ProtoMangle.html#ga8e8c4960c4bad4ff58aa3d48645d1faf">More...</a><br/></td></tr>
<tr class="separator:ga8e8c4960c4bad4ff58aa3d48645d1faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae90c4ede3049dc97f7a948231f36cbee"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#ae90c4ede3049dc97f7a948231f36cbee">ProtoMangleFindTemplate</a> (char *pStrTemplateName, int32_t iTemplateNameSize, int32_t iLocalPort, int32_t iRemotePort, uint8_t bTcp, int32_t iVerbose)</td></tr>
<tr class="memdesc:ae90c4ede3049dc97f7a948231f36cbee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find template suitable for given query, based on protocol, local port, and remote port.  <a href="#ae90c4ede3049dc97f7a948231f36cbee">More...</a><br/></td></tr>
<tr class="separator:ae90c4ede3049dc97f7a948231f36cbee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper around Xbox One Secure Networking functionality. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Electronic Arts 2013. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>04/05/2013 (mclouatre)</dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<pre class="fragment"> ProtoMangleXboxone supports parallel resolution of secure device addresses
 for different remote consoles.

 Each instance is tracked with this state machine:

     PROTOMANGLE_STATE_INIT      &lt;----| still conflicts with entry in kill list
             |             \__________|
-------------|
|            |
|            | no conflict with an entry in the kill list
|            |
|           \/
|    PROTOMANGLE_STATE_UNLOCK    &lt;----| waiting for unlock complete
|            |             \__________|
|            |
|            |------------------------------------------------------------
|            |                                                            |
|            | unlock is complete and we are                              | unlock is complete and we are
|            | the SA creation initiator                                  | the SA creation listener
|            |                                                            |
|           \/                                                           \/
|    PROTOMANGLE_STATE_CREATING     &lt;-| waiting for outbound       PROTOMANGLE_STATE_LISTENING   &lt;-| waiting for inbound
|            |             \__________| SA creation to complete           |             \__________| SA creation to complete
|            |                                                            |
|            |                                                            |
|            |------------------------------------------------------------
|            |
|            |
|            |------------------------------------------------------------
|            |                             |                              |
|            | success                     | fail                         | timed out
|            |                             |                              | (here the async security association creation is still on going)
|           \/                            \/                             \/
|    PROTOMANGLE_STATE_DONE     PROTOMANGLE_STATE_FAILED    PROTOMANGLE_STATE_TIMEDOUT
|            |                             |                              |
|            |                             |                              |
---------------------------------------------------------------------------
             |
             | entry was moved to kill list and no async op in progress
             |
            \/
     PROTOMANGLE_STATE_CLEANING     &lt;-| if SA initiator: waiting for security association destruction to complete
             |             \__________|
             |
            \/
           free

 At any time during the life time of such an instance, the instance can be moved
 to a kill list where it sits as an invalid instance until it reaches the CLEANING
 state and eventually gets freed. This allows us to not perform any cancel of 
 async operations which proved to not work properly.</pre> </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="afe732372e3afa05eeb92048a501592db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROTOMANGLE_SECURITYASSOC_CHECK_FREQUENCY&#160;&#160;&#160;(2 * 1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1847d0b5863ad01300960f75603300e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROTOMANGLE_SECURITYASSOC_CREATION_TIMEOUT&#160;&#160;&#160;(20 * 1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d3/d4d/group__ProtoMangle.html#gac555588f60fc188bb071ac7cbaf3a197">ProtoMangleCreate()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a7334bd894b57fc49261d7bedfe7d4027"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bd">ProtoMangleAssocStateE</a>  <a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bd">ProtoMangleAssocStateE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>state transitions for a single security association data space </p>

</div>
</div>
<a class="anchor" id="a30dc0665ac5b336aea46915460bb323a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d4/d48/structProtoMangleStateT.html">ProtoMangleStateT</a>  <a class="el" href="../../d4/d48/structProtoMangleStateT.html">ProtoMangleStateT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>global protomangle state </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="aa92b699708ce442a259b86daaad8c2bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bd">ProtoMangleAssocStateE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>state transitions for a single security association data space </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda0fabdbe7ed88b3c65d4a74938dcfd247"></a>PROTOMANGLE_STATE_INIT</em>&#160;</td><td class="fielddoc">
<p>created </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda87344b93ef7618362d20ebc8b281cf2b"></a>PROTOMANGLE_STATE_MULTI_UNLOCK</em>&#160;</td><td class="fielddoc">
<p>unlocking multiplayer capability is in progress </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda10a884c29b553e6ecc10cca47f07b39c"></a>PROTOMANGLE_STATE_CREATING</em>&#160;</td><td class="fielddoc">
<p>establishment of the security association is in progress (locally-initiated) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda8f957da047d4fa76e0b684d3454f6929"></a>PROTOMANGLE_STATE_LISTENING</em>&#160;</td><td class="fielddoc">
<p>establishment of the security association is in progress (remotely-initiated) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda091c0790568538e6f30d86ae315c783b"></a>PROTOMANGLE_STATE_DONE</em>&#160;</td><td class="fielddoc">
<p>successful secure address resolution completion </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda56fa6133d8d6033ced41b64dc98b34c3"></a>PROTOMANGLE_STATE_FAILED</em>&#160;</td><td class="fielddoc">
<p>secure address resolution failed </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda33392be4ff6ddb23aedd907378db4042"></a>PROTOMANGLE_STATE_TIMEDOUT</em>&#160;</td><td class="fielddoc">
<p>secure address resolution timedout </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa92b699708ce442a259b86daaad8c2bda92faad23a3ec14514a30ecee8765aadb"></a>PROTOMANGLE_STATE_CLEANING</em>&#160;</td><td class="fielddoc">
<p>releasing allocated resources (includes async destroy if needed) - this state can only be reached when entry is in kill list </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a70ee4ebec546f428cebf909364bbf32b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _ProtoMangleIncomingAssociationEventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *&#160;</td>
          <td class="paramname"><em>pRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SecureDeviceAssociation^&#160;</td>
          <td class="paramname"><em>refSecurityAssociation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event handler (delegate) registered for incoming association events. </p>
<p><a class="anchor" id="_ProtoMangleIncomingAssociationEventHandler"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pRef</td><td>- pointer to module state </td></tr>
    <tr><td class="paramname">^refSecurityAssociation</td><td>- winrt reference to security association being notified</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>10/29/2013 (mclouatre) </dd></dl>

<p>References <a class="el" href="../../db/de2/structProtoMangleRefT.html#a3de9e78cef9a07eb53eb70cd7063f5ae">ProtoMangleRefT::iVerbose</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#gaf6e281cce23380cd22a8b3123da4d2f7">NetPrintfVerbose</a>, and <a class="el" href="../../db/de2/structProtoMangleRefT.html#a8316d4a594e5e523f23f86f6f0866791">ProtoMangleRefT::refIncomingSecurityAssocVect</a>.</p>

</div>
</div>
<a class="anchor" id="a3bd2f1c81ff6421506d4a465ccb20c18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _ProtoMangleProcessIncomingSAs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/de2/structProtoMangleRefT.html">ProtoMangleRefT</a> *&#160;</td>
          <td class="paramname"><em>pRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the queue of incoming secure device associations. </p>
<p><a class="anchor" id="_ProtoMangleProcessIncomingSAs"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pRef</td><td>- pointer to module state</td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>09/06/2014 (mclouatre) </dd></dl>

<p>References <a class="el" href="../../db/de2/structProtoMangleRefT.html#ae77d8a15031e29fc712184c26ab6ca45">ProtoMangleRefT::aClients</a>, <a class="el" href="../../d8/d98/structProtoMangleSecurityAssocT.html#a89169d6b1454aaf43cc7a0436b6d8d23">ProtoMangleSecurityAssocT::eMangleState</a>, <a class="el" href="../../d8/d98/structProtoMangleSecurityAssocT.html#abef2484a370b20df55d3418d73111a04">ProtoMangleSecurityAssocT::iIpv4Addr</a>, <a class="el" href="../../db/de2/structProtoMangleRefT.html#ace3db4641b5cd306aebc38a5babfaa48">ProtoMangleRefT::iMaxClients</a>, <a class="el" href="../../db/de2/structProtoMangleRefT.html#a3de9e78cef9a07eb53eb70cd7063f5ae">ProtoMangleRefT::iVerbose</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#gaf6e281cce23380cd22a8b3123da4d2f7">NetPrintfVerbose</a>, <a class="el" href="../../dc/db6/structProtoMangleClientT.html#af530452f20f2bad10f9061b1d6581d4f">ProtoMangleClientT::pAssoc</a>, <a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda091c0790568538e6f30d86ae315c783b">PROTOMANGLE_STATE_DONE</a>, <a class="el" href="../../d8/d60/protomanglexboxone_8cpp.html#aa92b699708ce442a259b86daaad8c2bda8f957da047d4fa76e0b684d3454f6929">PROTOMANGLE_STATE_LISTENING</a>, <a class="el" href="../../db/de2/structProtoMangleRefT.html#a8316d4a594e5e523f23f86f6f0866791">ProtoMangleRefT::refIncomingSecurityAssocVect</a>, <a class="el" href="../../d8/d98/structProtoMangleSecurityAssocT.html#a955305cb734572bce088db2d752a4daf">ProtoMangleSecurityAssocT::refSecureDeviceAddr</a>, <a class="el" href="../../d8/d98/structProtoMangleSecurityAssocT.html#a70eade8adc66088bf43732a4c41701d8">ProtoMangleSecurityAssocT::refSecurityAssociation</a>, and <a class="el" href="../../d8/d98/structProtoMangleSecurityAssocT.html#a96a68521938bcf009762a1a35a16a848">ProtoMangleSecurityAssocT::remoteSocketAddress</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d4d/group__ProtoMangle.html#gad39096cd8a5c974c22d14420e73e796c">ProtoMangleUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="ae90c4ede3049dc97f7a948231f36cbee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ProtoMangleFindTemplate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pStrTemplateName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iTemplateNameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iLocalPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iRemotePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bTcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>iVerbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find template suitable for given query, based on protocol, local port, and remote port. </p>
<p><a class="anchor" id="ProtoMangleFindTemplate"></a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pStrTemplateName-</td><td>[out] buffer to store template name in </td></tr>
    <tr><td class="paramname">iTemplateNameSize-</td><td>size of template name buffer </td></tr>
    <tr><td class="paramname">iLocalPort</td><td>- local (bound) port to check template for </td></tr>
    <tr><td class="paramname">iRemotePort</td><td>- remote (connect) port to check template for </td></tr>
    <tr><td class="paramname">bTcp</td><td>- TRUE if TCP, else UDP </td></tr>
    <tr><td class="paramname">iVerbose</td><td>- debug level</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const char * - template name, or NULL if not found</dd></dl>
<dl class="section version"><dt>Version</dt><dd>09/12/2013 (jbrookes) </dd></dl>

<p>References <a class="el" href="../../d3/d00/group__DirtyErr.html#ga9ec0d4aeb86771f74f3fa12da788d1b6">DirtyErrGetName()</a>, <a class="el" href="../../d0/db5/group__Platform.html#ga4c5789ea3569b9d878ab59812c1a2ddc">ds_snzprintf()</a>, <a class="el" href="../../d8/db9/group__DirtyLib.html#ga65daf776ea13a4de6e65651254a25906">NetPrintf</a>, and <a class="el" href="../../d8/db9/group__DirtyLib.html#gaf6e281cce23380cd22a8b3123da4d2f7">NetPrintfVerbose</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Oct 21 2016 13:34:34</span><br />
</td></tr>
</table>
