<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: commudp.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d81/commudp_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">commudp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a reliable UDP transport class optimized for use in a controller passing game applications. When the actual data bandwidth is low (as is typical with controller passing), it sends redundant data in order to quickly recover from any lost packets. Overhead is low adding only 8 bytes per packet in addition to UDP/IP overhead. This module support mutual connects in order to allow connections through firewalls.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d08/commall_8h_source.html">DirtySDK/comm/commall.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/dfc/commudp_8h_source.html">DirtySDK/comm/commudp.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d0e/structRawUDPPacketT.html">RawUDPPacketT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">raw protocol packet format  <a href="../../dd/d0e/structRawUDPPacketT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3a/structRawUDPPacketHeadT.html">RawUDPPacketHeadT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">raw protocol packet header &ndash; used for stack local formatting of handshake packets, and packets with no data  <a href="../../dd/d3a/structRawUDPPacketHeadT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">private module storage  <a href="../../de/dfc/structCommUDPRef.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a80cdba61f7c86a5effe48d435e797046"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a80cdba61f7c86a5effe48d435e797046">COMM_PRINT</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a80cdba61f7c86a5effe48d435e797046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19787ef50c328cb9ad107d40fca22da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#aa19787ef50c328cb9ad107d40fca22da">ESC_CAUSES_LOSS</a>&#160;&#160;&#160;(<a class="el" href="../../d0/db5/group__Platform.html#ga73771537d1bb64e7681347f11b8d1bb3">DIRTYCODE_DEBUG</a> &amp;&amp; defined(DIRTYCODE_PC) &amp;&amp; 0)</td></tr>
<tr class="separator:aa19787ef50c328cb9ad107d40fca22da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f0af121c5e35f73149935964811b1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#aa5f0af121c5e35f73149935964811b1a">BUSY_KEEPALIVE</a>&#160;&#160;&#160;(100)</td></tr>
<tr class="separator:aa5f0af121c5e35f73149935964811b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd3f639c22fc979f25a20929496730b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a5bd3f639c22fc979f25a20929496730b">IDLE_KEEPALIVE</a>&#160;&#160;&#160;(2500)</td></tr>
<tr class="separator:a5bd3f639c22fc979f25a20929496730b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1c9d647bd3ac56755a2700af667acd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#aed1c9d647bd3ac56755a2700af667acd">PENETRATE_RATE</a>&#160;&#160;&#160;(1000)</td></tr>
<tr class="separator:aed1c9d647bd3ac56755a2700af667acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c32427d23eac09719761096a9c17ef4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a3c32427d23eac09719761096a9c17ef4">UNACK_LIMIT</a>&#160;&#160;&#160;(2048)</td></tr>
<tr class="separator:a3c32427d23eac09719761096a9c17ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe76282fcd5f4bf67c87faf9da462c5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#abe76282fcd5f4bf67c87faf9da462c5f">RAW_METATYPE1_SIZE</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="separator:abe76282fcd5f4bf67c87faf9da462c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38bc4a98f4c90c545eb3e4089d28d20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#ae38bc4a98f4c90c545eb3e4089d28d20">COMMUDP_MAX_METALEN</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="memdesc:ae38bc4a98f4c90c545eb3e4089d28d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">max additional space needed by a commudp meta type  <a href="#ae38bc4a98f4c90c545eb3e4089d28d20">More...</a><br/></td></tr>
<tr class="separator:ae38bc4a98f4c90c545eb3e4089d28d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc4da6396a8bb0e7fd0e1c879d82bbd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#aadc4da6396a8bb0e7fd0e1c879d82bbd">SEQ_MASK</a>&#160;&#160;&#160;(0x00ffffff)</td></tr>
<tr class="separator:aadc4da6396a8bb0e7fd0e1c879d82bbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae693d1c2a7b13bda57638bf78846a29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#aae693d1c2a7b13bda57638bf78846a29">SEQ_MULTI_SHIFT</a>&#160;&#160;&#160;(28)</td></tr>
<tr class="separator:aae693d1c2a7b13bda57638bf78846a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc650ff75c02049e4b5b7031a675f6ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#abc650ff75c02049e4b5b7031a675f6ad">SEQ_META_SHIFT</a>&#160;&#160;&#160;(28 - 4)</td></tr>
<tr class="separator:abc650ff75c02049e4b5b7031a675f6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cc718cd04e4436dcaca0ba883caea9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#af5cc718cd04e4436dcaca0ba883caea9">SEQ_MULTI_INC</a>&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="../../d5/d81/commudp_8c.html#aae693d1c2a7b13bda57638bf78846a29">SEQ_MULTI_SHIFT</a>)</td></tr>
<tr class="separator:af5cc718cd04e4436dcaca0ba883caea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9143f33222d8f0a4b678f84ab2e10ca1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a9143f33222d8f0a4b678f84ab2e10ca1">REDUNDANT_LIMIT_DEFAULT</a>&#160;&#160;&#160;(64)</td></tr>
<tr class="separator:a9143f33222d8f0a4b678f84ab2e10ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5729de56f20ea484c35b6e42a847f3ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a5729de56f20ea484c35b6e42a847f3ef">COMMUDP_VERSION_1_0</a>&#160;&#160;&#160;(0x0100)</td></tr>
<tr class="separator:a5729de56f20ea484c35b6e42a847f3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4869309d2abb723697f8faf435f7fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a9f4869309d2abb723697f8faf435f7fa">COMMUDP_VERSION_1_1</a>&#160;&#160;&#160;(0x0101)</td></tr>
<tr class="separator:a9f4869309d2abb723697f8faf435f7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6858bbc59a2353aff7120ede8777559c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/commudp_8c.html#a6858bbc59a2353aff7120ede8777559c">COMMUDP_VERSION</a>&#160;&#160;&#160;(<a class="el" href="../../d5/d81/commudp_8c.html#a9f4869309d2abb723697f8faf435f7fa">COMMUDP_VERSION_1_1</a>)</td></tr>
<tr class="separator:a6858bbc59a2353aff7120ede8777559c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7ff5f2dff38e7639981794c43dc9167b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167ba653a54daa7c369d7c0821a19ed8dd378">RAW_PACKET_INIT</a> = 1, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167ba3b975b4cffbc3fbbee5582b583582fc9">RAW_PACKET_CONN</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167baee430dd2446f805b30e14ea45e002de9">RAW_PACKET_DISC</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167baca6f00eac010619df5606476832ca3c1">RAW_PACKET_NAK</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167ba659c5a3fd1b10ebbbcf628e8fa7d7000">RAW_PACKET_POKE</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167baa71b9795ae045e0699fab5563d0c3d88">RAW_PACKET_UNREL</a> = 128, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167ba1e78d761c2e078b9b55172b87a778188">RAW_PACKET_DATA</a> = 256, 
<br/>
&#160;&#160;<a class="el" href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167ba9b631433f989e8c3371ba5bc5f9a82a8">RAW_PACKET_DATA_WINDOW</a> = (1 &lt;&lt; 24) - 256
<br/>
 }</td></tr>
<tr class="memdesc:a7ff5f2dff38e7639981794c43dc9167b"><td class="mdescLeft">&#160;</td><td class="mdescRight">define protocol packet types  <a href="../../d5/d81/commudp_8c.html#a7ff5f2dff38e7639981794c43dc9167b">More...</a><br/></td></tr>
<tr class="separator:a7ff5f2dff38e7639981794c43dc9167b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga40028f7cabe3617a6cdbce34fdc5cbf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga40028f7cabe3617a6cdbce34fdc5cbf7">CommUDPConstruct</a> (int32_t maxwid, int32_t maxinp, int32_t maxout)</td></tr>
<tr class="memdesc:ga40028f7cabe3617a6cdbce34fdc5cbf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the class.  <a href="../../d2/db2/group__CommUDP.html#ga40028f7cabe3617a6cdbce34fdc5cbf7">More...</a><br/></td></tr>
<tr class="separator:ga40028f7cabe3617a6cdbce34fdc5cbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga277663c410f8e5d3ab8153bb90ccd461"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga277663c410f8e5d3ab8153bb90ccd461">CommUDPDestroy</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref)</td></tr>
<tr class="memdesc:ga277663c410f8e5d3ab8153bb90ccd461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct the class.  <a href="../../d2/db2/group__CommUDP.html#ga277663c410f8e5d3ab8153bb90ccd461">More...</a><br/></td></tr>
<tr class="separator:ga277663c410f8e5d3ab8153bb90ccd461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49b7863fce7a1d807988c2d75348a4f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga49b7863fce7a1d807988c2d75348a4f4">CommUDPCallback</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, void(*callback)(void *ref, int32_t event))</td></tr>
<tr class="memdesc:ga49b7863fce7a1d807988c2d75348a4f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set upper layer callback.  <a href="../../d2/db2/group__CommUDP.html#ga49b7863fce7a1d807988c2d75348a4f4">More...</a><br/></td></tr>
<tr class="separator:ga49b7863fce7a1d807988c2d75348a4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6dd6e044079bb3facea748d97fda7b9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gaf6dd6e044079bb3facea748d97fda7b9">CommUDPResolve</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, const char *addr, char *buf, int32_t len, char div)</td></tr>
<tr class="memdesc:gaf6dd6e044079bb3facea748d97fda7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve an address.  <a href="../../d2/db2/group__CommUDP.html#gaf6dd6e044079bb3facea748d97fda7b9">More...</a><br/></td></tr>
<tr class="separator:gaf6dd6e044079bb3facea748d97fda7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga271369642a45ff0611a70a634a46cd5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga271369642a45ff0611a70a634a46cd5b">CommUDPUnresolve</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref)</td></tr>
<tr class="memdesc:ga271369642a45ff0611a70a634a46cd5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the resolver.  <a href="../../d2/db2/group__CommUDP.html#ga271369642a45ff0611a70a634a46cd5b">More...</a><br/></td></tr>
<tr class="separator:ga271369642a45ff0611a70a634a46cd5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5dcd79ae26c2f6334ef13367a29d36e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gaf5dcd79ae26c2f6334ef13367a29d36e">CommUDPUnlisten</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref)</td></tr>
<tr class="memdesc:gaf5dcd79ae26c2f6334ef13367a29d36e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop listening.  <a href="../../d2/db2/group__CommUDP.html#gaf5dcd79ae26c2f6334ef13367a29d36e">More...</a><br/></td></tr>
<tr class="separator:gaf5dcd79ae26c2f6334ef13367a29d36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab41d28acc7759faca984d5d726b1bf79"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gab41d28acc7759faca984d5d726b1bf79">CommUDPUnconnect</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref)</td></tr>
<tr class="memdesc:gab41d28acc7759faca984d5d726b1bf79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate a connection.  <a href="../../d2/db2/group__CommUDP.html#gab41d28acc7759faca984d5d726b1bf79">More...</a><br/></td></tr>
<tr class="separator:gab41d28acc7759faca984d5d726b1bf79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86d55d319aae92282a6bed546956570b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga86d55d319aae92282a6bed546956570b">CommUDPStatus</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref)</td></tr>
<tr class="memdesc:ga86d55d319aae92282a6bed546956570b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current stream status.  <a href="../../d2/db2/group__CommUDP.html#ga86d55d319aae92282a6bed546956570b">More...</a><br/></td></tr>
<tr class="separator:ga86d55d319aae92282a6bed546956570b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6919e80a77aa5f2efc58bea767bca579"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga6919e80a77aa5f2efc58bea767bca579">CommUDPControl</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *<a class="el" href="../../dc/d6e/dirtylib_8c.html#a9f729169e4dfc82c61b5092753337a45">pRef</a>, int32_t iControl, int32_t iValue, void *pValue)</td></tr>
<tr class="memdesc:ga6919e80a77aa5f2efc58bea767bca579"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set connection behavior.  <a href="../../d2/db2/group__CommUDP.html#ga6919e80a77aa5f2efc58bea767bca579">More...</a><br/></td></tr>
<tr class="separator:ga6919e80a77aa5f2efc58bea767bca579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa78b21fe9bf7398d267eb3d9d89f60f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gaaa78b21fe9bf7398d267eb3d9d89f60f">CommUDPTick</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref)</td></tr>
<tr class="memdesc:gaaa78b21fe9bf7398d267eb3d9d89f60f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current tick.  <a href="../../d2/db2/group__CommUDP.html#gaaa78b21fe9bf7398d267eb3d9d89f60f">More...</a><br/></td></tr>
<tr class="separator:gaaa78b21fe9bf7398d267eb3d9d89f60f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga761af8cdf498f421506df4f626a11939"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#ga761af8cdf498f421506df4f626a11939">CommUDPSend</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, const void *buffer, int32_t length, uint32_t flags)</td></tr>
<tr class="memdesc:ga761af8cdf498f421506df4f626a11939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet.  <a href="../../d2/db2/group__CommUDP.html#ga761af8cdf498f421506df4f626a11939">More...</a><br/></td></tr>
<tr class="separator:ga761af8cdf498f421506df4f626a11939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6e566bd298cb4dff932314b93e2f21f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gae6e566bd298cb4dff932314b93e2f21f">CommUDPPeek</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, void *target, int32_t length, uint32_t *when)</td></tr>
<tr class="memdesc:gae6e566bd298cb4dff932314b93e2f21f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peek at waiting packet.  <a href="../../d2/db2/group__CommUDP.html#gae6e566bd298cb4dff932314b93e2f21f">More...</a><br/></td></tr>
<tr class="separator:gae6e566bd298cb4dff932314b93e2f21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2003da5b5d9e9d2dfa35cd259d59ead"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gac2003da5b5d9e9d2dfa35cd259d59ead">CommUDPRecv</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, void *target, int32_t length, uint32_t *when)</td></tr>
<tr class="memdesc:gac2003da5b5d9e9d2dfa35cd259d59ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a packet from the buffer.  <a href="../../d2/db2/group__CommUDP.html#gac2003da5b5d9e9d2dfa35cd259d59ead">More...</a><br/></td></tr>
<tr class="separator:gac2003da5b5d9e9d2dfa35cd259d59ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6e6df8d4e1e8391cc7ce8235e669a01"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gaf6e6df8d4e1e8391cc7ce8235e669a01">CommUDPListen</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, const char *addr)</td></tr>
<tr class="memdesc:gaf6e6df8d4e1e8391cc7ce8235e669a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen for a connection.  <a href="../../d2/db2/group__CommUDP.html#gaf6e6df8d4e1e8391cc7ce8235e669a01">More...</a><br/></td></tr>
<tr class="separator:gaf6e6df8d4e1e8391cc7ce8235e669a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9ebe2fd8453e4651063b0a4e07ba5a2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db2/group__CommUDP.html#gac9ebe2fd8453e4651063b0a4e07ba5a2">CommUDPConnect</a> (<a class="el" href="../../de/dfc/structCommUDPRef.html">CommUDPRef</a> *ref, const char *addr)</td></tr>
<tr class="memdesc:gac9ebe2fd8453e4651063b0a4e07ba5a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate a connection to a peer.  <a href="../../d2/db2/group__CommUDP.html#gac9ebe2fd8453e4651063b0a4e07ba5a2">More...</a><br/></td></tr>
<tr class="separator:gac9ebe2fd8453e4651063b0a4e07ba5a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a reliable UDP transport class optimized for use in a controller passing game applications. When the actual data bandwidth is low (as is typical with controller passing), it sends redundant data in order to quickly recover from any lost packets. Overhead is low adding only 8 bytes per packet in addition to UDP/IP overhead. This module support mutual connects in order to allow connections through firewalls. </p>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Tiburon Entertainment / Electronic Arts 1999-2003. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 02/09/99 (GWS) First Version </dd>
<dd>
0.2 02/14/99 (GWS) Revised and enhanced </dd>
<dd>
0.5 02/14/99 (GWS) Alpha release </dd>
<dd>
1.0 07/30/99 (GWS) Final release </dd>
<dd>
2.0 10/27/99 (GWS) Revised to use winsock 1.1/2.0 </dd>
<dd>
2.1 12/04/99 (GWS) Removed winsock 1.1 support </dd>
<dd>
2.2 01/12/00 (GWS) Fixed receive tick bug </dd>
<dd>
2.3 06/12/00 (GWS) Added fastack for low-latency nets </dd>
<dd>
2.4 12/04/00 (GWS) Added firewall penetrator </dd>
<dd>
3.0 12/04/00 (GWS) Reported to dirtysock </dd>
<dd>
3.1 11/20/02 (JLB) Added Send() flags parameter </dd>
<dd>
3.2 02/18/03 (JLB) Fixes for multiple connection support </dd>
<dd>
3.3 05/06/03 (GWS) Allowed poke to come from any IP </dd>
<dd>
3.4 09/02/03 (JLB) Added unreliable packet type </dd>
<dd>
4.0 09/12/03 (JLB) Per-send optional unreliable transport </dd>
<dd>
5.0 07/07/09 (jrainy) Putting meta-data bits over the high bits of the sequence number </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa5f0af121c5e35f73149935964811b1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUSY_KEEPALIVE&#160;&#160;&#160;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a80cdba61f7c86a5effe48d435e797046"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMM_PRINT&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae38bc4a98f4c90c545eb3e4089d28d20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUDP_MAX_METALEN&#160;&#160;&#160;(8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>max additional space needed by a commudp meta type </p>

<p>Referenced by <a class="el" href="../../d2/db2/group__CommUDP.html#ga40028f7cabe3617a6cdbce34fdc5cbf7">CommUDPConstruct()</a>.</p>

</div>
</div>
<a class="anchor" id="a6858bbc59a2353aff7120ede8777559c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUDP_VERSION&#160;&#160;&#160;(<a class="el" href="../../d5/d81/commudp_8c.html#a9f4869309d2abb723697f8faf435f7fa">COMMUDP_VERSION_1_1</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5729de56f20ea484c35b6e42a847f3ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUDP_VERSION_1_0&#160;&#160;&#160;(0x0100)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9f4869309d2abb723697f8faf435f7fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUDP_VERSION_1_1&#160;&#160;&#160;(0x0101)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa19787ef50c328cb9ad107d40fca22da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_CAUSES_LOSS&#160;&#160;&#160;(<a class="el" href="../../d0/db5/group__Platform.html#ga73771537d1bb64e7681347f11b8d1bb3">DIRTYCODE_DEBUG</a> &amp;&amp; defined(DIRTYCODE_PC) &amp;&amp; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5bd3f639c22fc979f25a20929496730b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDLE_KEEPALIVE&#160;&#160;&#160;(2500)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aed1c9d647bd3ac56755a2700af667acd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PENETRATE_RATE&#160;&#160;&#160;(1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abe76282fcd5f4bf67c87faf9da462c5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAW_METATYPE1_SIZE&#160;&#160;&#160;(8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d2/db2/group__CommUDP.html#ga761af8cdf498f421506df4f626a11939">CommUDPSend()</a>.</p>

</div>
</div>
<a class="anchor" id="a9143f33222d8f0a4b678f84ab2e10ca1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REDUNDANT_LIMIT_DEFAULT&#160;&#160;&#160;(64)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d2/db2/group__CommUDP.html#ga40028f7cabe3617a6cdbce34fdc5cbf7">CommUDPConstruct()</a>, and <a class="el" href="../../d2/db2/group__CommUDP.html#ga6919e80a77aa5f2efc58bea767bca579">CommUDPControl()</a>.</p>

</div>
</div>
<a class="anchor" id="aadc4da6396a8bb0e7fd0e1c879d82bbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_MASK&#160;&#160;&#160;(0x00ffffff)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc650ff75c02049e4b5b7031a675f6ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_META_SHIFT&#160;&#160;&#160;(28 - 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af5cc718cd04e4436dcaca0ba883caea9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_MULTI_INC&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="../../d5/d81/commudp_8c.html#aae693d1c2a7b13bda57638bf78846a29">SEQ_MULTI_SHIFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae693d1c2a7b13bda57638bf78846a29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_MULTI_SHIFT&#160;&#160;&#160;(28)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3c32427d23eac09719761096a9c17ef4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNACK_LIMIT&#160;&#160;&#160;(2048)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="../../d2/db2/group__CommUDP.html#ga40028f7cabe3617a6cdbce34fdc5cbf7">CommUDPConstruct()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>define protocol packet types </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167ba653a54daa7c369d7c0821a19ed8dd378"></a>RAW_PACKET_INIT</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167ba3b975b4cffbc3fbbee5582b583582fc9"></a>RAW_PACKET_CONN</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167baee430dd2446f805b30e14ea45e002de9"></a>RAW_PACKET_DISC</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167baca6f00eac010619df5606476832ca3c1"></a>RAW_PACKET_NAK</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167ba659c5a3fd1b10ebbbcf628e8fa7d7000"></a>RAW_PACKET_POKE</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167baa71b9795ae045e0699fab5563d0c3d88"></a>RAW_PACKET_UNREL</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167ba1e78d761c2e078b9b55172b87a778188"></a>RAW_PACKET_DATA</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7ff5f2dff38e7639981794c43dc9167ba9b631433f989e8c3371ba5bc5f9a82a8"></a>RAW_PACKET_DATA_WINDOW</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Oct 21 2016 13:35:12</span><br />
</td></tr>
</table>
