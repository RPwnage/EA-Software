<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DirtySock: commtcp.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../eadp-horizontal-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirtySock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/dd1/commtcp_8c.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">commtcp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a simple packet based TCP transport class. It is optimized for use in real-time environments (expending additional bandwidth for the sake of better latency). It uses the same packet based interface as the other Comm modules. Packet overhead is very low at only 2 extra bytes per packet beyond what TCP adds.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dc9/dirtysock_8h_source.html">DirtySDK/dirtysock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d4c/dirtymem_8h_source.html">DirtySDK/dirtysock/dirtymem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d08/commall_8h_source.html">DirtySDK/comm/commall.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d32/commtcp_8h_source.html">DirtySDK/comm/commtcp.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d6e/structRawTCPPacketT.html">RawTCPPacketT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">raw protocol packet format  <a href="../../dc/d6e/structRawTCPPacketT.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">private module storage  <a href="../../d2/de6/structCommTCPRef.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4d00b2f6f462a651ce587079193606e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd1/commtcp_8c.html#a4d00b2f6f462a651ce587079193606e4">COMMTCP_VERBOSE</a>&#160;&#160;&#160;(<a class="el" href="../../d5/d81/commudp_8c.html#a80cdba61f7c86a5effe48d435e797046">COMM_PRINT</a> &amp;&amp; <a class="el" href="../../d1/d5b/dirtynames_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</td></tr>
<tr class="separator:a4d00b2f6f462a651ce587079193606e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga059947915b8169efcbda833cc430764e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga059947915b8169efcbda833cc430764e">CommTCPConstruct</a> (int32_t maxwid, int32_t maxinp, int32_t maxout)</td></tr>
<tr class="memdesc:ga059947915b8169efcbda833cc430764e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the class.  <a href="../../d9/d5b/group__CommTCP.html#ga059947915b8169efcbda833cc430764e">More...</a><br/></td></tr>
<tr class="separator:ga059947915b8169efcbda833cc430764e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4a27c7f3427816780238fa244d33e9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#gac4a27c7f3427816780238fa244d33e9d">CommTCPDestroy</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref)</td></tr>
<tr class="memdesc:gac4a27c7f3427816780238fa244d33e9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct the class.  <a href="../../d9/d5b/group__CommTCP.html#gac4a27c7f3427816780238fa244d33e9d">More...</a><br/></td></tr>
<tr class="separator:gac4a27c7f3427816780238fa244d33e9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31b1f8d9cde0d9c18dd1e4621f779c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga31b1f8d9cde0d9c18dd1e4621f779c30">CommTCPCallback</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, void(*callback)(<a class="el" href="../../de/d7d/structCommRef.html">CommRef</a> *ref, int32_t event))</td></tr>
<tr class="memdesc:ga31b1f8d9cde0d9c18dd1e4621f779c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set upper layer callback.  <a href="../../d9/d5b/group__CommTCP.html#ga31b1f8d9cde0d9c18dd1e4621f779c30">More...</a><br/></td></tr>
<tr class="separator:ga31b1f8d9cde0d9c18dd1e4621f779c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga661df194620c8498c2c01bd7f2645ce3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga661df194620c8498c2c01bd7f2645ce3">CommTCPResolve</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, const char *addr, char *buf, int32_t len, char div)</td></tr>
<tr class="memdesc:ga661df194620c8498c2c01bd7f2645ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve an address.  <a href="../../d9/d5b/group__CommTCP.html#ga661df194620c8498c2c01bd7f2645ce3">More...</a><br/></td></tr>
<tr class="separator:ga661df194620c8498c2c01bd7f2645ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9616ed061c446ab789773e1fa552b6fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga9616ed061c446ab789773e1fa552b6fa">CommTCPUnresolve</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref)</td></tr>
<tr class="memdesc:ga9616ed061c446ab789773e1fa552b6fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the resolver.  <a href="../../d9/d5b/group__CommTCP.html#ga9616ed061c446ab789773e1fa552b6fa">More...</a><br/></td></tr>
<tr class="separator:ga9616ed061c446ab789773e1fa552b6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8a6a7706a150821e6b5e2451645831e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#gad8a6a7706a150821e6b5e2451645831e">CommTCPUnlisten</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref)</td></tr>
<tr class="memdesc:gad8a6a7706a150821e6b5e2451645831e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop listening.  <a href="../../d9/d5b/group__CommTCP.html#gad8a6a7706a150821e6b5e2451645831e">More...</a><br/></td></tr>
<tr class="separator:gad8a6a7706a150821e6b5e2451645831e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b631cb244a22ae4351c8bbe29dc856a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga5b631cb244a22ae4351c8bbe29dc856a">CommTCPUnconnect</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref)</td></tr>
<tr class="memdesc:ga5b631cb244a22ae4351c8bbe29dc856a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate a connection.  <a href="../../d9/d5b/group__CommTCP.html#ga5b631cb244a22ae4351c8bbe29dc856a">More...</a><br/></td></tr>
<tr class="separator:ga5b631cb244a22ae4351c8bbe29dc856a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ba2667a7fa1d7b3ddd8cdb26fff78f5"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga2ba2667a7fa1d7b3ddd8cdb26fff78f5">CommTCPStatus</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref)</td></tr>
<tr class="memdesc:ga2ba2667a7fa1d7b3ddd8cdb26fff78f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current stream status.  <a href="../../d9/d5b/group__CommTCP.html#ga2ba2667a7fa1d7b3ddd8cdb26fff78f5">More...</a><br/></td></tr>
<tr class="separator:ga2ba2667a7fa1d7b3ddd8cdb26fff78f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9fa0aa4785cdcfc88c48f3e54740d574"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga9fa0aa4785cdcfc88c48f3e54740d574">CommTCPTick</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref)</td></tr>
<tr class="memdesc:ga9fa0aa4785cdcfc88c48f3e54740d574"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current tick.  <a href="../../d9/d5b/group__CommTCP.html#ga9fa0aa4785cdcfc88c48f3e54740d574">More...</a><br/></td></tr>
<tr class="separator:ga9fa0aa4785cdcfc88c48f3e54740d574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga211b6c0ac2ba4e0a7daa23d91b60717d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga211b6c0ac2ba4e0a7daa23d91b60717d">CommTCPSend</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, const void *buffer, int32_t length, uint32_t flags)</td></tr>
<tr class="memdesc:ga211b6c0ac2ba4e0a7daa23d91b60717d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet.  <a href="../../d9/d5b/group__CommTCP.html#ga211b6c0ac2ba4e0a7daa23d91b60717d">More...</a><br/></td></tr>
<tr class="separator:ga211b6c0ac2ba4e0a7daa23d91b60717d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbcd0279d2b766edfd51e79e5565439d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#gacbcd0279d2b766edfd51e79e5565439d">CommTCPPeek</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, void *target, int32_t length, uint32_t *when)</td></tr>
<tr class="memdesc:gacbcd0279d2b766edfd51e79e5565439d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peek at waiting packet.  <a href="../../d9/d5b/group__CommTCP.html#gacbcd0279d2b766edfd51e79e5565439d">More...</a><br/></td></tr>
<tr class="separator:gacbcd0279d2b766edfd51e79e5565439d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f697edc1cb6860ae9e43bf3fafae2f3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga1f697edc1cb6860ae9e43bf3fafae2f3">CommTCPRecv</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, void *target, int32_t length, uint32_t *when)</td></tr>
<tr class="memdesc:ga1f697edc1cb6860ae9e43bf3fafae2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a packet from the buffer.  <a href="../../d9/d5b/group__CommTCP.html#ga1f697edc1cb6860ae9e43bf3fafae2f3">More...</a><br/></td></tr>
<tr class="separator:ga1f697edc1cb6860ae9e43bf3fafae2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c3577109bd4304f31b15f345debec91"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga2c3577109bd4304f31b15f345debec91">CommTCPListen</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, const char *addr)</td></tr>
<tr class="memdesc:ga2c3577109bd4304f31b15f345debec91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen for a connection.  <a href="../../d9/d5b/group__CommTCP.html#ga2c3577109bd4304f31b15f345debec91">More...</a><br/></td></tr>
<tr class="separator:ga2c3577109bd4304f31b15f345debec91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c1add767bf76a96206b776e76a2f258"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5b/group__CommTCP.html#ga3c1add767bf76a96206b776e76a2f258">CommTCPConnect</a> (<a class="el" href="../../d2/de6/structCommTCPRef.html">CommTCPRef</a> *ref, const char *addr)</td></tr>
<tr class="memdesc:ga3c1add767bf76a96206b776e76a2f258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate a connection to a peer.  <a href="../../d9/d5b/group__CommTCP.html#ga3c1add767bf76a96206b776e76a2f258">More...</a><br/></td></tr>
<tr class="separator:ga3c1add767bf76a96206b776e76a2f258"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a simple packet based TCP transport class. It is optimized for use in real-time environments (expending additional bandwidth for the sake of better latency). It uses the same packet based interface as the other Comm modules. Packet overhead is very low at only 2 extra bytes per packet beyond what TCP adds. </p>
<dl class="section note"><dt>Note</dt><dd>Unfortunately, because of delayed ack handling in many TCP implementations, performance of this module is far below that of the UDP version. Also, it is much more sensitive to data loss. While this is kept around for historical reasons, it should not be used for new applications.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) Tiburon Entertainment / Electronic Arts 1999-2002. ALL RIGHTS RESERVED.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.5 02/19/99 (GWS) First Version </dd>
<dd>
1.0 02/25/99 (GWS) Alpha release </dd>
<dd>
1.1 07/27/99 (GWS) Initial release </dd>
<dd>
2.0 10/28/99 (GWS) Revised to use winsock 1.1/2.0 </dd>
<dd>
2.1 12/28/99 (GWS) Removed winsock 1.1 support </dd>
<dd>
2.2 07/10/00 (GWS) Reverted to winsock 1.1/2.0 version </dd>
<dd>
3.0 01/06/03 (GWS) Converted to dirtysock </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4d00b2f6f462a651ce587079193606e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMTCP_VERBOSE&#160;&#160;&#160;(<a class="el" href="../../d5/d81/commudp_8c.html#a80cdba61f7c86a5effe48d435e797046">COMM_PRINT</a> &amp;&amp; <a class="el" href="../../d1/d5b/dirtynames_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<table x-use-null-cells
        style="float: alignright;
                width: 100%;
                border-spacing: 0px;"
        cellspacing=0
        width=100%>
<tr>
<td style="text-align: left;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=left><span style="font-family: Arial, sans-serif; font-size: 8pt;">EA Digital Platform</span></td>
<td style="text-align: right;
            padding-left: 0px;
            padding-top: 0px;
            padding-right: 0px;
            padding-bottom: 0px;"
    align=right><span style="font-family: Arial, sans-serif; font-size: 8pt;">&#169;
 2014 Electronic Arts Inc.</span><br />
<span style="font-family: Arial, sans-serif; font-size: 8pt;">Generated
 on: Fri Oct 21 2016 13:35:12</span><br />
</td></tr>
</table>
