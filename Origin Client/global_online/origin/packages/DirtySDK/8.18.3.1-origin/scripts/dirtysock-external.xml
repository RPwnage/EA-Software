<project>

  <!-- expose DirtySDK warningsuppression -->
  <do unless="@{PropertyExists('package.DirtySDK.warningsuppression')}">
    <property name="package.DirtySDK.warningsuppression" value="" />

    <!-- =================  Android/iPhone/Playbook/PS3-GCC/Unix  =================== -->
    <do if="${config-compiler} == 'gcc'">
      <property name="package.DirtySDK.warningsuppression">
        ${property.value}
        -Wno-multichar          <!-- multi-character character literal -->
      </property>
    </do>

    <!-- =================  PS3/PSP2-SN  =================== -->
    <do if="${config-compiler} == 'sn'">
      <property name="package.DirtySDK.warningsuppression">
        ${property.value}
        --diag_suppress=1437    <!-- multi-character character literal -->
      </property>
    </do>
  </do>

  <!-- task AddDirtySDKLibsToModule: bring in the libs that are required for DirtySDK -->
  <createtask name="AddDirtySDKLibsToModule">
    <parameters>
      <option name="module" value="Required"/>
      <!-- Need to pass in the group name as well.  That is pass in <group> or <group>.<module_name> for this variable. -->
    </parameters>
    <code>
      <!-- pc libs -->
      <do if="${config-system} == 'pc' or ${config-system} == 'pc64'">
        <fileset name="${AddDirtySDKLibsToModule.module}.libs" append="true">
          <includes name="${eaconfig.PlatformSDK.dir.lib}/iphlpapi.lib" asis="true" />
          <includes name="${eaconfig.PlatformSDK.dir.lib}/winmm.lib" asis="true" />
          <includes name="${eaconfig.PlatformSDK.dir.lib}/ws2_32.lib" asis="true" />
        </fileset>
      </do>

      <!-- ps3 libs -->
      <do if="${config-system} == 'ps3'">
        <dependent name="ps3sdk" />
        <fileset name="${AddDirtySDKLibsToModule.module}.libs" append="true">
          <includes name="${package.ps3sdk.appdir}/target/ppu/lib/${lib-prefix}rtc_stub${lib-suffix}" asis="true"  />
          <includes name="${package.ps3sdk.appdir}/target/ppu/lib/${lib-prefix}mic_stub${lib-suffix}" asis="true"  />
          <includes name="${package.ps3sdk.appdir}/target/ppu/lib/${lib-prefix}adec_stub${lib-suffix}" asis="true"  />
          <includes name="${package.ps3sdk.appdir}/target/ppu/lib/${lib-prefix}celpenc_stub${lib-suffix}" asis="true"  />
          <includes name="${package.ps3sdk.appdir}/target/ppu/lib/${lib-prefix}celp8enc_stub${lib-suffix}" asis="true"  />
        </fileset>
      </do>

      <!-- psp2 libs -->
      <do if="${config-system} == 'psp2'">
        <dependent name="psp2sdk" />
        <fileset name="${AddDirtySDKLibsToModule.module}.libs" append="true">
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}scenet_stub_weak${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}scenetctl_stub_weak${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}scenpbasic_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}scenpcommon_stub_weak${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}scecommondialog_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceSysmodule_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceGxm_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceDbg_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceDbgFont${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceDisplay_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceCtrl_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceHttp_stub${lib-suffix}" asis="true" />
          <includes name="${package.psp2sdk.dir}/installed/target/lib/${lib-prefix}SceSsl_stub${lib-suffix}" asis="true" />
        </fileset>
      </do>

      <!-- xenon libs -->
      <do if="${config-system} == xenon">
        <dependent name="xenonsdk" />
        <do if="${config-name} == 'dev-opt'">
          <fileset name="${AddDirtySDKLibsToModule.module}.libs" append="true">
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xbdm.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xhv2.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xonline.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xnet.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xauth.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xhttp.lib" asis="true"  />
          </fileset>
        </do>
        <do if="${config-name} != 'dev-opt'">
          <fileset name="${AddDirtySDKLibsToModule.module}.libs" append="true">
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xhvd2.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xonlined.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xnetd.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xauthd.lib" asis="true"  />
            <includes name="${package.xenonsdk.appdir}/lib/xbox/xhttpd.lib" asis="true"  />
          </fileset>
        </do>
      </do>
    </code>
  </createtask>

</project>
