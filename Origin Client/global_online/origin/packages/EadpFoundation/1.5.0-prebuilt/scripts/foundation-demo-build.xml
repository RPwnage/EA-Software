<project>
    <examples>
        <Program name="EadpFoundation-demo">
            <includedirs>
                ${package.dir}/examples/demo/
            </includedirs>
            <headerfiles basedir="${package.dir}/examples/">
                <includes name="demo/**/*.h"/>
            </headerfiles>
            <sourcefiles basedir="${package.dir}/examples/">
                <includes name="demo/**/*.cpp"/>
            </sourcefiles>

            <dependencies>
                <auto>
                    ${runtime.EadpFoundation.autodependencies}
                    EadpFoundation/EadpFoundation
                    MemoryMan
                    PPMalloc
                    EAMain
                </auto>
            </dependencies>

            <buildsteps>
                <packaging deployassets="true">
                    <assetfiles basedir="${package.dir}/examples/demo/resources">
                        <includes name="eadpsdk.json"/>
                    </assetfiles>
                </packaging>
            </buildsteps>

            <platforms>
                <iphone>
                    <extra-link-options>
                        -weak_framework AdSupport 
                    </extra-link-options>
                </iphone>
            </platforms>

            <config>
                <defines>
                    ${package.EadpFoundation.sharedDefines}
                </defines>
                <warningsuppression>
                    <do if="${Dll??false} and ${config-compiler} == 'vc'">
                        -wd4251   <!-- class 'X' needs to have dll-interface to be used by clients of class 'Y' -->
                    </do>
                </warningsuppression>

                <buildoptions>
                    <option name="buildset.link.options" if="${config-system} == 'pc' or ${config-system} == 'pc64'">
                        ${option.value}
                        /OPT:REF
                    </option>
                    <!-- since we specify /OPT:REF to silence the warning about incremental linking just disabled it -->
                    <option name="incrementallinking" value="off" if="${config-system} == 'pc' or ${config-system} == 'pc64'"/>
                </buildoptions>
            </config>

            <copylocal value="true" if="${Dll??false} and ${config-compiler} == 'vc'"/>
        </Program>
    </examples>
</project>

