<?xml version="1.0"?>
<example>
<para>An example of creating a library.</para>
<code file="Batch.build">
<![CDATA[
<project default="build">
    <package name="ToUpper" targetversion="1.0.0"/>
    <dependent name="VisualStudio" version="7.1.1-4"/>

    <property name="outdir" value="${package.dir}/build"/>

    <target name="build">
        <cc outputname="${package.name}" outputdir="${outdir}">
            <sources>
                <includes name="toupper.c"/>
            </sources>
        </cc>
        <lib outputname="${package.name}" outputdir="${outdir}">
            <objects>
                <includes name="${outdir}/toupper.c.obj"/>
            </objects>
        </lib>
        <fail message="toupper.lib did not link" unless="@{FileExists('${outdir}/toupper.lib')}"/>
    </target>
</project>
]]>
</code>
<para>Where <c>toupper.c</c> contains:</para>
<code file="toupper.c">
<![CDATA[
#include <string.h>

void ToUpper(char* string)
{
	strupr(string);
}
]]>
</code>
</example>
