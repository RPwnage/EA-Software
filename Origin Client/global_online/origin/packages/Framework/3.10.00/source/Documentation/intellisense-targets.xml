<!-- 
     (c) Electronic Arts. All Rights Reserved.
     
===============================================================================
target-nant-intellisense.xml

Allows creation of intellisense xsd file and installation of the file in the right folder.
===============================================================================
-->

<project>
  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="generate-framework-schema" description="Intellisense xsd file generator." hidden="true">
    <property name="framework-schema-output" value="${framework-schema-output??${nant.project.temproot}\framework3.xsd}" local="true"/>
    <nantschema outputfile="${framework-schema-output}"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="install-visualstudio-intellisense" description="Intellisense xsd file generator and installer." hidden="true">
    <property name="framework-schema-output" value="${framework-schema-output??${nant.project.temproot}\framework3.xsd}" local="true"/>
    <nantschema outputfile="${framework-schema-output}"/>
    <fail unless="@{FileExists('${framework-schema-output}')}" message="${framework-schema-output} not found"/>
    <echo message="Copying framework3.xsd to visual studio Schemas location"/>
    <nantschemainstall inputfile="${framework-schema-output}" />
    <echo message="Please restart Visual Studio for intellisense to work with .build file extensions"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="generate-xml-from-framework-schema" description="Creates XML file from nant schema." hidden="true">
    <property name="framework-schema-xml-output" value="${framework-schema-xml-output??${nant.project.temproot}\framework3-schema.xml}" local="true"/>
    <nantschematoxml 
      outputfile="${framework-schema-xml-output}" 
      excludecomments="${framework-schema-xml-nocomments??false}"/>
  </target>
</project>
