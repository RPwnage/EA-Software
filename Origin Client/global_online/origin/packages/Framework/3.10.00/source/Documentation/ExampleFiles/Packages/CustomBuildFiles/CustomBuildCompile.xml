<project>

  <package name="MyPackage"/>
  
  . . . . . .

  <property name="runtime.MyModule.buildtype" value="Library"/>

  <fileset name="runtime.MyModule.custombuildfiles">
    <includes name="src/*.ccinp" optionset="custom-compile-source"/>
  </fileset>

  <optionset name="custom-compile-source">
    <option name="name" value="custom-compile-source"/>
    <option name="description" value="Compiling file '%filename%%fileext%'..."/>
    <option name="build.tasks">
      custom_cc
    </option>
    <option name="custom_cc.executable" value="${package.dir}\bin\custom_compiler.exe"/>
    <option name="custom_cc.options">
      -opt
      -o ${package.builddir}/${config}/%filename%.o
      -h ${package.builddir}/${config}/%filename%.h
      %filepath%
    </option>
    <option name="outputs">
      ${package.builddir}/${config}/custom/%filename%.o
      ${package.builddir}/${config}/custom/%filename%.h
    </option>
    <option name="objectfiles">
      ${package.builddir}/${config}/custom/%filename%.o
    </option>
    <option name="headerfiles">
      ${package.builddir}/${config}/custom/%filename%.h
    </option>
    <option name="includedirs">
      ${package.builddir}/${config}
    </option>

    <!-- This flag tells VS to treat the output of the build tasks as content to be deployed to the app package -->
    <option name="treatoutputascontent" value="false"/>
    <!-- This flag ensures the output folders are created (since the compiler may not create them automatically). -->
    <option name="createoutputdirs" value="true"/>
  </optionset>

   . . . . . .

</project>