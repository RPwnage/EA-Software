Note by Paul Pedriana:

These files were generated with the following terminal command:
    mig /usr/include/mach/mach_exc.defs

In order to do Apple mach-level exception handling, you need to do this and use the resulting generated files, including possibly some minor modification of those files. 

The main function generated here is exc_mach_server(), which is called by our exception port handling thread, and which in turn calls our catch_mach_... callback function. See ExceptionHandlerApple.h/cpp file for a description of this.

Modifications to the mig-generated source files:

- Add #ifndef msgh_request_port around a couple defines.
- Add an _ea to the end of the three catch_mach_... function names.
- Put an extern "C" declaration in the generated mach_exc.h file and around all the code in the two .c files, in case they get compiled in C++.
- Need to disable strict-aliasing, as the generated code is not aliasing-proper.


