package com.ea.eadp.antelope.rtm.protocol;

import "common_protocol.proto";

option java_outer_classname = "ErrorProtocol";

message ErrorV1 {
	/* ErrorCode: {
	 *  "SERVER_ERROR";
	 *  "VALIDATION_FAILED";
	 *  "AUTHORIZATION_ERROR";
	 *  "NOT_AUTHENTICATED";
	 *  "INVALID_REQUEST";
	 *  "USER_MUTED";
	 *  "UNDERAGE_BAN";
	 *  "USER_BANNED";
	 *  "SESSION_NOT_FOUND";
	 *  "SESSION_ALREADY_EXIST";
	 *  "RATE_LIMIT_EXCEEDED";
	 *  "SESSION_LIMIT_REACHED";
	 * } */
	optional string errorCode = 1;
	optional string errorMessage = 2;

	oneof body{
		ChatMembersRequestErrorV1 chatMembersRequestError = 3;
		ValidationErrorV1 validationError = 4;
		AssignErrorV1 assignError = 5;
		ChatTypingEventRequestErrorV1 chatTypingEventRequestError = 6;
		LoginErrorV1 loginError = 7;
	}
}

message ChatMembersRequestErrorV1{
	optional string channelId = 1;
}

message ValidationErrorV1{
	repeated FieldViolationV1 fieldViolation = 1;
}

message FieldViolationV1{
	optional string fieldName = 1;
	optional string violationMessage = 2;
}

message AssignErrorV1 {
	optional string worldName = 1;
	optional int32 shardIndex = 2 [default = -1];
}

message ChatTypingEventRequestErrorV1{
	optional string channelId = 1;
}

message LoginErrorV1 {
	repeated SessionV1 connectedSessions = 1;
}
