<project>
    <examples>
        <Program name="EadpRealTimeMessaging-demo">
            <includedirs>
                ${package.dir}/examples/
            </includedirs>
            <headerfiles basedir="${package.dir}/examples/">
                <includes name="demo/source/*.h"/>
            </headerfiles>
            <sourcefiles basedir="${package.dir}/examples/">
                <includes name="demo/source/*.cpp"/>
            </sourcefiles>

            <dependencies>
                <auto>
                    ${runtime.EadpRealTimeMessaging.autodependencies}
                    EadpRealTimeMessaging/EadpRealTimeMessaging
                    EadpAuthentication/EadpAuthentication
                    MemoryMan
                    PPMalloc
                    OriginSDK
                    EAOrigin
                </auto>
            </dependencies>
            
            <buildsteps>
                <packaging packagename="eadp-realtime-messaging-demo" deployassets="true">
                    <assetfiles basedir="${package.dir}/examples/demo/resources">
                        <includes name="eadpsdk.json"/>
                    </assetfiles>
                </packaging>
            </buildsteps>
            
            <config>
                <defines>
                    ${package.EadpRealTimeMessaging.sharedDefines}
                    <do if="${package.EadpFoundation.use_default_allocator??false}">
                        EADPSDK_USE_DEFAULT_ALLOCATOR=1
                    </do>
                    <do if="${package.EadpAuthentication.use_ea_origin??false}">
                        EADPSDK_USE_EA_ORIGIN=1
                    </do>
                </defines>
                <warningsuppression>
                    <do if="${Dll??false} and ${config-compiler} == 'vc'">
                        -wd4251   <!-- class 'X' needs to have dll-interface to be used by clients of class 'Y' -->
                    </do>
                </warningsuppression>

                <buildoptions>
                    ${option.value}
                    /OPT:REF
                    <!-- since we specify /OPT:REF to silence the warning about incremental linking just disabled it -->
                    <option name="incrementallinking" value="off" />
                </buildoptions>
            </config>
            <copylocal value="true" if="${Dll??false} and ${config-compiler} == 'vc'"/>
        </Program>
    </examples>
</project>

