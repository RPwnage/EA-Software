<project>
    <examples>
        <Program name="EadpRealTimeMessaging-demo-osx">
            <includedirs>
                ${package.dir}/examples/
            </includedirs>
            <headerfiles basedir="${package.dir}/examples/">
                <includes name="demo/osx/**/*.h"/>
            </headerfiles>
            <sourcefiles basedir="${package.dir}/examples/">
                <includes name="demo/osx/**/*.cpp"/>
            </sourcefiles>

            <dependencies>
                <auto>
                    ${runtime.EadpRealTimeMessaging.autodependencies}
                    EadpRealTimeMessaging/EadpRealTimeMessaging
                    MemoryMan
                    PPMalloc
                </auto>
            </dependencies>
            
            <buildsteps>
                <packaging deployassets="true">
                    <assetfiles basedir="${package.dir}/examples/demo/resources">
                        <includes name="eadpsdk.json"/>
                    </assetfiles>
                </packaging>
            </buildsteps>

            <config>
                <defines>
                    ${package.EadpRealTimeMessaging.sharedDefines}
                    <do if="${package.EadpFoundation.use_default_allocator??false}">
                        EADPSDK_USE_DEFAULT_ALLOCATOR=1
                    </do>
                </defines>

                <buildoptions>
                    <option name="buildset.link.options" >
                        ${option.value}
                        /OPT:REF
                    </option>
                    <!-- since we specify /OPT:REF to silence the warning about incremental linking just disabled it -->
                    <option name="incrementallinking" value="off" />
                </buildoptions>
            </config>
        </Program>
    </examples>
</project>

