<section class="origin-social-conversation-toolbar">

    <span ng-if="isVoiceSupported">
        <!-- voice quality meter -->
        <div ng-show="inVoip" class="origin-social-conversation-toolbar-quality-meter" origin-tooltip="{{qualityTooltip}}" origin-tooltip-placement="right">
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar0"></div>
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar1"></div>
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar2"></div>
            <div class="origin-social-conversation-toolbar-quality-meter-bar origin-social-conversation-toolbar-quality-meter-bar3"></div>
        </div>

        <!-- voice call time -->
        <span ng-show="inVoip" class="origin-social-conversation-toolbar-calltime otkc otkc-small"><strong>{{calltimestr}}</strong></span>
    </span>

    <!-- invite to muc button -->
    <span class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-inviteicon" ng-show="conversation.state === 'MULTI_USER'"><i class="otkicon otkicon-addgroup"></i></span>

    <span ng-if="isVoiceSupported">
        <!-- voice settings button -->
        <span class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-settingsicon" origin-tooltip={{voiceChatSettingsLoc}} origin-tooltip-placement="left">
            <i class="otkicon otkicon-settings"></i>
            <div class="otktooltip otktooltip-top origin-social-conversation-toolbar-tooltip">
                <b class="otktooltip-arrow"></b>
                <div class="otktooltip-inner">
                    {{voiceChatSettingsLoc}}
            </div>
            </div>
        </span>

        <!-- voice call / hang up button -->
        <span ng-show="!inVoip && !calling && !activeOneToOnePartnerOffline && !isInvisible"
              ng-class="{ 'disabled' : offline || !conversation.isVoiceSupportedRemotely }"
              class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-voipicon origin-social-conversation-toolbar-voipicon-call"
              origin-tooltip="{{ conversation.isVoiceSupportedRemotely ? startVoiceCallLoc : disabledRemote }}" 
              origin-tooltip-placement="left">
            <i class="otkicon otkicon-callactive"></i>

            <div class="otktooltip otktooltip-top origin-social-conversation-toolbar-tooltip">
                <b class="otktooltip-arrow"></b>
                <div class="otktooltip-inner" ng-if="!offline && !conversation.isVoiceSupportedRemotely">
                    {{disabledRemote}}
            	</div>
            </div>
        </span>

        <span ng-show="inVoip || calling" 
              ng-class="{ 'disabled' : offline }" 
              class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-voipicon origin-social-conversation-toolbar-voipicon-hangup" 
              origin-tooltip={{endVoiceCallLoc}} origin-tooltip-placement="left">
            <i class="otkicon otkicon-callinactive"></i>

            <div class="otktooltip otktooltip-top origin-social-conversation-toolbar-tooltip">
                <b class="otktooltip-arrow"></b>
                <div class="otktooltip-inner">
                    {{endVoiceCallLoc}}
                </div>
            </div>
        </span>

        <!-- voice level meter -->
        <div ng-show="inVoip" class="origin-social-conversation-toolbar-voicelevel-meter">
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar0"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar1"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar2"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar3"></div>
            <div class="origin-social-conversation-toolbar-voicelevel-meter-bar origin-social-conversation-toolbar-voicelevel-meter-bar4"></div>
        </div>

        <!-- voice microphone / mute button -->
        <span ng-show="inVoip && !isLocalMuted" class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-micstatus" origin-tooltip={{muteLoc}} origin-tooltip-placement="left">
            <i class="otkicon otkicon-microphone"></i>
        </span>
            
        <span ng-show="inVoip && isLocalMuted" class="origin-social-conversation-toolbar-icon origin-social-conversation-toolbar-micstatus" origin-tooltip={{unmuteLoc}} origin-tooltip-placement="left">
            <i class="otkicon otkicon-mute"></i>
        </span>
</span>

</section>