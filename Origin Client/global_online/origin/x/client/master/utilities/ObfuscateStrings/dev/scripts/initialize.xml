<project>
    <property name="package.ObfuscateStrings.exe" value="${package.ObfuscateStrings.dir}/Release/ObfuscateStrings.exe" if="${config-system} == 'pc'"/>
    <property name="package.ObfuscateStrings.exe" value="${package.ObfuscateStrings.dir}/Release/ObfuscateStrings" if="${config-system} == 'osx'"/>

    <target name="obfuscate-strings">
      <fail unless="@{PropertyExists('working.dir')}" message="Property 'working.dir' not defined" />
      <fail unless="@{PropertyExists('input.file')}" message="Property 'input.file' not defined" />

      <dependent name="ObfuscateStrings" />

      <exec program="${package.ObfuscateStrings.exe}" workingdir="${working.dir}">
        <args>
          <arg value="-file:&quot;${input.file}&quot;"/>
        </args>
      </exec>
    </target>
</project>
