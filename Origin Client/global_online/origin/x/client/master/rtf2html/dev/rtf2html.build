<project name="rtf2html" default="build">
	
  <!-- ******************* -->
  <!-- Package declaration -->
  <!-- ******************* -->
  <property name="package.rtf2html.dir"  value="@{PathGetFullPath('.')}"/>
  <property name="package.rtf2html.version"  value="@{PathGetFileName('${package.rtf2html.dir}')}"/>
  <package name="rtf2html" targetversion="${package.rtf2html.version}"/>
  
  <include file="scripts/initialize.xml"/>
  
  <property name="eaconfig.warnings" value="on"/>
  <property name="eaconfig.warningsaserrors" value="on"/>
  <property name="package.usemultithreadeddynamiclib" value="on"/>

  <Library name="rtf2html" outputname="rtf2html${package.rtf2html.suffix}">
    <buildtype name="Library"/>
    <config>
      <defines>
        UNICODE
        WIN32
        QT_DLL
        QT_CORE_LIB
        RTF2HTML_LIB
        <do if="${config-system} == pc64">
          WIN64
        </do>
      </defines>
      <warningsuppression>
          -wd4061 <!-- enumerator xx in switch of enum yy is not explicitly handled by a case label -->
          -wd4062 <!-- enumerator xx in switch of enum yy is not handled -->
          -wd4275 <!-- non dll-interface class 'stdext::exception' used as base for dll-interface class 'std::bad_cast' -->
          -wd4127 <!-- C4127: conditional expression is constant -->
          -wd4365 <!-- 'initializing' : conversion from 'int' to 'const uint', signed/unsigned mismatch -->
          -wd4514 <!--' unreferenced inline function has been removed -->
          -wd4548 <!-- expression before comma has no effect; expected expression with side-effect -->
          -wd4625 <!-- copy constructor could not be generated because a base class copy constructor is inaccessible -->
          -wd4626 <!-- assignment operator could not be generated because a base class assignment operator is inaccessible -->
          -wd4640 <!-- 'f' : construction of local static object is not thread-safe, seems scary but originClient has also suppressed it -->
          -wd4668 <!-- C4668: '_INTPTR' is not defined as a preprocessor macro -->
          -wd4820 <!-- '4' bytes padding added after data member -->
      </warningsuppression>
      <buildoptions>
        <option name="buildset.cc.options" if="${config-system} == pc">
          ${option.value}
          /Zc:wchar_t
        </option>
        <option name="buildset.cc.options" if="${config-system} == pc64 AND ${config-system} == pc">
          ${option.value}
          /GS
          /analyze-
          /Zc:wchar_t
          /Zi
          /Gm-
          /Od
          /fp:precise
          /W4 
          /Zc:forScope 
          /EHsc
        </option>
        <option name="buildset.lib.options" if="${config-system} == pc64">
          -machine:x64
        </option>
      </buildoptions>
      <remove>
        <defines>
          _CHAR16T
        </defines>
        <cc.options>
        </cc.options>
      </remove>
    </config>
    <dependencies>
      <use>
        Qt
        ICU
      </use>
      <build>
      </build>
    </dependencies>
    <headerfiles>
      <includes name="source/**/*.h"/>
      <includes name="rtf2html.build"/>
      <includes name="scripts/initialize.xml"/>
    </headerfiles>
    <sourcefiles>
      <includes name="source/**/*.cpp" />
    </sourcefiles>
    <buildsteps>
      <prebuild-step targetname="generate-code"/>
    </buildsteps>
    <includedirs>
      ${package.dir}/include/
      ${package.dir}/source/
      ${package.dir}/source/Converter/
      ${package.dir}/source/icu/
      ${package.dir}/source/icu/common
      ${package.dir}/source/Interpreter/
      ${package.dir}/source/Interpreter/Interpreter/
      ${package.dir}/source/Interpreter/Model/
      ${package.dir}/source/Interpreter/Support/
      ${package.dir}/source/Parser/
      ${package.dir}/source/Parser/Model/
      ${package.dir}/source/Parser/Parser/
      ${package.dir}/source/Parser/Support/
      ${package.dir}/source/System/
    </includedirs>
    <resourcefiles>
    </resourcefiles>
    <visualstudio>
      <excludedbuildfiles>
      </excludedbuildfiles>
    </visualstudio>
  </Library>
    
</project>




