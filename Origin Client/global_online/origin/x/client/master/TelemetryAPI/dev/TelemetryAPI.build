<project name="TelemetryAPI" default="build">
  
    <!-- ******************* -->
    <!-- Package declaration -->
    <!-- ******************* -->
    <property name="package.TelemetryAPI.dir"  value="@{PathGetFullPath('.')}"/>
    <property name="package.TelemetryAPI.version"  value="@{PathGetFileName('${package.TelemetryAPI.dir}')}"/>
    <package name="TelemetryAPI" targetversion="${package.TelemetryAPI.version}"/>

  <!-- ******************* -->
    <!-- Package dependencies -->
    <!-- ******************* -->
  <dependent name="OriginConfig" />
  
  <!-- ******************* -->
    <!-- Package Properties  -->
    <!-- ******************* -->
    <property name="config-system-telemetryapi">${config-system}</property>
    
    <!-- ********************* -->
    <!-- Runtime configuration -->
    <!-- ********************* -->
  <BuildType name="TelemetryAPI.buildtype" from="OriginLibrary">
    <option name="buildset.cc.defines" if="${config-system} == pc">
      ${option.value}
      TELEMETRYAPI_STATIC
      _USRDLL
      _CRT_SECURE_NO_DEPRECATE
      _CRT_SECURE_NO_WARNINGS
      EA_PLATFORM_WINDOWS
      _CRTDBG_MAP_ALLOC
      CRTDBG_MAP_ALLOC
      _LIB
      _TRACE_TEXT_
      NO_LOGGING
      EA_PLATFORM_WINDOWS
      NOMINMAX
    </option>
    <option name="buildset.cc.defines" if="${config-system} == osx">
      ${option.value}
      TELEMETRYAPI_STATIC
      NO_LOGGING
    </option>
  </BuildType>
  <property name="runtime.buildtype" value="TelemetryAPI.buildtype" />
   
    <property name="runtime.usedependencies">
    EAIO
    EASTL
	EAAssert
    BugSentry
    DirtySDK
    EACallstack
    PPMalloc
    EAThread
    EATrace
    EABase
    ExceptionHandler
    coreallocator
    EAStdC
    OriginConfig
    TelemetrySDK
	OriginVersion
    </property>

    <fileset name="runtime.sourcefiles">
        <includes name="${package.TelemetryAPI.dir}/source/*.cpp"/>
      
        <includes name="${package.TelemetryAPI.dir}/source/*.mm" if="${config-system} == 'osx'"/>
    </fileset>

  <target name="dumpsources">
    <foreach property="fname" item="FileSet" in="runtime.sourcefiles">
      <echo message="source ${fname}" />
    </foreach>
  </target>
  
    <property name="runtime.includedirs">
        ${package.TelemetryAPI.dir}/include
    </property>
</project>




