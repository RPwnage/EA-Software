<project> 
	<include file="..\..\scripts\originconfigs.xml"/>
  <include file="..\..\scripts\originproperties.xml"/>
	
  <!-- EAProxyInstaller build properties -->
	<property name="runtime.EAProxyInstaller.buildtype" value="origin-${config-type}" />

  <!-- NANT Prebuild target. Will execute this first before any compiling happens. -->
  <property name="runtime.EAProxyInstaller.prebuildtarget" value="EAProxyInstaller-prebuild-steps" />
  <!-- VS Prebuild target. Will set this to execute in the VS project. -->
  <property name="runtime.EAProxyInstaller.vcproj.pre-build-step">
    ${nant.location}\nant.exe -buildfile:${nant.project.buildfile}  -masterconfigfile:${nant.project.masterconfigfile} -D:config=${config} EAProxyInstaller-prebuild-steps
  </property>


	<property name="runtime.EAProxyInstaller.includedirs" >
	</property>

  <fileset name="runtime.EAProxyInstaller.libs" >
  </fileset>
  
  <fileset name="runtime.EAProxyInstaller.sourcefiles" basedir="${EAProxyInstaller.root.dir}/source">
		<includes name="CWinMain.cpp" />
  </fileset>

  <fileset name="runtime.EAProxyInstaller.headerfiles" basedir="${EAProxyInstaller.root.dir}/source">
    <includes name="*.h" />
  </fileset>
             
  <target name="runtime.EAProxyInstaller.buildres">
    <property name="res.name" value="ProxyInstaller.res" />
    <property name="res.resourcefile" value="${EAProxyInstaller.root.dir}\resource\ProxyInstaller.rc" />
    <property name="res.outputdir" value="${package.configbuilddir}\${package.name}" />
    <fileset name="res.sourcefiles">
      <includes name="${res.resourcefile}" />
    </fileset>
	
    <call target="build-res" force="true" />

    <fileset name="runtime.EAProxyInstaller.objects">
      <includes name="${res.outputdir}/${res.name}" />
    </fileset>
	</target>
	
	<property name="manifest.file" value="${package.configbuilddir}/EAProxyinstaller.exe.intermediate.manifest"/>
	
  <target name="EAProxyInstaller-prebuild-steps" depends="runtime.EAProxyInstaller.buildres" />
 
</project>