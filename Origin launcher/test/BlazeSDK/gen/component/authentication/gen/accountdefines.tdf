[headername="framework/tdf/userdefines.h"]
#include "framework/gen/userdefines.tdf"

[headername="framework/nucleuscodes/tdf/personastatus.h"]
#include "framework/gen/nucleuscodes/personastatus.tdf"

[headername="framework/nucleuscodes/tdf/statusreason.h"]
#include "framework/gen/nucleuscodes/statusreason.tdf"

[headername="framework/nucleuscodes/tdf/emailstatus.h"]
#include "framework/gen/nucleuscodes/emailstatus.tdf"

[headername="framework/nucleuscodes/tdf/accountstatus.h"]
#include "framework/gen/nucleuscodes/accountstatus.tdf"

namespace Blaze
{
[usePtrOption=true]
namespace Authentication
{

const uint32_t MAX_DATETIME_LENGTH           = 18; // yyyy-MM-ddThh:mmZ
const uint32_t MAX_COUNTRY_ISO_CODE_LENGTH   = 3;
const uint32_t MAX_LANG_ISO_CODE_LENGTH      = 3;
const uint32_t MAX_LOCALE_ISO_CODE_LENGTH    = 6; // delimited 2-ch ISO 639 language code and 2-ch ISO 3166 country code describing the variant of the language. e.g. en_US, fr_CA
const uint32_t MAX_NAMESPACE_LENGTH          = 32;
const uint32_t MAX_PASSWORD_LENGTH           = 64;
const uint32_t MAX_LEGALDOC_VERSION_LENGTH   = 128;

const uint32_t MAX_LEGAL_DOC_VERSION_LENGTH    = 256;

class PersonaInfo
{
    [tag="pid", description="Nucleus personaId"] PersonaId mPersonaId;
    [tag="dsnm", description="Nucleus persona name"] string(MAX_PERSONA_LENGTH) mDisplayName;
    [tag="nsnm", description="Nucleus namespace name"] string(MAX_NAMESPACE_LENGTH) mNameSpaceName;
    [tag="stas", description="Nucleus persona status"] Blaze::Nucleus::PersonaStatus::Code mStatus;
    [tag="strc", description="Nucleus status reason"] Blaze::Nucleus::StatusReason::Code mStatusReasonCode;
    [tag="dtcr", description="Nucleus persona creation date"] string(32) mDateCreated;
    [tag="ladt", description="Nucleus persona last authenticated date"] uint32_t mLastAuthenticated;
};

typedef list<PersonaInfo> PersonaInfoList;

class AccountInfo
{
    [tag="uid", description="Nucleus user accountId"] AccountId mAccountId;
    [tag="stat", description="Email status of verification"] Blaze::Nucleus::EmailStatus::Code mEmailStatus;
    [tag="co", description="Country of residence"] string(MAX_COUNTRY_ISO_CODE_LENGTH) mCountry;
    [tag="ln", description="[DEPRECATED - use Locale instead] Language"] string(MAX_LANG_ISO_CODE_LENGTH) mLanguage;
    [tag="loc", description="Locale consisting of language identifier and region identifier (this region is a language variant and not to be confused with the account country)"] string(MAX_LOCALE_ISO_CODE_LENGTH) mLocale;
    [tag="stas", description="Nucleus account status"] Blaze::Nucleus::AccountStatus::Code mStatus;
    [tag="rc", description="Nucleus status reason"  ] Blaze::Nucleus::StatusReason::Code mReasonCode;
    [tag="gopt", default=-1, description="Optin for allowing EA to contact user"] int8_t mGlobalOptin;
    [tag="tpot", default=-1, description="Optin for allowing EA partners to contact user"] int8_t mThirdPartyOptin;
    [tag="lath", description="Nucleus user last authenticated date"] string(32) mLastAuth;
    [tag="asrc", description="Authentication source of the last authentication"] string(64) mAuthenticationSource;
    [tag="dtcr", description="Nucleus user creation date"] string(32) mDateCreated;
    [tag="amu", description="true if the user is an anonymous user"] bool mAnonymousUser;  
    [tag="udu", description="true if the user is an underage user"] bool mUnderageUser;
};

}
}
