version: '2.4'
services:
  logstash:
    network_mode: 'host'
    environment:
      DEV_USER_NAME: ${USER}
    command: ["/usr/share/logstash/bin/logstash", "--config.reload.automatic", "--config.reload.interval", "60s", "-f", "/host/"]
    image:
      src.ent.ea.com:8443/ent-containers/logstash:6.2.4-121612
    volumes:
      - ./logstash:/host
      - ${DC_BLAZE_BASE_DIR}/etc:/blazelogs
      - /opt/logstash

  configMaster: &pinoverride
    environment:
      BLAZE_LOG_TYPE: "file"
  coreMaster: *pinoverride
  coreNSMaster: *pinoverride
  coreSlave: *pinoverride
  mmSlave: *pinoverride
  searchSlave: *pinoverride
  grSlave: *pinoverride
  gdprAuxSlave: *pinoverride
