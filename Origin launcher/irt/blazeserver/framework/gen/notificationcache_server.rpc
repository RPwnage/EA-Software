
[ 
    client_include = false,
    headername="framework/tdf/notificationcache_server.h"
]
#include "framework/gen/notificationcache_server.tdf"


namespace Blaze
{

[
  id = framework/6,
  configurationType = NotificationCacheConfig 
]
component NotificationCache
{   

    permissions
    {
        PERMISSION_FETCH_NOTIFICATIONS_BY_SESSION = 1;
    }
    
    errors
    {
        [ description = "No notifications found using the submitted criteria." ]
        NOTIFICATIONCACHE_ERR_INVALID_FETCH_CRITERIA = 1;       
    }

    slave
    {
        methods
        {
            [
                id = 1,
                description = "Fetches notifications tagged with the specified sequence number.",
                errors = {
                    NOTIFICATIONCACHE_ERR_INVALID_FETCH_CRITERIA
                },
                client_export = false
            ]
            FetchNotificationResult fetchBySeqNo(FetchBySeqNoRequest);          

            [
                id = 2,
                description = "Fetches notifications from a component filtered by notification type.",
                errors = {
                    NOTIFICATIONCACHE_ERR_INVALID_FETCH_CRITERIA
                },
                client_export = false
            ]
            FetchNotificationResult fetchByType(FetchByTypeRequest);
            
            [
                id = 3,
                description = "Fetches notifications for sessions from a component and filtered by notification type.  Requires permission PERMISSION_FETCH_NOTIFICATIONS_BY_SESSION.",
                errors = {
                    NOTIFICATIONCACHE_ERR_INVALID_FETCH_CRITERIA
                },
                client_export = false
            ]
            FetchNotificationResult fetchByTypeAndSession(FetchByTypeAndSessionRequest);
        }      
    }
}

}

