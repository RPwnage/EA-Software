[headername="gamereporting/tdf/gamereporting.h"]
#include "gamereporting/gen/gamereporting.tdf"

[headername="clubs/tdf/clubs_base.h"]
#include "clubs/gen/clubs_base.tdf"

namespace Blaze
{
[usePtrOption=true]
namespace GameReporting
{

namespace GameHistoryClubs_NonDerived
{


[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Offensive Athelete Report TDF",
    details = "Custom entity type for the game report's offensive athletes."
]
class OffensiveAthlete
{    
    [tag="serv", description="Number of serves"]
        uint16_t serves;
    
    [tag="hits", description="Number of hits"]
        uint16_t hits;    
};

[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Generic PlayerReport TDF that takes a variable TDF representing player data.",
    details = "This contains player and any other relevent data submitted by clients to game reporting."
]
class PlayerReport
{    
    [tag="pts", description="player points"]
        uint16_t points;
    
    [tag="club", description="club Id"]
        Clubs::ClubId clubId;    
};


[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Club report data",
    details = "Contains reported values for the club game."
]
class ClubReport
{
    [tag="wins", description="wins"]        
    uint16_t wins;
    
    [tag="loss", description="wins"]
    uint16_t losses;
    
    [tag="ties", description="ties"]        
    uint16_t ties;
    
    [tag="poin", description="points"]
    uint16_t points;
};

[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Clubs game report.",
    details = "This contains the full game report, including client player reports and server-based data (data not submitted directly by clients.)"
]
class Report
{
    [tag="plyr", description="Player Reports"]
    map<GameManager::PlayerId, PlayerReport> playerReports;     
    
    [tag="club", description="Club Reports"]
    map<Clubs::ClubId, ClubReport> clubReports;     
    
    [tag="athl", description="Offensive Athletes"]
    map<BlazeId, OffensiveAthlete> offensiveAthletes;        
};    

}   // namespace GameHistoryClubs_NonDerived


} // namespace GameReporting
} // namespace Blaze
