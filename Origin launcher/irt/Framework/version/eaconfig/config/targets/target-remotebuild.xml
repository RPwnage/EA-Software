<project xmlns="schemas/ea/framework3.xsd">

  <do unless="@{TargetExists('remotebuild')}">

    <target name="remotebuild">

      <include file="./../tasks/task-nantcommandlinelexer.xml" />
      <task name="NantCommandLineLexer" outputFormat="RemoteBuild" parsedNantArguments="nant.arguments" />

      <dependent name="RemoteBuild" />
      <nant buildfile="${package.RemoteBuild.dir}/RemoteBuild.build">
        <property name="config" value="${config}" />
        <property name="caller.package.dir" value="${package.dir}" />
        <property name="remotebuild.script" value="${remotebuild.script??${macremotebuild.script??}}" if="@{PropertyExists('remotebuild.script')} or @{PropertyExists('macremotebuild.script')}" />
        <property name="remotebuild.commandline" value="${remotebuild.commandline??${macremotebuild.commandline??}}" if="@{PropertyExists('remotebuild.commandline')} or @{PropertyExists('macremotebuild.commandline')}" />
        <property name="nant.arguments" value="${nant.arguments}" />
      </nant>

      <CancelBuildTargetsExecution />

    </target>

  </do>

</project>
