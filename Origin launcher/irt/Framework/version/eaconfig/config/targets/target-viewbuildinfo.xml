<!-- 
     (c) Electronic Arts. All Rights Reserved.
-->
<project xmlns="schemas/ea/framework3.xsd">

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <do unless="'@{OptionSetGetValue('config.targetoverrides', 'viewbuildinfo')}' == 'exclude'">
    <target name="viewbuildinfo" style="use" allowoverride="true">
      <property name="eaconfig.buildall.target" value="load-package-generate" />
      <property name="eaconfig.build.autobuild-target" value="load-package-generate" />
      <property name="eaconfig.build.configs" value="${package.configs}"/>
      <property name="eaconfig.build.configs" value="${config}" if="${generate-single-config??false}"/>
      <property name="eaconfig.build.process-generation-data" value="true"/>
      <choose>
          <do if="@{PropertyExists('viewbuildinfo-for-package')}">
              <create-build-graph-for-package package="${viewbuildinfo-for-package}"/>
          </do>
          <do if="'${package.name}' != 'eaconfig'">
              <create-build-graph-for-package/>
          </do>
          <do>
              <fail message="Please provide the property 'viewbuildinfo-for-package' to indicate which package you like to examine."/>
          </do>
      </choose>
      <viewbuildinfo/>
    </target>
  </do>
  

</project>
