<project xmlns="schemas/ea/framework3.xsd">

  <!-- TODO: This file is for backward compatibility with kettle sdk releases older than August 2017. When we no longer support versions older than that we should remove this. -->
  <!-- 

  IMPORTANT:

      DO NOT MODIFY this file without consulting with the CM team.    This file is provided to allow this version of kettle_config
      package to be backward compatible work with older version of kettlesdk.   DO NOT just add any new library to any fileset.

  -->

  <fileset name="package.kettlesdk.posix-kernel.regularlib" unless="@{FileSetExists('package.kettlesdk.posix-kernel.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libScePosix_stub_weak.a" if="'${package.kettlesdk.minimallibs??off}' != 'nodefaultlibs'"/>
  </fileset>
  <fileset name="package.kettlesdk.posix-kernel.debuglib" unless="@{FileSetExists('package.kettlesdk.posix-kernel.debuglib')}">
    <includes name="${package.kettlesdk.libdir}/libScePosix_stub_weak.a" if="'${package.kettlesdk.minimallibs??off}' != 'nodefaultlibs'"/>
  </fileset>

  <fileset name="package.kettlesdk.graphics.lite.regularlib" unless="@{FileSetExists('package.kettlesdk.graphics.lite.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceGnm.a" />
    <includes name="${package.kettlesdk.libdir}/libSceGpuAddress.a" />
    <includes name="${package.kettlesdk.libdir}/libSceShaderBinary.a" />
    <includes name="${package.kettlesdk.libdir}/libSceGnmDriver_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceVideoOut_stub_weak.a" />
    <do if="${package.kettlesdk.InstalledVersion} lt 4.008 and ${package.kettlesdk.InstalledVersion} gte 3.508.211">		
      <includes name="${package.kettlesdk.libdir}/libSceVideoOutHdr_stub_weak.a" />
    </do>
  </fileset>
  <fileset name="package.kettlesdk.graphics.lite.debuglib" unless="@{FileSetExists('package.kettlesdk.graphics.lite.debuglib')}">
    <includes name="${package.kettlesdk.libdir}/libSceGnm_debug.a" />
    <includes name="${package.kettlesdk.libdir}/libSceGpuAddress.a"   unless="@{FileExists('${package.kettlesdk.libdir}/libSceGpuAddress_debug.a')}"/>
    <includes name="${package.kettlesdk.libdir}/libSceGpuAddress_debug.a" if="@{FileExists('${package.kettlesdk.libdir}/libSceGpuAddress_debug.a')}"/>
    <includes name="${package.kettlesdk.libdir}/libSceShaderBinary.a" />
    <includes name="${package.kettlesdk.libdir}/libSceGnmDriver_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceVideoOut_stub_weak.a" />
    <do if="${package.kettlesdk.InstalledVersion} lt 4.008 and ${package.kettlesdk.InstalledVersion} gte 3.508.211">		
      <includes name="${package.kettlesdk.libdir}/libSceVideoOutHdr_stub_weak.a" />
    </do>
  </fileset>

  <fileset name="package.kettlesdk.graphics.regularlib" unless="@{FileSetExists('package.kettlesdk.graphics.regularlib')}">
    <includes fromfileset="package.kettlesdk.graphics.lite.regularlib"/>
    <includes name="${package.kettlesdk.libdir}/libSceGnf.a" />
    <includes name="${package.kettlesdk.libdir}/libSceGnmx.a" />
  </fileset>
  <fileset name="package.kettlesdk.graphics.debuglib" unless="@{FileSetExists('package.kettlesdk.graphics.debuglib')}">
    <includes fromfileset="package.kettlesdk.graphics.lite.debuglib"/>
    <includes name="${package.kettlesdk.libdir}/libSceGnf_debug.a" />
    <includes name="${package.kettlesdk.libdir}/libSceGnmx_debug.a" />
  </fileset>

  <fileset name="package.kettlesdk.AudioVideo.regularlib" unless="@{FileSetExists('package.kettlesdk.AudioVideo.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceAudioIn_stub_weak.a" />
  </fileset>
	
  <fileset name="package.kettlesdk.AudioVideo.debuglib" unless="@{FileSetExists('package.kettlesdk.AudioVideo.debuglib')}">
    <includes fromfileset="package.kettlesdk.AudioVideo.regularlib"/>
  </fileset>

  <fileset name="package.kettlesdk.IODevices.regularlib" unless="@{FileSetExists('package.kettlesdk.IODevices.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceCamera_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceFace_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libScePad_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceImeDialog_stub_weak.a" />
  </fileset>

  <fileset name="package.kettlesdk.IODevices.debuglib" unless="@{FileSetExists('package.kettlesdk.IODevices.debuglib')}">
    <includes fromfileset="package.kettlesdk.IODevices.regularlib"/>
  </fileset>

  <fileset name="package.kettlesdk.System.regularlib" unless="@{FileSetExists('package.kettlesdk.System.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceCommonDialog_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceAppContent_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceSecure.a" />
    <includes name="${package.kettlesdk.libdir}/libSceFios2_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceSysmodule_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceJson2_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceMsgDialog_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libScePlayGo_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceRtc_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceSaveData_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceSaveDataDialog_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceGameLiveStreaming_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceVideoRecording_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceScreenShot_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceSystemService_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceUserService_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceVoice_stub_weak.a" />
  </fileset>

  <fileset name="package.kettlesdk.System.debuglib" unless="@{FileSetExists('package.kettlesdk.System.debuglib')}">
    <includes fromfileset="package.kettlesdk.System.regularlib"/>
  </fileset>


  <fileset name="package.kettlesdk.Network.regularlib" unless="@{FileSetExists('package.kettlesdk.Network.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceHttp_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceNet_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceNetCtl_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceSsl_stub_weak.a"/>
  </fileset>

  <fileset name="package.kettlesdk.Network.debuglib" unless="@{FileSetExists('package.kettlesdk.Network.debuglib')}">
    <includes fromfileset="package.kettlesdk.Network.regularlib"/>
  </fileset>

  <fileset name="package.kettlesdk.PlayStationNetwork.regularlib" unless="@{FileSetExists('package.kettlesdk.PlayStationNetwork.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceNPCommon_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceNpWebApi_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceNpFriendListDialog_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceNpManager_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceNpUtility_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceNpCommerce_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceNpScore_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceInvitationDialog_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceSigninDialog_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceNpTus_stub_weak.a"/>
    <do if="${package.kettlesdk.InstalledVersion} gte 3.508 and ${package.kettlesdk.InstalledVersion} lt 4.508">
      <includes name="${package.kettlesdk.libdir}/libSceNpToolkit_stub_weak.a"/>
    </do>
    <do if="${package.kettlesdk.InstalledVersion} gte 4.008">
      <!-- should consider removing np toolkit 2 usage in Frostbite code.  We could force this link dependency on the licensee if they use nptoolkit2 instead.  Currently its only used in Engine.UI UserManager code in Frostbite. -->
      <includes name="${package.kettlesdk.libdir}/libSceNpToolkit2_stub_weak.a"/>
    </do>
    <do if="${package.kettlesdk.InstalledVersion} lt 3.508">
      <includes name="${package.kettlesdk.libdir}/libSceNpToolkit.a"/>
      <includes name="${package.kettlesdk.libdir}/libSceNpToolkitUtils.a"/>
    </do>
    <includes name="${package.kettlesdk.libdir}/libSceNpTrophy_stub_weak.a"/>
    <includes name="${package.kettlesdk.libdir}/libSceNpProfileDialog_stub_weak.a"/>
  </fileset>

  <fileset name="package.kettlesdk.PlayStationNetwork.debuglib" unless="@{FileSetExists('package.kettlesdk.PlayStationNetwork.debuglib')}">
    <includes fromfileset="package.kettlesdk.PlayStationNetwork.regularlib"/>
  </fileset>

  <fileset name="package.kettlesdk.Authentication.regularlib" unless="@{FileSetExists('package.kettlesdk.Authentication.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceNpAuth_stub_weak.a"/>
  </fileset>

  <fileset name="package.kettlesdk.Authentication.debuglib" unless="@{FileSetExists('package.kettlesdk.Authentication.debuglib')}">
    <includes fromfileset="package.kettlesdk.Authentication.regularlib"/>
  </fileset>

  <fileset name="package.kettlesdk.Matching.regularlib" unless="@{FileSetExists('package.kettlesdk.Matching.regularlib')}">
    <includes name="${package.kettlesdk.libdir}/libSceNpMatching2_stub_weak.a"/>
  </fileset>
  
  <fileset name="package.kettlesdk.Matching.debuglib" unless="@{FileSetExists('package.kettlesdk.Matching.debuglib')}">
    <includes fromfileset="package.kettlesdk.Matching.regularlib"/>
  </fileset>

  <do unless="@{FileSetExists('package.kettlesdk.Whitelist.regularlib')}">
    <do if="${package.kettlesdk.include_exception_lib??false}">
      <fileset name="package.kettlesdk.Whitelist.regularlib" append="true">
        <includes name="${package.kettlesdk.libdir}/libSceDbgException_stub_weak.a"/>
      </fileset>
    </do>
    <do if="@{StrCompareVersions('${package.kettlesdk.InstalledVersion}','4.508')} gte 0 and ${package.kettlesdk.include_kernel_module_info_lib??false}">
      <fail unless="@{FileExists('${package.kettlesdk.libdir}/libkernel_module_info_stub_weak.a')}"
            message="Could not find sdk file '${package.kettlesdk.libdir}/libkernel_module_info_stub_weak.a'. 
This file is a special whitelisted file which may not be installed when selecting the default options in the ps4 sdk manager."/>
      <fileset name="package.kettlesdk.Whitelist.regularlib" append="true">
        <includes name="${package.kettlesdk.libdir}/libkernel_module_info_stub_weak.a"/>
      </fileset>
    </do>
  </do>
  <fileset name="package.kettlesdk.Whitelist.debuglib" unless="@{FileSetExists('package.kettlesdk.Whitelist.debuglib')}">
    <includes fromfileset="package.kettlesdk.Whitelist.regularlib"/>
  </fileset>


  <property name="retail-optionset-info" value="@{OptionSetGetValue('configuration-definition', 'retail')}" local="true"/>

  <fileset name="package.kettlesdk.dev-only-basic.debuglib" unless="@{FileSetExists('package.kettlesdk.dev-only-basic.debuglib')}">
    <includes name="${package.kettlesdk.libdir}/libScePm4Dump.a"/>
  </fileset>
  
  <fileset name="package.kettlesdk.dev-only-basic.regularlib" unless="@{FileSetExists('package.kettlesdk.dev-only-basic.regularlib')}">
    <do if="'${retail-optionset-info}' != 'on'">
      <includes fromfileset="package.kettlesdk.dev-only-basic.debuglib"/>
    </do>
  </fileset>

  <fileset name="package.kettlesdk.dev-only-extra.debuglib" unless="@{FileSetExists('package.kettlesdk.dev-only-extra.debuglib')}">
    <includes name="${package.kettlesdk.libdir}/libSceDbg_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceCoredump_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceDbgPlayGo_stub_weak.a" />
    <includes name="${package.kettlesdk.libdir}/libSceIme_stub_weak.a"/>
    <do if="${package.kettlesdk.InstalledVersion} gte 4.508">
      <includes name="${package.kettlesdk.libdir}/libSceRazorCPU_stub_weak.a" />
    </do>
  </fileset>
  
  <fileset name="package.kettlesdk.dev-only-extra.regularlib" unless="@{FileSetExists('package.kettlesdk.dev-only-extra.regularlib')}">
    <do if="'${retail-optionset-info}' != 'on'">
      <includes fromfileset="package.kettlesdk.dev-only-extra.debuglib"/>
    </do>
  </fileset>

  <fileset name="package.kettlesdk.profile.debuglib" unless="@{FileSetExists('package.kettlesdk.profile.debuglib')}">
    <includes name="${package.kettlesdk.libdir}/libScePerf_stub_weak.a" />
  </fileset>
  <fileset name="package.kettlesdk.profile.regularlib" unless="@{FileSetExists('package.kettlesdk.profile.regularlib')}">
    <do if="'${retail-optionset-info}' != 'on' or ${package.kettlesdk.enable-retail-profiling??false}">
      <includes name="${package.kettlesdk.libdir}/libScePerf_stub_weak.a" />
    </do>
  </fileset>

  <fileset name="package.kettlesdk.crossgen.debuglib" unless="@{FileSetExists('package.kettlesdk.crossgen.debuglib')}">
    <do if="${package.kettlesdk.crossgen.enabled??false}">
      <includes name="${package.kettlesdk.crossgen.libdir}/*.*"/>
    </do>
  </fileset>

  <fileset name="package.kettlesdk.crossgen.regularlib" unless="@{FileSetExists('package.kettlesdk.crossgen.regularlib')}">
    <do if="${package.kettlesdk.crossgen.enabled??false}">
      <includes fromfileset="package.kettlesdk.crossgen.debuglib"/>
    </do>
  </fileset>

  <property name="package.kettlesdk.library.default-set" value="${package.kettlesdk.library.default-set??posix-kernel graphics dev-only-basic}"/>

</project>
