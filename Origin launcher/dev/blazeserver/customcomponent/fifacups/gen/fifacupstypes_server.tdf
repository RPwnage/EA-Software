// Defines the TDF classes used in the fifacups component. This is for server side only data
//  TDF classes are compiled with TypeComp, generating C++ classes that can be serialized in RPCs and Notifications.
//
// Note: see http://gos.online.ea.com/confluence/display/tech/Typecomp for info on the .tdf spec, as well as the compiler, TypeComp

[headername="fifacups/tdf/fifacupstypes.h"]
#include "fifacups/gen/fifacupstypes.tdf"

namespace Blaze
{
namespace FifaCups
{
	[tdfid = "hash", description="The configuration of a Seasonal Play Instance that is replicated to the slaves", trackChanges = true]
	class SeasonConfigurationServer
	{
	    [tag="sid", description="The seasonal play instance id"]
        SeasonId mSeasonId;
        
        [tag="mtyp", description="The type of Entity that can be a member of this seasonal play instance"]
        MemberType mMemberType;

        [tag="lgid", description="The clubs league id"]
        LeagueId mLeagueId;
               
        [tag="sprt", descripion="Stats category period type"]
        Blaze::Stats::StatPeriodType mStatPeriodtype;
        
        [tag="stmd", descripion="Stats mode for the season instance"]
        StatMode mStatMode;
        
        [tag="tid", description="The tournament id"]
        TournamentId mTournamentId;
        
        [tag="tmd", descripion="The tournament mode"]
        int32_t mTournamentMode;
         
        [tag="sdiv", description="starting division for the user"]
        int32_t mStartDivision;
        
        [tag="snam", description="The stats category associated with cups progression"]
        string(Blaze::Stats::STATS_CATEGORY_NAME_LENGTH) mStatCategoryName;
        
        [tag="cdur", description="cup period time duration"]
        TimeStamp mCupDuration;
        
        [tag="cupl", description="List of cups"]
        list<Cup> mCups;
		
        [tag="crxc", description = "Cups exception data"]
        list<CupRotationException> mRotationExceptions;		
		
        [tag="urta", description = "number of cups to rotate with"]
        uint32_t mRotatingCupsCount;
    };
	
	[tdfid = "hash", description="Stats period data for initiating end of season processing"]
	class EndOfSeasonRolloverData
	{
	    [tag="ptyp", description="The period type that's rolling over"]
	    Blaze::Stats::StatPeriodType mStatPeriodType;
	    
	    [tag="opid", description="The old period id"]
	    int32_t mOldPeriodId;
	    
	    [tag="npid", description="The new period id"]
	    int32_t mNewPeriodId;
	};
	
} // FifaCups
} // Blaze



