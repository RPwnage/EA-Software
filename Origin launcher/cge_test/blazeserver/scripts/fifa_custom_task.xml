<project>
  <!-- Copyright 2015 Electronic Arts Inc.  All rights reserved. -->

  <!-- run fifa custom tasks -->
  <target name="fifa_custom_pretasks">
	
	<dependent name="ActivePython"/>
	
	<sysinfo/>
    <!--echo message="Your operating system is: ${sys.env}"/-->

	<do if="${config-system} == unix64">
    <exec program="python" workingdir ="${package.dir}/tools/fifa_tools/" if="${config-system} == unix64" >		
		<args>
          <arg value="fifaCustomTask.py"/>
		  <arg value="PRE"/>
		  <arg value="${package.dir}/framework/"/>
		  <arg value="true"/>			  
		  <arg value="${package.dir}/tools/fifa_tools/"/>
		</args>	
	</exec>
	</do>
    
	<do if="${config-system} == pc64">
		<exec program="${package.ActivePython.dir}/installed/python" workingdir ="${package.dir}/tools/fifa_tools/" if="${config-system} == pc64" >		
			<args>
			<arg value="fifaCustomTask.py"/>
			<arg value="PRE"/>
			<arg value="${package.dir}/framework/"/>
			<arg value="false"/>		  
			<arg value="${package.dir}/tools/fifa_tools/"/>
			</args>	
		</exec>
	</do>
  </target>
  
  <target name="fifa_custom_posttasks">

  <dependent name="ActivePython"/>
	
	<do.once key="postbuildToolsDoOnceKey" blocking="true">
		<sysinfo/>
		<!--echo message="Your operating system is: ${sys.env}"/-->

		<do if="${config-system} == unix64">
			<exec program="python" workingdir ="${package.dir}/tools/fifa_tools/" if="${config-system} == unix64" >		
				<args>
				  <arg value="fifaCustomTask.py"/>
				  <arg value="POST"/>
				  <arg value="${package.dir}/framework/"/>
				  <arg value="true"/>	
				  <arg value="${package.dir}/tools/fifa_tools/"/>		  
				</args>	
			</exec>
		</do>
		
		<do if="${config-system} == pc64">
			<exec program="${package.ActivePython.dir}/installed/python" workingdir ="${package.dir}/tools/fifa_tools/" if="${config-system} == pc64" >		
				<args>
				  <arg value="fifaCustomTask.py"/>
				  <arg value="POST"/>
				  <arg value="${package.dir}/framework/"/>
				  <arg value="false"/>	
				  <arg value="${package.dir}/tools/fifa_tools/"/>		  
				</args>	
			</exec>
		</do>
	</do.once>
  </target>
</project>
