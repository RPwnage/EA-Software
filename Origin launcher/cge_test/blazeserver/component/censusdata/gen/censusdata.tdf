// (c) Electronic Arts. All Rights Reserved.

[headername="framework/tdf/censusdatatype.h"]
#include "framework/gen/censusdatatype.tdf" 

namespace Blaze
{
namespace CensusData
{
    [
        description = "A single item of the notification sent back from census data to client who subscribed to census data."
    ]
    class NotifyServerCensusDataItem
    {
        [tag="tdf", description="The variable Tdf containing the actual component-specific data"]
        variable mTdf;
    };
    

    [
        description = "A list of NotifyServerCensusDataItem's, used in the complete server notification."
    ]
    typedef list<NotifyServerCensusDataItem> NotifyServerCensusDataList;

    
    [
        description = "A complete notification sent back from census data to client who subscribed to census data."
    ]
    class NotifyServerCensusData
    {
        [tag="tdfl"] NotifyServerCensusDataList mCensusDataList;
        [tag="cnp"] TimeValue mCensusNotificationPeriod;
        [tag="ntmt"] TimeValue mNotificationTimeout;
        [tag="rtmt"] TimeValue mResubscribeTimeout;
    };

    [
        description = "The class used as response of getRegionCounts rpc to send number of users by regions back to client.",
        tdfid = "hash"
    ]
    class RegionCounts
    {
        [tag="cnou"] NumOfUsersByRegionMap mNumOfUsersByRegion;
    };

    class SubscribeToCensusDataUpdatesRequest
    {
        [tag="rsub", default=false, description="Whether this is an attempt to resubscribe. If true, the CENSUSDATA_ERR_PLAYER_ALREADY_SUBSCRIBED error will be suppressed."] 
        bool mResubscribe;
    };

    class SubscribeToCensusDataUpdatesResponse
    {
        [tag="cnp"] TimeValue mCensusNotificationPeriod;
        [tag="ntmt"] TimeValue mNotificationTimeout;
        [tag="rtmt"] TimeValue mResubscribeTimeout;
    };

} // CensusData
} // Blaze
