[ headername="pas/tdf/pas.h" ]
#include "pas/gen/pas.tdf"

namespace Blaze
{
namespace PAS
{

[
    id = core/1037,
    description = "Component used for access to the PAS 2.0 APIs",
    proxyOnly = true
]
component PAS
{
    errors
    {
        [ description = "Internal PAS server error (may also indicate an invalid request body)." ]
        PAS_ERR_INTERNAL = 500;
    }

    slave
    {
        methods
        {
            [
                id = 1,
                description = "Returns a port assignment range for a given blazeserver instance. If there is no existing assignment that satisfies the request, a new one is created.",
                requires_authentication = false,
                client_export = false,
                errortype = Error,
                errors = {
                    PAS_ERR_INTERNAL
                },
                http = {
                    status_code_errors = {
                        500 = PAS_ERR_INTERNAL
                    },
                    resource = "/pas/portassignments",
                    method = "POST",
                    contentType = "application/xml",
                    addEncodedPayload = true,
                    encodeEnumsAsStrings = true,
                    encodeBoolsAsTrueFalse = true
                }
            ]
            PortAssignment createOrFetchPortAssignment(PortAssignment);
        }
    }
}

} // namespace PAS
} // namespace Blaze