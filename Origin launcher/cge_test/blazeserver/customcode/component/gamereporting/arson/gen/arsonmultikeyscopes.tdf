[headername="gamereporting/tdf/gamereporting.h"]
#include "gamereporting/gen/gamereporting.tdf"

namespace Blaze
{
[usePtrOption=true]
namespace GameReporting
{

///////////////////////////////////////////////////////////////////////////////
//  ArsonClubKeyscopes style reports
//
//      Submitted report TDFs. 
namespace ArsonMultiKeyscopes
{

[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Weapon report",
    details = "Used by the player report to describe weapon usage"
]
class Weapon
{
    [tag="shot", description="Number of shots using this weapon"]
    uint16_t shotsFired;

    [tag="hits", description="Hits using this weapon"]
    uint16_t hits;
};


[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Player report",
    details = "Used by the ArsonMultiKeyscopes tests to represent a player within a report"
]
class PlayerReport
{
    [tag="weap", description="Player's points"]
    map<uint32_t, Weapon> weapons;    
};


[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Game Attributes",
    details = "Game-wide report data."
]
class GameAttributes
{
    [tag="lvl", description="Level"]
    uint16_t level;
};


[
    tdfid = "hash",
    tdfregistration = "explicit",
    description = "Report",
    details = "Used by the ArsonMultiKeyscopes tests to represent a report"
]
class Report
{
    [tag="game", description="Game Report"]
    GameAttributes gameAttrs;
    
    [tag="plyr", description="Player Reports"]
    map<GameManager::PlayerId, PlayerReport> playerReports;
};


}   // ArsonMultiKeyscopes

}   // GameReporting
}   // Blaze
