<!-- 
     (c) Electronic Arts. All Rights Reserved.
-->
<project xmlns="schemas/ea/framework3.xsd">

	<!-- Deprecated, use config-processor instead. Define this property to switch VisualStudio package into 64 bit mode-->
	<property name="package.VisualStudio.64bit" value="true"/>

	<!-- pointer size -->
	<property name="platform-ptrsize" value="64bit"/>
	<!-- registers size -->
	<property name="platform-wordsize" value="64bit"/>

	<include file="pc-vc-common.xml"/>

	<!-- For 64 bit configs need to put \VC\bin directory in path to have access to cvtres.exe file from linker-->
	<property name="build.env.PATH" value="${package.VisualStudio.appdir}\VC\BIN;${property.value}"/>

	<optionset name="config-options-common">
		<option name="preprocess"/>
		<option name="postprocess">
			pc64-vc-postprocess
		</option>
		<option name="buildset.link.options">
			${option.value}
			-machine:x64    <!-- specify target platform to ix86 -->
		</option>
		<option name="buildset.link.libraries">
			${option.value}
			${eaconfig.PlatformSDK.dir.lib}/WinMM.lib
			${eaconfig.PlatformSDK.dir.lib}/Gdi32.lib
			${eaconfig.PlatformSDK.dir.lib}/User32.lib
			${eaconfig.PlatformSDK.dir.lib}/advapi32.lib
		</option>
		<option name="multithreadeddynamiclib" value="on" if="${config-isTool??false} or ${config-isDll??false}"/>
	</optionset>

	<do if="${config-isTool??false}">
		<optionset name="config-options-common">
			<option name="rtti" value="on" />
			<option name="exceptions" value="on" />
			<option name="toolconfig" value="on" />
			<option name="buildset.cc.defines">
				@{OptionSetGetValue('config-options-common', 'buildset.cc.defines')}
				WIN32_LEAN_AND_MEAN
				VC_EXTRALEAN
				EA_TOOL
			</option>
		</optionset>
	</do>

	<!-- +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- -->
	<!-- +-+-  Visual Studio solution generation related data       -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- -->
	<!-- +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- -->
	<choose>
		<do if="${gdk.enabled??false}">
			<property name="visualstudio.platform.name" value="Gaming.Desktop.x64"/>
		</do>
		<do>
			<property name="visualstudio.platform.name" value="x64"/>
		</do>
	</choose>

</project>
