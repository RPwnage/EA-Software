<project>
    <property name="partialmodule" local="true" value="DCProgram"/>
    <property name="partialmodule" local="true" value="WinDCProgram" if="${config-system} == 'pc' or ${config-system} == 'pc64'"/>

    <Program name="gameserver" frompartial="${partialmodule}" outputdir="${package.dir}/GameServer/run">
        <headerfiles basedir="${package.dir}">
            <includes name="GameServer/source/*.h"/>
        </headerfiles>

        <sourcefiles basedir="${package.dir}">
            <includes name="GameServer/source/*.cpp"/>
            <includes name="GameServer/source/*.c" optionset="CFile"/>
        </sourcefiles>

        <includedirs>
            ${package.dir}/GameServer/source
        </includedirs>

        <dependencies>
            <auto>
                BlazeSDK
                DirtySDK
                EAAssert
                EABase
                EAStdC
                DirtyCast/eafn
                DirtyCast/shared
                DirtyCast/version
            </auto>
        </dependencies>

        <buildsteps>
            <run workingdir="${package.dir}/GameServer/run"/>
        </buildsteps>
    </Program>
</project>
