<project xmlns="schemas/ea/framework3.xsd">

  <compiler
    path="${package.kettlesdk.compiler??${cc}}"
    path-clanguage="${package.kettlesdk.c-compiler??${cc-clanguage??${cc}}}"
    version="${package.kettlesdk.compiler.version??package.kettlesdk.InstalledVersion}"
    >
    <common-defines>
      <!-- Always define EA_PLATFORM_PS4 so it is available even if EABase is not in use. -->
      EA_PLATFORM_PS4=1
      <!-- Backward compatibility. -->
      EA_PLATFORM_KETTLE=1
      <do if="${package.kettlesdk.crossgen.enabled??false}">
        EA_PLATFORM_PS4_CROSSGEN=1
      </do>
    </common-defines>
    <common-options>
      ${required_ps4_common_cc_options}
    </common-options>
    <system-includedirs>
      ${package.kettlesdk.includedirs??${cc.includedirs}}
    </system-includedirs>
    <template>
      <commandline>
        %defines%
        %includedirs%
        %system-includedirs%
        %options%
        -o "%objectfile%"     <!-- object file -->
        -c "%sourcefile%"     <!-- source file -->
      </commandline>
      <pch.commandline>
        %defines%
        %includedirs%
        %system-includedirs%
        %options%
        -o "%pchfile%"        <!-- pch file -->
        -c "%sourcefile%"     <!-- source file -->
      </pch.commandline>
      <define>-D %define%</define>
      <includedir>-I "%includedir%"</includedir>
      <!-- Need to make sure %system-includedir% is in unix path format -->
      <system-includedir>-isystem "%system-includedir%"</system-includedir>
    </template>
  </compiler>

  <assembler 
    path="${package.kettlesdk.assembler??${as}}"
    version="${package.kettlesdk.assembler.version??package.kettlesdk.InstalledVersion}"
    >
    <common-defines>
    </common-defines>
    <common-options>
      ${required_ps4_common_as_options}
      --MD "%dependencyfile%"
    </common-options>
    <system-includedirs>
      ${package.kettlesdk.includedirs??${as.includedirs}}
    </system-includedirs>
    <template>
      <commandline>
        %defines%
        %options%
        %includedirs%
        %system-includedirs%
        -o "%objectfile%"   <!-- object file -->
        "%sourcefile%"      <!-- source file -->
      </commandline>
      <define>--defsym %define%</define>
      <includedir>-I "%includedir%"</includedir>
      <system-includedir>-I "%includedir%"</system-includedir>
    </template>
  </assembler>

  <librarian
    path="${package.kettlesdk.archiver??${lib}}"
    version="${package.kettlesdk.archiver.version??package.kettlesdk.InstalledVersion}"
    >
    <common-options>
      -rs "%liboutputname%"
    </common-options>
    <template>
      <commandline>
        %options%
        %objectfiles%
      </commandline>
      <objectfile>"%objectfile%"</objectfile>
    </template>
  </librarian>

  <linker
    path="${package.kettlesdk.linker??${link}}"
    version="${package.kettlesdk.linker.version??package.kettlesdk.InstalledVersion}"
    >
    <common-options>
      ${required_ps4_common_link_options}
    </common-options>
    <system-librarydirs>
      ${package.kettlesdk.libdir??${link.librarydirs??}}
    </system-librarydirs>
    <system-libs>
      ${required_ps4_common_libs}
    </system-libs>
    <template>
      <commandline>
        %options%
        %objectfiles%
        %librarydirs%
        --start-group
        %libraryfiles%
        --end-group
      </commandline>
      <librarydir>-L"%librarydir%"</librarydir>
      <libraryfile>"%libraryfile%"</libraryfile>
      <objectfile>"%objectfile%"</objectfile>
    </template>
  </linker>

</project>
