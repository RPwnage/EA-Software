<project default="build">
  <package name="ModulesExample" />

  . . . .

  <!-- Define ProgramLibrary module - Using new "preferred" Structured XML Syntax -->
  <Library name="ProgramLibrary">
    <includedirs>
      ${package.dir}/include
    </includedirs>
    <sourcefiles>
      <includes name="${package.dir}/source/program_lib_1/*.cpp" />
    </sourcefiles>
  </Library>


  <!-- Define ProgramLibraryOldSyntax module - Using Old Style Syntax -->
  <property name="runtime.ProgramLibraryOldSyntax.buildtype" value="Library" />

  <property name="runtime.ProgramLibraryOldSyntax.includedirs" >
    ${package.dir}/include
  </property>

  <fileset name="runtime.ProgramLibraryOldSyntax.sourcefiles" >
    <includes name="${package.dir}/source/program_lib_2/*.cpp" />
  </fileset>


  <!-- Define test group's TestModule module - Using new Syntax -->
  <tests>
    <Program name="TestModule">
      <includedirs>
        ${package.dir}/include
      </includedirs>
      <sourcefiles>
        <includes name="${package.dir}/source/test_module_1/*.cpp" />
      </sourcefiles>
      <!-- Define dependencies between modules -->
      <dependencies>
        <auto>
          ModulesExample\runtime\ProgramLibrary
          ModulesExample\runtime\ProgramLibraryOldSyntax
          AnotherDependency
        </auto>
      </dependencies>
    </Program>
  </tests>


  <!-- Define test group's TestModuleOldStyle module - Using Old Style Syntax -->
  <property name="test.TestModuleOldStyle.buildtype" value="Program" />

  <property name="test.TestModuleOldStyle.includedirs" >
    ${package.dir}/include
  </property>

  <fileset name="test.TestModuleOldStyle.sourcefiles" >
    <includes name="${package.dir}/source/test_module_2/*.cpp" />
  </fileset>

  <!-- Define dependencies between modules - Using Old Style Syntax -->
  <property name="test.TestModuleOldStyle.runtime.moduledependencies">
    ProgramLibrary
    ProgramLibraryOldStyle
  </property>

  <property name="test.TestModuleOldStyle.builddependencies">
    AnotherDependency
  </property>


  <!-- Define what to build (This step is not necessary for new Structured SXML Syntax) -->
  <property name="runtime.buildmodules" >
    ${property.value}
    ProgramLibraryOldSyntax
  </property>

  <property name="test.buildmodules">
    ${property.value}
    TestModuleOldStyle
  </property>

</project>
