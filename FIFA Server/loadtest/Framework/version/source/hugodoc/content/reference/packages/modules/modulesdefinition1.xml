<project default="build">
  <package name="ModulesExample" />

  <!-- Define LibModule module - Using new "preferred" Structured XML Syntax -->
  <Library name="LibModule">
    <includedirs>
      ${package.dir}/include
    </includedirs>
    <sourcefiles>
      <includes name="${package.dir}/source/lib_module_1/*.cpp" />
    </sourcefiles>
  </Library>

  <!-- Define LibModuleOldSyntax module - Using Old Style Syntax -->
  <property name="runtime.LibModuleOldSyntax.buildtype" value="Library" />
  <property name="runtime.LibModuleOldSyntax.includedirs" >
    ${package.dir}/include
  </property>
  <fileset name="runtime.LibModuleOldSyntax.sourcefiles" >
    <includes name="${package.dir}/source/lib_module_2/*.cpp" />
  </fileset>
  <!-- Add this module to .buildmodules list (This step is not necessary for new Structured SXML Syntax) -->
  <property name="runtime.buildmodules" >
    ${property.value}
    LibModuleOldSyntax
  </property>


  <!-- Define ProgramModule module - Using new "preferred" Structured XML Syntax -->
  <Program name="ProgramModule">
    <includedirs>
      ${package.dir}/include
    </includedirs>
    <sourcefiles>
      <includes name="${package.dir}/source/program_module_1/*.cpp" />
    </sourcefiles>
    <!-- Define dependencies between modules -->
    <dependencies>
      <auto>
        ModulesExample/LibModule
        ModulesExample/LibModuleOldSyntax
      </auto>
    </dependencies>
  </Program>


  <!-- Define ProgramModuleOldSyntax module - Using Old Style Syntax -->
  <property name="runtime.ProgramModuleOldSyntax.buildtype" value="Program" />
  <property name="runtime.ProgramModuleOldSyntax.includedirs" >
    ${package.dir}/include
  </property>
  <fileset name="runtime.ProgramModuleOldSyntax.sourcefiles" >
    <includes name="${package.dir}/source/program_module_2/*.cpp" />
  </fileset>
  <!-- Define dependencies between modules (Old Syntax) -->
  <property name="runtime.ProgramModuleOldSyntax.runtime.moduledependencies">
    LibModule
    LibModuleOldSyntax
  </property>
  <!-- Add this module to .buildmodules list (This step is not necessary for new Structured SXML Syntax) -->
  <property name="runtime.buildmodules" >
    ${property.value}
    ProgramModuleOldSyntax
  </property>


</project>
