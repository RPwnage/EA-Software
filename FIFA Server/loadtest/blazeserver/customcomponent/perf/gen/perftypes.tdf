// Defines the TDF classes used in the perf component.
//  TDF classes are compiled with TypeComp, generating C++ classes that can be serialized in RPCs and Notifications.
//
// Note: see http://gos.online.ea.com/confluence/display/tech/Typecomp for info on the .tdf spec, as well as the compiler, TypeComp

namespace Blaze
{
namespace Perf
{
[
    description = "The request object for perf commands.",
    details = "This is to measure various performance metrics."
]

// Heartbeat/module heartbeat/detection data.
class PingRequest
{
    [tag="data", description="Data for ping."]
    blob mData;
};

// Enable/disable request data (clientJoinGame/clientLeaveGame in backend's term).
class PerfTuneRequest
{
	[tag="enbl", description="Data for perf tune response."]
    bool mEnable;

    // a reason code for enabling for data team to use (game specific)
    [tag="flot", description="The game flow we are tuning performance for."]
    int32_t mFlowType;
    
    // a unique ID to associate with other logs (game specific)
    [tag="flod", description="ID to identify the instance of the flow we are tuning performance for."]
    string(40) mFlowId;
};

// Heartbeat response from backend.
class NotifyPingResponse
{
    [tag="data", description="Data for ping response."]
    blob mData;
};

// Heartbeat response from backend.
class NotifyPerfTuneResponse
{
    [tag="enbl", description="Data for perf tune response."]
    bool mEnable;
};

} // Perf
} // Blaze
