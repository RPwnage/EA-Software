/*! ************************************************************************************************/
/*!
    \file messagingevents_server.tdf

    \attention
        (c) Electronic Arts. All Rights Reserved.
*/
/*! ************************************************************************************************/
[headername="framework/tdf/userdefines.h"]
#include "framework/gen/userdefines.tdf"

[headername="messaging/tdf/messagingtypes.h"]
#include "messaging/gen/messagingtypes.tdf"

namespace Blaze
{
namespace Messaging
{
[
    description = "Message sent event object.",
    details = "Used when sendmessage rpc is triggered)."
]
class MessageSent
{
    [tag="gbl", default=false, description="Global message event."]
    bool mGlobal;
    
    [tag="id", description="Blaze id of message sender."]
    BlazeId mSenderId;
    
    [tag="srcn", description="Identity name of message sender."] 
    BlazeObjectTypeName mSenderName;
    
    [tag="srct", description="Identity type of message sender."] 
    EntityTypeName mSenderType;
    
    [tag="targ", description="Initial target of message."]
    ObjectId mTarget;
    
    [tag="ttyp", description="Used to specify the entity type of target entity ids."]
    ObjectType mTargetType;
    
    [tag="tids", description="Used to specify message target entity ids.", allowref=true]
    TargetIdList mTargetIds;
    
    [tag="rlst", description="Blaze id list of recipients."]
    BlazeIdList mRecipientList;
    
    [tag="pset", description="Persistent settings from request."] 
    bool mPersistent;
    
    [tag="msub", description="Subject of the message."] 
    AttrValue  mMsgSubject;
    
    [tag="mbdy", description="Body of the message."]
    AttrValue  mMsgBody;
    
    [tag="attr", description="Attribute map (Blaze and/or Sender defined attributes).", allowref=true]
    MessageAttrMap mAttrMap;
    
    [tag="time", description="Message timestamp."]
    Timestamp mTimestamp;   
};
} // Messaging
} // Blaze
